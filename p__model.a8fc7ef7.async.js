"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9858],{14950:function(de,z,m){m.d(z,{T:function(){return _},W:function(){return A}});var K=m(48651),D=m.n(K),$=m(38046),P=m.n($),ne=m(68591),Z=m.n(ne),te=m(99095),W=m(83048),ae=m(19890),O=m(63342),r=["className","children"],k=["className","children"];function A(M){var V=M.className,Q=M.children,e=P()(M,r),se=(0,te.dD)();return(0,O.jsxs)("div",{className:"relative flex flex-col flex-1 w-full min-h-fit bg-gray-16 ",children:[se?(0,O.jsxs)("div",{className:"absolute z-0 top-0 w-full h-[43rem] overflow-hidden bg-green-2 ",children:[(0,O.jsx)("img",{className:"absolute bottom-0 right-0 object-cover w-full",src:"/home-bg-r.jpg"}),(0,O.jsx)("div",{className:"w-full h-full absolute ssm:top-[calc(21.5rem_-_75vw)]",style:{background:"linear-gradient(180deg, #29953A 48.84%, rgba(34, 122, 48, 0) 96.76%)"}})]}):(0,O.jsxs)("div",{className:"absolute z-0 top-0 w-full h-[48.75rem] bg-green-2 overflow-hidden ",children:[(0,O.jsx)("img",{className:"absolute top-0 right-0 object-cover h-full",src:"/home-bg-r.jpg"}),(0,O.jsx)("div",{className:"w-full h-full absolute lg:left-[calc(50%_-_45rem)]",style:{background:"linear-gradient(182.16deg, #000000 -4.66%, rgba(0, 0, 0, 0) 17.13%)",transform:"matrix(-1, 0, 0, 1, 0, 0)"}}),(0,O.jsx)("div",{className:"w-full h-full absolute lg:left-[calc(50%_-_45rem)]",style:{background:"linear-gradient(270deg, #29953A 38.28%, rgba(34, 122, 48, 0) 77.8%)",transform:"matrix(-1, 0, 0, 1, 0, 0)"}})]}),(0,O.jsx)(W.uN,{}),(0,O.jsx)("div",D()(D()({className:Z()("z-[2] flex-1 relative w-full mx-auto mo:mx-0 mo:flex mo:flex-col",V)},e),{},{children:Q}))]})}function _(M){var V=M.className,Q=M.children,e=P()(M,k);return(0,ae.Z)("AICP",{restoreOnUnmount:!0}),(0,O.jsxs)("div",D()(D()({},e),{},{className:Z()("relative flex flex-col flex-1 w-full min-h-fit",V),children:[(0,O.jsx)(W.h4,{}),Q]}))}},11e3:function(de,z,m){m.d(z,{I:function(){return r},g:function(){return O}});var K=m(48651),D=m.n(K),$=m(38046),P=m.n($),ne=m(68591),Z=m.n(ne),te=m(26082),W=m(63342),ae=["className","color","size"];function O(k){var A=k.className,_=k.color,M=k.size,V=M===void 0?"":M,Q=P()(k,ae);return(0,W.jsx)("div",D()(D()({},Q),{},{className:Z()("text-black w-full h-full flex items-center justify-center",A),children:(0,W.jsx)(te.uur,{color:_,style:V?{fontSize:V}:{},className:"text-[3.125rem] animate-spin"})}))}function r(){return(0,W.jsx)(O,{className:"fixed z-50 left-0 top-0 w-full !h-full bg-black/25"})}},81920:function(de,z,m){m.d(z,{o:function(){return D}});var K=m(79685);function D(){var $=(0,K.useRef)(!0);return(0,K.useEffect)(function(){return $.current=!0,function(){$.current=!1}},[]),$}},20145:function(de,z,m){m.r(z),m.d(z,{default:function(){return yn}});var K=m(70300),D=m.n(K),$=m(86516),P=m.n($),ne=m(14950),Z=m(11e3),te=m(22786),W=m.n(te),ae=m(48651),O=m.n(ae),r=function(n){return n.PRODUCT_SYSTEM="PRODUCT_SYSTEM",n.PROCESS="PROCESS",n.FLOW="FLOW",n.EPD="EPD",n.IMPACT_METHOD="IMPACT_METHOD",n.IMPACT_CATEGORY="IMPACT_CATEGORY",n.SOCIAL_INDICATOR="SOCIAL_INDICATOR",n.PARAMETER="PARAMETER",n.DQ_SYSTEM="DQ_SYSTEM",n.FLOW_PROPERTY="FLOW_PROPERTY",n.UNIT_GROUP="UNIT_GROUP",n.CURRENCY="CURRENCY",n.ACTOR="ACTOR",n.SOURCE="SOURCE",n.LOCATION="LOCATION",n}({}),k=m(68591),A=m.n(k),_=m(79685),M=m(26082),V=m(97056),Q=m(39079),e=m(63342),se=20,_e=(0,_.createContext)(void 0);function ue(){return(0,_.useContext)(_e)}function Ne(n){var t=(0,_.useState)([]),a=P()(t,2),o=a[0],l=a[1],i=(0,_.useState)(),s=P()(i,2),u=s[0],c=s[1],f=(0,_.useCallback)(function(v){o.find(function(p){return p===v})||(o.length>=se?l([v].concat(o.slice(0,se-1))):l([v].concat(D()(o)))),c(v)},[o,u]),d=(0,_.useCallback)(function(v){var p=o.filter(function(h){return h!==v});l(p),p.find(function(h){return h===u})||c(p[0])},[o,u]);return(0,e.jsx)(_e.Provider,{value:{navs:o,add:f,del:d,active:u,setActive:c},children:n.children})}var fe=(0,_.createContext)({descriptores:{}}),Se=m(5677),x=m.n(Se),C=m(68717),me=m(22798),he=m(43159),le=m(79013),ge=m(74136),ye=m(95713),g,De={Icon:he.G3d,color:"#9C27B0",needFixColor:!0},Ae=(g={},x()(g,r.PRODUCT_SYSTEM,{Icon:C.TdV,color:"#1565C0"}),x()(g,r.FLOW,{Icon:me.nbt,color:"#0084FF"}),x()(g,r.FLOW_PROPERTY,{Icon:le.KOr,color:"#CE6D2F"}),x()(g,r.UNIT_GROUP,{Icon:ge.YvB,color:"#1D4F64"}),x()(g,r.ACTOR,{Icon:C.Xws,color:"#556164"}),x()(g,r.SOURCE,{Icon:C.uYZ,color:"#556164"}),x()(g,r.LOCATION,{Icon:C.Nh4,color:"#556164"}),x()(g,r.DQ_SYSTEM,{Icon:le.USG,color:"#3A8772"}),x()(g,r.IMPACT_METHOD,{Icon:le.MnU,color:"#69B13E"}),x()(g,r.IMPACT_CATEGORY,{Icon:le.eG4,color:"#69B13E"}),x()(g,"folder-".concat(r.PRODUCT_SYSTEM),{Icon:C.$nz,color:"#1565C0"}),x()(g,"folder-".concat(r.PROCESS),{Icon:C.$nz,color:"#9C27B0"}),x()(g,"folder-".concat(r.FLOW),{Icon:C.$nz,color:"#CE6D2F"}),x()(g,"folder-".concat(r.FLOW_PROPERTY),{Icon:C.$nz,color:"#CE6D2F"}),x()(g,"folder-".concat(r.EPD),{Icon:C.$nz,color:"#21C393"}),x()(g,"folder-".concat(r.IMPACT_METHOD),{Icon:C.$nz,color:"#69B13E"}),x()(g,"folder-".concat(r.IMPACT_CATEGORY),{Icon:C.$nz,color:"#69B13E"}),x()(g,"folder-".concat(r.SOCIAL_INDICATOR),{Icon:C.$nz,color:"#EA9119"}),x()(g,"folder-".concat(r.DQ_SYSTEM),{Icon:C.$nz,color:"#37997D"}),x()(g,"folder-".concat(r.PARAMETER),{Icon:C.$nz,color:"#C60116"}),x()(g,"folder-".concat(r.UNIT_GROUP),{Icon:C.$nz,color:"#2F363A"}),x()(g,"folder-".concat(r.CURRENCY),{Icon:C.$nz,color:"#22614E"}),x()(g,"folder-".concat(r.ACTOR),{Icon:C.$nz,color:"#3388AF"}),x()(g,"folder-".concat(r.SOURCE),{Icon:C.$nz,color:"#577889"}),x()(g,"folder-".concat(r.LOCATION),{Icon:C.$nz,color:"#173855"}),x()(g,"folder-Indicators and parameters",{Icon:C.Mp$,color:"#556164"}),x()(g,"folder-Background data",{Icon:ge.owA,color:"#999999"}),x()(g,"PRODUCT_FLOW",{Icon:me.nbt,color:"#0084FF"}),x()(g,"ELEMENTARY_FLOW",{Icon:ye.jRM,color:"#2F5F39"}),x()(g,"WASTE_FLOW",{Icon:ye.SW4,color:"#9C462E"}),g);function ve(n){var t=Ae[n.type]||De,a=t.Icon,o=t.color,l=t.needFixColor;return(0,e.jsx)(a,{color:o,className:A()(n.className,{fixGrColor:l})})}var Me=m(81920),je=m(54916),oe=m(81123),be=m(52878),we=m.n(be);function Ce(n){return n.data?(0,e.jsx)(we(),{src:n.data,collapsed:2}):null}function q(n){var t=n.map,a=n.data,o=Object.keys(t),l=(0,_.useState)(o[0]),i=P()(l,2),s=i[0],u=i[1],c=t[s].json,f=c?null:t[s];return(0,e.jsxs)("div",{className:"flex-1 flex flex-col h-0",children:[(0,e.jsx)("div",{className:"h-[calc(100%-34px)] flex-1 flex flex-col overflow-auto p-5 gap-5",children:f?(0,e.jsx)(f,{data:a}):(0,e.jsx)(Ce,{data:c})}),(0,e.jsxs)("div",{className:"flex flex-shrink-0 overflow-x-auto",children:[o.map(function(d,v){return(0,e.jsx)("div",{onClick:function(){return u(d)},className:A()("leading-[34px] text-sm px-[10px] border border-solid border-gray-14 cursor-pointer whitespace-nowrap",{"text-green-2 border-transparent":d===s,"text-black":d!==s}),children:d},"type_tab_".concat(v))}),(0,e.jsx)("div",{className:"flex-1 border border-solid border-gray-14"})]})]})}var Pe=m(12239);function E(n){var t=n.infos,a=n.title,o=(0,Pe.Z)(!0),l=P()(o,2),i=l[0],s=l[1];return(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("div",{className:"flex items-center  font-bold cursor-pointer text-lg text-black",onClick:function(){return s()},children:[a,i?(0,e.jsx)(C.IkZ,{className:"text-2xl "}):(0,e.jsx)(C.qL$,{className:"text-2xl"})]}),i&&(0,e.jsx)("div",{className:"mt-3 grid grid-cols-[auto_1fr] gap-x-5 gap-y-[10px] text-sm text-black",children:t.map(function(u,c){var f=!u.length;if(f)return(0,e.jsx)("div",{className:"col-span-2",children:u},"infomation_".concat(c));var d=u,v=P()(d,2),p=v[0],h=v[1];return(0,e.jsxs)(_.Fragment,{children:[(0,e.jsx)("div",{className:"font-bold",children:p}),(0,e.jsx)("div",{className:"whitespace-pre-wrap",children:h||"none"})]},"infomation_".concat(c))})})]})}function N(){return(0,e.jsx)("div",{className:"w-full h-[6px] flex-shrink-0 bg-gray-16"})}function y(n){var t=n.type,a=n.name,o=n.def,l=o===void 0?"":o;return a?t?(0,e.jsxs)("div",{className:"flex items-center gap-1",children:[(0,e.jsx)(ve,{type:t}),a]}):(0,e.jsx)(e.Fragment,{children:a}):(0,e.jsx)(e.Fragment,{children:l})}var R,Te=(R={},x()(R,r.PRODUCT_SYSTEM,"Product systems"),x()(R,r.PROCESS,"Processes"),x()(R,r.FLOW,"Flows"),x()(R,r.EPD,"EPDs"),x()(R,r.IMPACT_METHOD,"Impact assessment methods"),x()(R,r.IMPACT_CATEGORY,"Impact categories"),x()(R,r.SOCIAL_INDICATOR,"Social indicators"),x()(R,r.PARAMETER,"Global parameters"),x()(R,r.DQ_SYSTEM,"Data quality systems"),x()(R,r.FLOW_PROPERTY,"Flow properties"),x()(R,r.UNIT_GROUP,"Unit groups"),x()(R,r.CURRENCY,"Currencies"),x()(R,r.ACTOR,"Actors"),x()(R,r.SOURCE,"Sources"),x()(R,r.LOCATION,"Locations"),R);function Fe(n){return n?n==="PRODUCT_FLOW"?"Product":n==="ELEMENTARY_FLOW"?"Elementary flow":"Waste":""}function ce(n){if(!n)return"none";var t=n.parameter1,a=n.parameter2,o=n.parameter3;switch(n.distributionType){case"LOG_NORMAL":return"lognormal: gmean=".concat(t," gsigma=").concat(a);case"NORMAL":return"normal: mean=".concat(t," sigma=").concat(a);case"UNIFORM":return"uniform: min=".concat(t," max=").concat(a);case"TRIANGLE":return"triangular: min=".concat(t," mode=").concat(a," max=").concat(o);default:return"none"}}function G(n){if(!n)return"";var t=function a(o,l){if(!l||!l.name)return o;var i=o?l.name+"/"+o:l.name;return l.category?a(i,l.category):i};return t("",n)}function Le(n){var t,a,o,l,i,s,u,c,f,d=n.data;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E,{title:"General information",infos:[["Name",d.name],["Category",(0,e.jsx)(y,{type:"folder-".concat(r.PROCESS),name:G(d.category),def:"none"},"info_2")],["Description",d.description||""],["Tags",d.tags||""],["Infrastructure process",d.infrastructureProcess?"true":"false"]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Time",infos:[["Start date",(0,oe.pv)((t=d.documentation)===null||t===void 0?void 0:t.validFrom)],["End date",(0,oe.pv)((a=d.documentation)===null||a===void 0?void 0:a.validUntil)],["Description",((o=d.documentation)===null||o===void 0?void 0:o.time)||""]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Geography",infos:[["Location",((l=d.location)===null||l===void 0?void 0:l.name)||"none"],["Description",((i=d.documentation)===null||i===void 0?void 0:i.geography)||""]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Technology",infos:[["Description",((s=d.documentation)===null||s===void 0?void 0:s.technology)||""]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Data quality",infos:[["Process schema",((u=d.location)===null||u===void 0?void 0:u.name)||"none"],["Data quality entry",d.dqEntry||"(not specified)"],["Flow schema",((c=d.exchangeDqSystem)===null||c===void 0?void 0:c.name)||"none"],["Social schema",((f=d.socialDqSystem)===null||f===void 0?void 0:f.name)||"none"]]})]})}var Oe=m(97207),X=m.n(Oe);function Ue(n){var t=n.head,a=n.className,o=n.infos;return(0,e.jsxs)("div",{style:{gridTemplateColumns:"repeat(".concat(t.length,", auto)")},className:A()("grid text-sm text-black overflow-x-auto",a),children:[t.map(function(l,i){return(0,e.jsx)("div",{className:"px-3 py-2 font-bold text-sm whitespace-nowrap",children:l},"head_"+i)}),o.map(function(l,i){return(0,e.jsx)(_.Fragment,{children:l.map(function(s,u){return(0,e.jsx)("div",{className:A()("text-xs leading-normal px-3 py-[1px] whitespace-nowrap",{"bg-gray-16":i%2===0,"rounded-l-[4px]":u===0,"rounded-r-[4px]":u===l.length-1}),children:s},"body_col_"+u)})},"body_row_"+i)})]})}function L(n){var t=n.infos,a=n.title,o=n.head,l=n.className,i=(0,Pe.Z)(!0),s=P()(i,2),u=s[0],c=s[1];return(0,e.jsxs)("div",{className:l,children:[(0,e.jsxs)("div",{className:"flex items-center font-bold  cursor-pointer text-lg text-black",onClick:function(){return c()},children:[a,u?(0,e.jsx)(C.IkZ,{className:"text-2xl "}):(0,e.jsx)(C.qL$,{className:"text-2xl"})]}),u&&(0,e.jsx)(Ue,{head:o,infos:t,className:"mt-3"})]})}var Ee=["Flow","Category","Amount","Unit","Costs/Revenuse","Uncertainty","Avoided waste","Provider","Data quality entry","Location","Description"];function $e(n){var t=n.data,a=(0,_.useContext)(fe),o=a.descriptores,l=(0,_.useMemo)(function(){var c=[],f=[],d=X().chain(o[r.PROCESS]).values().flatten().keyBy("id").value()||{};return t.exchanges.forEach(function(v,p){var h,j,Y,J,F=d[v.defaultProviderId];(v.isInput?c:f).push([(0,e.jsx)(y,{type:((h=v.flow)===null||h===void 0?void 0:h.flowType)||r.FLOW,name:v.flow.name},"exchanges_".concat(p,"_1")),G((j=v.flow)===null||j===void 0?void 0:j.category),v.amount,(0,e.jsx)(y,{type:r.UNIT_GROUP,name:(Y=v.unit)===null||Y===void 0?void 0:Y.name},"exchanges_".concat(p,"_2")),"",ce(v.uncertainty),"",(0,e.jsx)(y,{type:r.PROCESS,name:F==null?void 0:F.name},"exchanges_".concat(p,"_3")),v.dqEntry||"",((J=v.location)===null||J===void 0?void 0:J.name)||"",v.description||""])}),[c,f]},[t,o]),i=P()(l,2),s=i[0],u=i[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(L,{title:"Inputs",head:Ee,infos:s}),(0,e.jsx)(N,{}),(0,e.jsx)(L,{title:"Outputs",head:Ee,infos:u})]})}function We(n){var t,a,o,l,i,s,u,c,f,d,v,p,h=n.data;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E,{title:"Administrative infomation",infos:[["Intended application",((t=h.documentation)===null||t===void 0?void 0:t.intendedApplication)||""],["Data set owner",(0,e.jsx)(y,{def:"none",type:r.ACTOR,name:(a=h.documentation)===null||a===void 0||(o=a.dataSetOwner)===null||o===void 0?void 0:o.name},1)],["Data generator",(0,e.jsx)(y,{def:"none",type:r.ACTOR,name:(l=h.documentation)===null||l===void 0||(i=l.dataGenerator)===null||i===void 0?void 0:i.name},2)],["Data documentor",(0,e.jsx)(y,{def:"none",type:r.ACTOR,name:(s=h.documentation)===null||s===void 0||(u=s.dataDocumentor)===null||u===void 0?void 0:u.name},3)],["Publication",(0,e.jsx)(y,{def:"none",type:r.SOURCE,name:(c=h.documentation)===null||c===void 0||(f=c.publication)===null||f===void 0?void 0:f.name},4)||""],["Access and use restrictions",((d=h.documentation)===null||d===void 0?void 0:d.restrictions)||""],["Creation date",(0,oe.pv)((v=h.documentation)===null||v===void 0?void 0:v.creationDate)],["Copyright ",(p=h.documentation)!==null&&p!==void 0&&p.copyright?"true":"false"]]})})}function Ge(n){var t,a,o,l,i,s,u,c,f,d,v,p=n.data;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E,{title:"Modeling and validation",infos:[["Process type",(0,e.jsx)(y,{type:r.PROCESS,name:p.processType},1)],["LCI method",((t=p.documentation)===null||t===void 0?void 0:t.inventoryMethod)||""],["Modeling constants",((a=p.documentation)===null||a===void 0?void 0:a.modelingConstants)||""],["Data completeness",((o=p.documentation)===null||o===void 0?void 0:o.completeness)||""],["Data selection",((l=p.documentation)===null||l===void 0?void 0:l.dataSelection)||""],["Data treatment",((i=p.documentation)===null||i===void 0?void 0:i.dataTreatment)||""]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Data source infomation",infos:[["Simpling procedure",((s=p.documentation)===null||s===void 0?void 0:s.sampling)||""],["Data collection period",((u=p.documentation)===null||u===void 0?void 0:u.dataCollectionPeriod)||""]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Process evaluation and validation",infos:[["Reviewer",((c=p.documentation)===null||c===void 0||(f=c.reviewer)===null||f===void 0?void 0:f.name)||""],["Data set other evaluation",((d=p.documentation)===null||d===void 0?void 0:d.reviewDetails)||""]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Sources",infos:[(0,e.jsx)("div",{className:"flex flex-col px-3",children:(((v=p.documentation)===null||v===void 0?void 0:v.sources)||[]).map(function(h,j){return(0,e.jsx)(y,{type:r.SOURCE,name:h.name},"source_".concat(j))})},1)]})]})}function Ye(n){var t=n.data,a=(0,_.useMemo)(function(){var s=X().chain(t.parameters||[]).sortBy("name").groupBy(function(f){return f.isInputParameter?"input":"depend"}).value(),u=(s.input||[]).map(function(f){return[f.name||"",f.value||"",ce(f.uncertainty),f.description||""]}),c=(s.depend||[]).map(function(f){return[f.name||"",f.formula||"",f.value||"",f.description||""]});return[u,c]},[t]),o=P()(a,2),l=o[0],i=o[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(L,{title:"Input parameters",head:["Name","Value","Uncertainty","Description"],infos:l}),(0,e.jsx)(N,{}),(0,e.jsx)(L,{title:"Dependent parameters",head:["Name","Formula","Value","Description"],infos:i})]})}function Be(n){if(!n||n.isAvoided||!n.flow)return!1;var t=n.flow.flowType;return!t||t==="ELEMENTARY_FLOW"?!1:t==="PRODUCT_FLOW"!==n.isInput}function ze(n){var t=n.data,a=(0,_.useMemo)(function(){var s=X().groupBy(t.exchanges||[],function(d){return Be(d)?"true":"false"}),u=s.true.length<2;if(u)return[[],[]];var c=s.true.map(function(d){var v,p;return[(0,e.jsx)(y,{type:((v=d.flow)===null||v===void 0?void 0:v.flowType)||r.FLOW,name:(p=d.flow)===null||p===void 0?void 0:p.name},1),"",""]}),f=s.false.map(function(d){var v,p,h,j;return[(0,e.jsx)(y,{type:((v=d.flow)===null||v===void 0?void 0:v.flowType)||r.FLOW,name:(p=d.flow)===null||p===void 0?void 0:p.name},1),d.isInput?"Input":"Output",G((h=d.flow)===null||h===void 0?void 0:h.category),d.amount+""+((j=d.unit)===null||j===void 0?void 0:j.name),"",""]});return[c,f]},[t]),o=P()(a,2),l=o[0],i=o[1];return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex gap-6 text-sm",children:[(0,e.jsx)("div",{className:"font-bold",children:"Default method"}),(0,e.jsx)("div",{children:"None"})]}),(0,e.jsx)(L,{title:"Pyhsical & economic allocation",head:["Product","Physical","Economic"],infos:l}),(0,e.jsx)(N,{}),(0,e.jsx)(L,{title:"Causal allocation",head:["Flow","Direction","Category","Amount","Overburden(deposited)","transport in t*km"],infos:i})]})}function Ke(n){var t=n.data,a=n.json;return(0,e.jsx)(q,{map:{"General information":Le,"Inputs/Outputs":$e,"Administrative information":We,"Modeling and validation":Ge,Parameters:Ye,Allocation:ze},data:t})}function ke(n){var t,a,o,l,i=n.data,s=(t=i.referenceExchange)===null||t===void 0?void 0:t.flow;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E,{title:"General information",infos:[["Name",i.name],["Category",(0,e.jsx)(y,{type:"folder-".concat(r.PRODUCT_SYSTEM),name:G(i.category),def:"none"},"info_2")],["Description",i.description],["Tags",i.tags||""]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Reference",infos:[["Process",(0,e.jsx)(y,{type:r.PROCESS,name:(a=i.referenceProcess)===null||a===void 0?void 0:a.name,def:"none"},"ref_process")],["Product",(0,e.jsx)(y,{type:(s==null?void 0:s.flowType)==="PRODUCT_FLOW"?r.PRODUCT_SYSTEM:"",name:s==null?void 0:s.name,def:"none"},"ref_product")],["Flow property",(0,e.jsx)(y,{type:r.FLOW_PROPERTY,name:s==null||(o=s.referenceFlowProperty)===null||o===void 0?void 0:o.name,def:"none"},"ref_flow_pro")],["Unit",(0,e.jsx)(y,{type:r.UNIT_GROUP,name:s==null||(l=s.referenceUnit)===null||l===void 0?void 0:l.name,def:"none"},"ref_unit")],["Target amount",i.targetAmount+""]]})]})}function Ve(n){var t=n.data,a=(0,_.useContext)(fe),o=a.descriptores,l=(0,_.useMemo)(function(){var i,s=(i=t.parameterSets)===null||i===void 0?void 0:i.find(function(f){return f.isBaseline});s||(s={name:"Baseline",description:"",parameters:[]});var u=X().sortBy((t.parameterSets||[]).filter(function(f){return f!==s}),["isBaseline","name"]),c=function(d,v){return X().chain(o[d]).values().flatten().find(function(p){return p.id===v}).value};return[s].concat(u).map(function(f){return{name:f.name,description:f.description,head:["Context","Parameter","Amount","Uncertainty","Description"],infos:(f.parameters||[]).map(function(d){var v;return[((v=c(d.contextType,d.contextId))===null||v===void 0?void 0:v.name)||"",d.name||"",d.value||"",ce(f.uncertainty),d.description||""]})}})},[t]);return(0,e.jsx)(e.Fragment,{children:l.map(function(i,s){return(0,e.jsxs)(_.Fragment,{children:[s>0&&(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:i.name,infos:[["Name",i.name],["Description",i.description],(0,e.jsx)(L,{className:"ml-5",title:"Parameters",head:i.head,infos:i.infos},1)]})]},"parameter_".concat(s))})})}function He(n){var t=n.data;return(0,e.jsx)(q,{map:{"General information":ke,Parameters:Ve},data:t})}function Ze(n){var t,a=n.data;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E,{title:"General information",infos:[["Name",a.name],["Category",(0,e.jsx)(y,{type:"folder-".concat(r.FLOW),name:G(a.category),def:"none"},"info_2")],["Description",a.description||""],["Tags",a.tags||""],["Flow type",(0,e.jsx)(y,{type:a.flowType,name:Fe(a.flowType)},1)],["Infrastructure flow",a.infrastructureFlow?"true":"false"]]}),(0,e.jsx)(N,{}),(0,e.jsx)(E,{title:"Additional information",infos:[["CAS Number",a.casNumber||"none"],["Formula",a.formula||"none"],["Synonyms",a.synonyms||"none"],["Location",((t=a.location)===null||t===void 0?void 0:t.name)||"none"]]})]})}function Qe(n){var t=n.data,a=(0,_.useMemo)(function(){var o=function(i){var s,u,c,f,d=t.referenceFactor,v=d==null||(s=d.flowProperty)===null||s===void 0||(u=s.unitGroup)===null||u===void 0?void 0:u.referenceUnit,p=i==null||(c=i.flowProperty)===null||c===void 0||(f=c.unitGroup)===null||f===void 0?void 0:f.referenceUnit;return!v||!p?"":"1.0 ".concat(v.name," = ").concat(i.conversionFactor," ").concat(p.name)};return t.flowPropertyFactors.map(function(l){var i,s,u,c;return[(0,e.jsx)(y,{type:r.FLOW_PROPERTY,name:((i=l.flowProperty)===null||i===void 0?void 0:i.name)||""},1),l.conversionFactor+"",(0,e.jsx)(y,{type:r.UNIT_GROUP,name:((s=l.flowProperty)===null||s===void 0||(u=s.unitGroup)===null||u===void 0||(c=u.referenceUnit)===null||c===void 0?void 0:c.name)||""},2),o(l),t.referenceFactor===l?"true":"false"]})},[t]);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(L,{title:"Flow properties",head:["Name","Conversion factor","Reference unit","Formula","Is reference"],infos:a},1)})}function Xe(n){var t=n.data,a=n.json;return(0,e.jsx)(q,{map:{"General information":Ze,"Flow properties":Qe},data:t})}function Je(n){var t,a=n.data;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E,{title:"General information",infos:[["Name",a.name],["Category",(0,e.jsx)(y,{type:"folder-".concat(r.FLOW_PROPERTY),name:G(a.category),def:"none"},"info_2")],["Description",a.description||""],["Tags",a.tags||""],["Unit group",(0,e.jsx)(y,{type:r.UNIT_GROUP,name:(t=a.unitGroup)===null||t===void 0?void 0:t.name},1)],["Flow property type",a.flowPropertyType]]})})}function qe(n){var t=n.data;return(0,e.jsx)(q,{map:{"General infomation":Je},data:t})}function en(n){var t,a=n.data;return(0,_.useMemo)(function(){},[a]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E,{title:"General information",infos:[["Name",a.name],["Category",(0,e.jsx)(y,{type:"folder-".concat(r.IMPACT_METHOD),name:G(a.category),def:"none"},"info_2")],["Description",a.description||""],["Tags",a.tags||""],["Source",(0,e.jsx)(y,{type:r.SOURCE,name:(t=a.source)===null||t===void 0?void 0:t.name,def:"none"},1)],["Code",a.code||""]]}),(0,e.jsx)(N,{}),(0,e.jsx)(L,{title:"Impact categories",head:["Name","Description","Reference unit"],infos:(a.impactCategories||[]).map(function(o){return[(0,e.jsx)(y,{type:r.IMPACT_CATEGORY,name:o.name},1),o.description||"",o.referenceUnit]})})]})}function nn(n){var t=n.data;return(0,e.jsx)(q,{map:{"General infomation":en},data:t})}function tn(n){var t,a=n.data;return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(E,{title:"General information",infos:[["Name",a.name],["Category",(0,e.jsx)(y,{type:"folder-".concat(r.IMPACT_CATEGORY),name:G(a.category),def:"none"},"info_2")],["Description",a.description||""],["Tags",a.tags||""],["Source",(0,e.jsx)(y,{type:r.SOURCE,name:(t=a.source)===null||t===void 0?void 0:t.name,def:"none"},1)],["Code",a.code||""],["Reference unit",a.referenceUnit||""],["Impact direction",a.direction||"Unspecified"]]})})}function an(n,t){return window.requestIdleCallback?function(){return window.requestIdleCallback(function(a){return n(a.timeRemaining()>1)})}:window.requestAnimationFrame?function(){return window.requestAnimationFrame(function(){return n(!0)})}:function(){return window.setTimeout(function(){return n(!0)},t*2)}}function on(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,a=(0,_.useState)([]),o=P()(a,2),l=o[0],i=o[1];return(0,_.useEffect)(function(){var s=!1;i([]);var u=(0,Oe.chunk)(n,t),c=an(function(f){f&&!s&&i(function(d){var v=Math.floor(d.length/t);return v>=u.length?(s=!0,d):d.concat(u[v])}),!s&&c()},t);return c(),function(){s=!0}},[n,t]),l}function rn(n){var t=n.data,a=on(t.impactFactors||[]);return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(L,{title:"Characterization factors",head:["Flow","Category","Factor","Unit","Uncertainty","Location"],infos:a.map(function(o){var l,i,s,u,c;return[(0,e.jsx)(y,{name:(l=o.flow)===null||l===void 0?void 0:l.name,type:((i=o.flow)===null||i===void 0?void 0:i.flowType)||r.FLOW},1),G((s=o.flow)===null||s===void 0?void 0:s.category),o.formula||o.value||"",o.unit?"".concat(t.referenceUnit||"1","/").concat(o.unit.name):"",ce(o.uncertainty),((u=o.flow)===null||u===void 0||(c=u.location)===null||c===void 0?void 0:c.name)||""]})})})}function sn(n){var t=n.data;return(0,e.jsx)(q,{map:{"General infomation":tn,"Characterization factors":rn},data:t})}var H,pe=(H={},x()(H,r.PRODUCT_SYSTEM,He),x()(H,r.PROCESS,Ke),x()(H,r.FLOW,Xe),x()(H,r.FLOW_PROPERTY,qe),x()(H,r.IMPACT_METHOD,nn),x()(H,r.IMPACT_CATEGORY,sn),H),ee={};function ln(n){return(0,e.jsx)("div",{className:"flex-1 p-5 overflow-auto",children:(0,e.jsx)(Ce,{data:n.json})})}function Re(n){if(n){var t=n.data;return"".concat(n.modelType,"_").concat(t.id)}}function cn(n){var t=n.id,a=ue(),o=a.active,l=(0,_.useRef)(!0),i=(0,_.useState)([void 0,void 0]),s=P()(i,2),u=P()(s[0],2),c=u[0],f=u[1],d=s[1],v=(0,_.useState)(!1),p=P()(v,2),h=p[0],j=p[1],Y=(0,Me.o)();(0,_.useEffect)(function(){if(l.current&&(Object.keys(ee).forEach(function(U){delete ee[U]}),l.current=!1),!o||!o.data)return function(){};var F=Re(o);if(j(!0),!ee[F]){var re;ee[F]=(0,je.AC)(t,o.modelType,o.data.id,(re=o.data)===null||re===void 0?void 0:re.fromMethod).then(function(U){var ie=(0,oe.tV)(U);return ie._key=F,[ie,U]})}ee[F].then(function(U){console.info("value:",U),Y.current&&d(U)}).catch(function(){delete ee[F]}).finally(function(){console.info("first:",Y.current),Y.current&&j(!1)})},[o,t]);var J=pe[(o==null?void 0:o.modelType)||""]||ln;return o?h?(0,e.jsx)(Z.g,{}):!c||Re(o)!==c._key?null:(0,e.jsx)(J,{data:pe[(o==null?void 0:o.modelType)||""]?c:f,json:f}):null}var Ie=function(t,a){return{data:{id:t.id.toString(),isLeaf:t.children.length===0,isOpenByDefault:t.modelType===r.PRODUCT_SYSTEM||a===0,name:t.name,nestingLevel:a,node:t},nestingLevel:a,node:t}};function dn(n){var t=n.style,a=n.data,o=a.name,l=a.nestingLevel,i=a.isLeaf,s=a.node,u=n.isOpen,c=n.setOpen,f=s,d=ue(),v=d.active,p=d.add;return(0,e.jsxs)("div",{style:O()(O()({},t),{},{marginLeft:"".concat(l*20,"px"),width:"max-content",paddingRight:20,background:s===v?"rgba(34, 122, 48, 0.1)":"none"}),className:A()("flex items-center py-[2px]",{"":s===v}),children:[(0,e.jsx)("button",{onClick:function(){return c(!u)},className:A()("text-sm mr-[6px]",{invisible:i}),children:u?(0,e.jsx)(M.ZXJ,{}):(0,e.jsx)(M.jfD,{})}),(0,e.jsxs)("div",{onClick:function(){f.type==="content"&&Object.keys(pe).includes(f.modelType)&&p(s),f.type==="folder"&&c(!u)},className:A()("flex text-sm gap-1 items-center cursor-pointer"),children:[(0,e.jsx)(ve,{type:f.type==="folder"?"folder-".concat(f.modelType):f.modelType===r.FLOW.valueOf()?f.data.flowType||"FLOW":f.modelType}),(0,e.jsx)("span",{className:A()("text-black whitespace-nowrap"),children:o})]})]})}function un(n){var t=n.node,a=(0,_.useCallback)(W()().mark(function o(){var l,i,s;return W()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:l=0;case 1:if(!(l<t.children.length)){c.next=7;break}return c.next=4,Ie(t.children[l],0);case 4:l++,c.next=1;break;case 7:c.next=10;return;case 10:i=c.sent,s=0;case 12:if(!(s<i.node.children.length)){c.next=18;break}return c.next=15,Ie(i.node.children[s],i.nestingLevel+1);case 15:s++,c.next=12;break;case 18:c.next=7;break;case 20:case"end":return c.stop()}},o)}),[t]);return(0,e.jsx)(V.ZP,{children:function(l){var i=l.height,s=l.width;return(0,e.jsx)(Q.NC,{style:{padding:10},useIsScrolling:!1,innerRef:function(c){c&&(c.style.position="relative")},width:s,height:i,itemSize:18,treeWalker:a,children:dn})}})}function fn(){var n=ue(),t=n.active,a=n.navs,o=n.del,l=n.setActive;return(0,e.jsx)("div",{className:"flex-shrink-0 flex border-b border-solid border-b-gray-14 overflow-x-auto hidden-scrollbar",children:a.map(function(i,s){return(0,e.jsxs)("div",{onClick:function(){return l(i)},className:A()("flex gap-1 h-[36px] px-2.5  text-sm w-min leading-tight items-center cursor-pointer",{"bg-gray-bg border border-solid border-gray-14 border-b-0":i===t}),children:[(0,e.jsx)(ve,{type:i.modelType}),(0,e.jsx)("span",{className:"text-black whitespace-nowrap overflow-hidden text-ellipsis max-w-[300px]",children:i.name}),(0,e.jsx)(me.q5L,{className:"text-black cursor-pointer",onClick:function(c){o(i),c.stopPropagation()}})]},"tabs_".concat(s))})})}var mn=m(89251);function vn(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=(0,_.useRef)(!0),o=(0,_.useRef)(0),l=(0,_.useState)(1),i=P()(l,2),s=i[1],u=(0,_.useCallback)(function(h){a.current=h,s(function(j){return 1-j})},[]),c=(0,mn.Z)(n,t),f=P()(c,2),d=f[0],v=f[1],p=function(){a.current||u(!0);var j=o.current+1>1e5?0:o.current+1;o.current=j,v().finally(function(){return o.current===j&&u(!1)})};return(0,_.useEffect)(function(){p()},t),(0,_.useMemo)(function(){return O()(O()({},d),{},{value:a.current||d.error?void 0:d.value,loading:a.current,req:p})},[d,a.current])}var pn=m(16889),xn=m(62962),_n=m(47949);function hn(){var n=(0,xn.lr)(),t=P()(n,1),a=t[0],o=a.get("id"),l=vn(function(){return o?(0,je.Iv)(o):Promise.resolve(void 0)},[o]),i=l.value,s=l.loading,u=(0,_.useMemo)(function(){if(i){var c=i,f=P()(c,2),d=f[0],v=f[1],p={id:"root",children:[],type:"folder",name:"database",modelType:"database"},h={},j={},Y=(0,oe.tV)(d);Y.forEach(function(I){if(I.modelType){h[I.id]=I,j[I.modelType]||(j[I.modelType]={});var b=I.category?I.category.id:"null";j[I.modelType][b]||(j[I.modelType][b]=[]),j[I.modelType][b].push(I)}});var J=[r.PRODUCT_SYSTEM,r.PROCESS,r.FLOW,r.EPD],F=[r.IMPACT_METHOD,r.IMPACT_CATEGORY,r.SOCIAL_INDICATOR,r.PARAMETER,r.DQ_SYSTEM],re=[r.FLOW_PROPERTY,r.UNIT_GROUP,r.CURRENCY,r.ACTOR,r.SOURCE,r.LOCATION],U=function I(b,B){var S=b.toString();j[S]||(j[S]={});var T=(j[S][B]||[]).map(function(w){return{id:w.refId+"_"+w.id,children:I(b,w.id),name:w.name,type:"folder",modelType:w.modelType,data:w}});v[S.toString()]||(v[S]={});var jn=(v[S][B+""]||[]).map(function(w){return{id:w.refId+"_"+w.id,children:[],name:w.name,type:"content",modelType:w.type,data:w}});return X().sortBy([].concat(D()(T),D()(jn)),"name")},ie=function I(b){var B=[],S={};return b.forEach(function(T){T.type==="folder"?S[T.name]?S[T.name].children=I(S[T.name].children.concat(T.children)):(S[T.name]=T,B.push(T)):B.push(T)}),X().sortBy(B,"name")},xe=function(b,B){if(b!==null){var S={id:b,name:b,type:"folder",modelType:b,children:[]};p.children.push(S),S.children=B.map(function(T){return{id:T,name:Te[T],type:"folder",modelType:T,children:ie(U(T,"null"))}})}else B.forEach(function(T){p.children.push({id:T,name:Te[T],type:"folder",modelType:T,children:ie(U(T,"null"))})})};return xe(null,J),xe("Indicators and parameters",F),xe("Background data",re),console.info("root:",p),p}},[i]);return(0,e.jsx)(ne.T,{className:"",children:(0,e.jsxs)("div",{className:"flex flex-col bg-white",style:{height:"calc(100vh - ".concat(pn.Mz,"px)")},children:[s&&(0,e.jsx)(Z.I,{}),!!u&&(0,e.jsx)(Ne,{children:(0,e.jsx)(fe.Provider,{value:{descriptores:i[1]},children:(0,e.jsxs)(_n.Z,{className:"flex flex-1 w-full h-full split",sizes:[1,99],minSize:260,snapOffset:1,gutterSize:6,gutterStyle:function(){return{backgroundColor:"#f3f3f3",cursor:"col-resize"}},children:[(0,e.jsxs)("div",{className:"flex flex-col overflow-hidden bg-transparent",children:[(0,e.jsx)("div",{className:"border-b border-solid border-b-gray-14",children:(0,e.jsxs)("div",{className:"flex gap-[6px] text-sm w-min h-[36px] px-2.5 items-center bg-gray-bg border border-b-0 border-solid border-gray-14",children:[(0,e.jsx)(he.SxP,{className:"text-gray-9 fixGrColor"}),(0,e.jsx)("span",{className:"text-black",children:"Navigation"})]})}),(0,e.jsx)("div",{className:"flex-1",children:!!u&&(0,e.jsx)(un,{node:u})})]}),(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)(fn,{}),(0,e.jsx)(cn,{id:o})]})]})})})]})})}var gn=m(38816),yn=(0,gn.t)(hn)}}]);
