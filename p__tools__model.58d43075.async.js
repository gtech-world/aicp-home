"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[942],{33875:function(Ie,J,t){t.d(J,{E:function(){return R},K:function(){return K}});var ne=t(84875),N=t.n(ne),k=t(11527);function R(n){var D=n.value,c=n.bg,A=c===void 0?"#dddddd":c,I=n.color,U=I===void 0?"#29953A":I,a=n.className;return(0,k.jsx)("div",{className:N()(a,"w-full h-[10px]"),style:{background:A},children:(0,k.jsx)("div",{style:{width:"".concat(D,"%"),transition:"width 200ms ease",background:U},className:"h-full"})})}function K(n){var D=n.index,c=n.full,A=n.bg,I=A===void 0?"#dddddd":A,U=n.color,a=U===void 0?"#29953A":U,ge=n.className;return(0,k.jsx)("div",{className:N()(ge,"w-full h-[10px]"),style:{background:I},children:(0,k.jsx)("div",{style:{marginLeft:c?"0":"".concat(D*25,"%"),width:c?"100%":"25%",background:a},className:"h-full"})})}},60084:function(Ie,J,t){t.d(J,{H4:function(){return K},Kv:function(){return R},Tz:function(){return D},We:function(){return n}});var ne=t(32699),N=t.n(ne),k=t(88297);function R(c){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,k.ZP)("/api/product-system/".concat(c,"/detail"),{refreshInterval:A})}function K(c){return(0,k.ZP)(N().isNil(c)?null:"/api/verifyRecord/".concat(c,"/detail"))}function n(c){return(0,k.ZP)(c?"/api/inventory/all":null)}function D(c){return(0,k.ZP)(c?"/api/verifyRecord/verifiers":null)}},67275:function(Ie,J,t){t.d(J,{n:function(){return R},s:function(){return k}});var ne=t(32699),N=t.n(ne);function k(K){var n=N().groupBy(K,"flowId"),D=function c(A){A.forEach(function(I){if(I._child||(I._child=(I.childFlowIds||[]).map(function(a){return n[a][0]}),c(I._child)),I._child.length===0)I._depth=0;else{var U;I._depth=(((U=N().maxBy(I._child,"_depth"))===null||U===void 0?void 0:U._depth)||0)+1}})};D(K)}var R=function(n,D){var c=typeof n=="string"?[n]:n;return!!N().find(c,function(A){return A.startsWith(D)})}},64344:function(Ie,J,t){t.r(J),t.d(J,{default:function(){return pt}});var ne=t(58357),N=t.n(ne),k=t(71977),R=t.n(k),K=t(30577),n=t.n(K),D=t(67454),c=t(72121),A=t(67747),I=t(51500),U=t(76141),a=t(50959),ge=t(9107),$e=t(86378),L=t.n($e),Oe=t(28488),pe=t.n(Oe),Ve=t(35888),Ue=t(60084),Me=t(81609),Z=t(14803),ze=t(84875),je=t.n(ze),We=t(32699),Ke=t.n(We),Te=t(99592),De=t(10225),Ze=t(90967),He=t.n(Ze),ke=t(27846),Ge=t(30161),Ye=t(60904),Je=t(45393),Xe=t.n(Je),e=t(11527),Qe={startOnLoad:!0,theme:"default",logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!0},themeVariables:{},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:800,height:200,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,wrapPadding:20},gantt:{titleTopMargin:25,barHeight:16,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d"},class:{titleTopMargin:20,defaultRenderer:"dagre-wrapper"},pie:{}},qe={count:1};function _e(l){var u=l.className,i=l.data,d=i===void 0?"":i,j=(0,a.useMemo)(function(){return"aicp_mermaid_".concat(qe.count++)},[]),f=function(){var g=R()(N()().mark(function b(){var M,v,C,p,x;return N()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,M=document.querySelector("#"+j),M){s.next=4;break}return s.abrupt("return");case 4:return ke.N.initialize(Qe),s.next=7,ke.N.render(j+"-svg",d);case 7:if(v=s.sent,C=v.svg,p=v.bindFunctions,M.innerHTML=C,p==null||p(M),x=document.getElementById(j+"-svg"),x){s.next=15;break}return s.abrupt("return");case 15:x.setAttribute("height","100%"),x.style.maxWidth="100%",Xe()(x,{mouseWheelZoomEnabled:!1,zoomEnabled:!0,controlIconsEnabled:!0}),s.next=23;break;case 20:s.prev=20,s.t0=s.catch(0),console.error(s.t0);case 23:case"end":return s.stop()}},b,null,[[0,20]])}));return function(){return g.apply(this,arguments)}}(),y=(0,Ge.Z)(),E=n()(y,2),w=E[0],o=E[1].width;return(0,Ye.Z)(f,300,[o,d]),(0,e.jsx)("div",{ref:w,id:j,className:je()("mermaid p-2.5",u)})}var et=_e,tt=et,Ae=t(67275),nt=["onClose"],at=function(u){var i=u.onClose,d=pe()(u,nt),j=d.modelBomInfo,f=j===void 0?"":j,y=f&&JSON.parse(f),E=function(C,p){var x=(0,Ae.n)(C.tagType,"REFERENCE"),B=(0,Ae.n)(p.tagType,"REFERENCE");return x&&!B?-1:!x&&B?1:0},w=(y||[]).sort(E),o=[],g=`graph TD
`;(w||[]).forEach(function(v,C){var p=v.flowName,x=v.childFlowIds;g+="".concat(C+1,'["').concat(p,`"]
`),o.push("style ".concat(C+1,` color:black,fill:#F1F1F1,stroke:black
`)),x&&x.length>0&&x.forEach(function(B){var s=w.findIndex(function($){return $.flowId===B});s!==-1&&(g+="".concat(s+1," --> ").concat(C+1,`
`),o.push("style ".concat(s+1,` color:black,fill:#F1F1F1,stroke:black
`)))})});var b=He()(new Set(o||[])).toString().replace(/,style/g," style"),M="".concat(g,`
`).concat(b);return(0,e.jsx)(c.u_,L()(L()({},d),{},{title:"\u67E5\u770BBOM\u4FE1\u606F",onClose:i,children:(0,e.jsx)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full flex-1 max-h-mc px-5 py-[1px] overflow-y-auto",children:[(0,e.jsx)(h,{tit:"BOM\u7ED3\u6784",value:(0,e.jsx)(tt,{data:M,className:"flex justify-center w-[800px] h-[200px] bg-[#F1F1F1]"})}),(0,e.jsx)(h,{tit:"Part Number\u4FE1\u606F",value:null}),(w||[]).map(function(v,C){return(0,e.jsxs)("div",{className:"flex flex-row gap-10 p-0",children:[(0,e.jsx)("div",{className:"w-[200px] text-base text-[#666666] ",children:v.flowName}),(0,e.jsx)("div",{className:"flex flex-wrap flex-shrink w-[30rem] items-center",children:((v==null?void 0:v.partNumbers)||[]).map(function(p,x){return(0,e.jsx)("div",{className:"flex max-w-lg items-center bg-[#F1F1F1] h-6 mb-[10px] rounded ml-5",children:(0,e.jsxs)("div",{className:" w-full mx-[10px] items-center font-normal","data-tooltip-id":"tooltip","data-tooltip-content":(0,Z.iT)(p,10),children:["PN : ",(0,Z.lS)(p,8,8)]})},"value_".concat(x))})})]},"info_".concat(C))})]})})}))},Re=at,lt=["ps"];function rt(l){var u,i,d,j,f=l.ps,y=pe()(l,lt),E=(0,Te.Z)(!1),w=n()(E,2),o=w[0],g=w[1];return(0,e.jsxs)(c.u_,L()(L()({title:f.name},y),{},{children:[(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(h,{tit:"UID",value:f.uuid||"-"}),(0,e.jsx)(h,{tit:"\u7248\u672C",value:f.version||"-"}),(0,e.jsx)(h,{tit:"\u63CF\u8FF0",value:f.description||"-"}),(0,e.jsx)(h,{tit:"\u72B6\u6001",value:(0,e.jsx)(ot,{status:f.state})}),(0,e.jsx)(h,{tit:"\u53D8\u66F4\u4EBA",value:((u=f.updateUser)===null||u===void 0?void 0:u.name)||"-"}),(0,e.jsx)(h,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(be,{modelId:(i=f.model)===null||i===void 0?void 0:i.id,modelStatus:(d=f.model)===null||d===void 0?void 0:d.state,isRead:!0})}),(0,e.jsx)(h,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(ae,{action:"\u67E5\u770B",onClick:function(){return g(!0)}})}),(0,e.jsx)(Le,{organization:f.org})]}),o&&(0,e.jsx)(De.d,{data:(j=f.model)===null||j===void 0?void 0:j.paramDetail,onClose:function(){return g(!1)}})]}))}var st=["defaultValue"],ut=["psId","onSuccess"];function ot(l){var u=l.status;return Ke().isNil(u)?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:"\u8349\u7A3F"}):(0,e.jsx)("div",{className:je()("w-min whitespace-nowrap h-6 px-2.5 py-1 bg-opacity-10 rounded justify-start items-center gap-2.5 inline-flex",{"bg-rose-500":u!==1,"bg-green-600":u===1}),children:(0,e.jsx)("div",{className:je()("text-green-600 text-base font-normal leading-none",{"text-rose-500":u!==1,"text-green-600":u===1}),children:u===1?"\u5F53\u524D\u4F7F\u7528":"\u8FC7\u53BB\u7248\u672C"})})}function ae(l){var u=l.action,i=l.onClick,d=l.to;return d?(0,e.jsx)("a",{href:d,className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded text-black text-base font-normal leading-none",children:u}):(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",onClick:i,children:(0,e.jsx)("div",{className:"text-base font-normal leading-none text-black",children:u})})}function be(l){var u=l.psId,i=l.disableSelectFile,d=i===void 0?!1:i,j=l.openNewTab,f=j===void 0?!1:j,y=l.hiddenUpdate,E=l.modelId,w=l.isNew,o=l.isRead,g=l.modelStatus,b=l.file,M=l.onFileChange,v=l.btnText,C=v===void 0?"\u4E0A\u4F20\u6A21\u578B":v,p=(0,a.useRef)(null),x=function(){return g!==1?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-amber-500",children:"\u7B49\u5F85\u89E3\u6790"}):(0,e.jsx)(ae,{onClick:function(){return f?window.open("/model?id=".concat(E),"_blank"):void 0},to:f?void 0:"/model?id=".concat(E),action:"\u5728\u7EBF\u67E5\u770B"})},B=function($){var X;!d&&((X=p.current)===null||X===void 0||X.click())};return(0,e.jsxs)("div",{className:"text-neutral-400 text-base font-normal leading-none flex items-center gap-2.5",children:[(0,e.jsx)("input",{ref:p,type:"file",hidden:!0,accept:".zip",onChange:M}),!o&&(0,Z.lS)(b==null?void 0:b.name,10,10),o?x():w?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ae,{action:C,onClick:B})}):(0,e.jsx)(e.Fragment,{children:!b&&x()})]})}function h(l){var u=typeof l.value=="string"||typeof l.value=="number";return(0,e.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,e.jsxs)("div",{className:"text-base font-normal leading-normal text-black",children:[l.tit,": "]}),u?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:l.value}):l.value]})}function it(l){var u=l.defaultValue,i=pe()(l,st);return(0,e.jsx)("input",L()({type:"text",className:"w-full px-5 py-[15px] bg-gray-28 rounded-lg border border-neutral-200 justify-start items-start gap-2.5 inline-flex text-black text-base font-normal leading-none"},i))}function Le(l){var u=(0,Ve.oR)(),i=u.userData,d=l.organization||(i==null?void 0:i.organization);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(h,{tit:"\u7EC4\u7EC7\u540D\u79F0",value:(d==null?void 0:d.name)||"-"}),(0,e.jsx)(h,{tit:"\u7EC4\u7EC7\u7F16\u53F7",value:(d==null?void 0:d.serialNumber)||"-"})]})}function dt(l){var u,i,d,j,f=l.psId,y=l.onSuccess,E=pe()(l,ut),w=(0,Ue.Kv)(f,6e4),o=w.data,g=w.isLoading,b=w.error,M=(0,a.useState)(""),v=n()(M,2),C=v[0],p=v[1],x=(0,a.useRef)(!0);(0,a.useEffect)(function(){o&&x.current&&(p(o.description||""),x.current=!1)},[o]),(0,a.useEffect)(function(){b&&E.onClose&&E.onClose()},[b]);var B=(0,a.useState)(!1),s=n()(B,2),$=s[0],X=s[1],le=(0,a.useState)(null),Q=n()(le,2),oe=Q[0],ie=Q[1],de=(0,a.useState)(!1),H=n()(de,2),ce=H[0],q=H[1],fe=(0,a.useCallback)(function(W){var _;ie((_=W.target.files)===null||_===void 0?void 0:_.item(0))},[]),z=(0,Te.Z)(!1),P=n()(z,2),Se=P[0],re=P[1],me=(0,a.useState)(),ve=n()(me,2),se=ve[0],xe=ve[1],O=(0,Me.n)();return(0,e.jsxs)(c.u_,L()(L()({},E),{},{children:[g&&!o&&(0,e.jsx)(ge.g,{className:"min-h-[100px]"}),o&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex flex-col gap-5  w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(h,{tit:"\u4EA7\u54C1\u7CFB\u7EDFID",value:o.uuid||"-"}),(0,e.jsx)(h,{tit:"\u63CF\u8FF0",value:(0,e.jsx)("div",{className:" break-words max-w-[40rem] flex-wrap text-[16px] font-normal text-[#999999]",children:C||"-"})}),(0,e.jsx)(h,{tit:"\u64CD\u4F5C\u4EBA",value:o.updateUser.name||"-"}),(0,e.jsx)(h,{tit:"BOM\u4FE1\u606F",value:(0,e.jsx)(ae,{action:"\u67E5\u770B",onClick:function(){return q(!0)}})}),(0,e.jsx)(h,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(ae,{action:"\u67E5\u770B",onClick:function(){return re(!0)}})}),(0,e.jsx)(h,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(be,{modelId:(u=o.model)===null||u===void 0?void 0:u.id,disableSelectFile:$,modelStatus:(i=o.model)===null||i===void 0?void 0:i.state,hiddenUpdate:O,file:oe,onFileChange:fe})}),(0,e.jsx)(Le,{organization:o==null?void 0:o.org})]})}),Se&&(0,e.jsx)(De.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:o==null||(d=o.model)===null||d===void 0?void 0:d.paramDetail,onClose:function(){return re(!1)}}),se&&(0,e.jsx)(rt,{onClose:function(){return xe(void 0)},ps:se}),ce&&(0,e.jsx)(Re,{modelBomInfo:o==null||(j=o.model)===null||j===void 0?void 0:j.modelBomInfo,onClose:function(){return q(!1)}})]}))}var ct=t(1267),Ce=t(97707),ft=t(33875),mt=t(85295),vt=["onSuccess","onClose"];function xt(l){var u=l.onSuccess,i=l.onClose,d=pe()(l,vt),j=(0,a.useState)(""),f=n()(j,2),y=f[0],E=f[1],w=(0,a.useState)(!1),o=n()(w,2),g=o[0],b=o[1],M=(0,a.useState)(0),v=n()(M,2),C=v[0],p=v[1],x=(0,a.useState)(null),B=n()(x,2),s=B[0],$=B[1],X=(0,a.useState)("upload"),le=n()(X,2),Q=le[0],oe=le[1],ie=!s,de=(0,a.useState)(""),H=n()(de,2),ce=H[0],q=H[1],fe=(0,a.useState)({id:0,modelBomInfo:"",paramDetail:"",modelName:""}),z=n()(fe,2),P=z[0],Se=z[1],re=(0,a.useState)(!1),me=n()(re,2),ve=me[0],se=me[1],xe=(0,a.useState)(!1),O=n()(xe,2),W=O[0],_=O[1],Ne=(0,a.useCallback)(function(S){var T;$((T=S.target.files)===null||T===void 0?void 0:T.item(0))},[]),ee=(0,a.useRef)(),Fe=(0,a.useCallback)(function(){var S;(S=ee.current)===null||S===void 0||S.abort(),i&&i()},[i]),he=function(){b(!1),p(0),q("")},Ee=(0,mt.o)(),Be=function(){var S=R()(N()().mark(function T(G){var Y;return N()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:q("\u6A21\u578B\u89E3\u6790\u4E2D......");case 1:return r.next=4,(0,Z._v)(5e3);case 4:if(Ee.current){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,(0,Ce.Yp)(G).catch(function(){});case 8:if(Y=r.sent,p(function(m){return Math.min(m+10,100)}),!(Y&&Y.state===1&&Y.modelBomInfo)){r.next=12;break}return r.abrupt("return",Y);case 12:r.next=1;break;case 14:case"end":return r.stop()}},T)}));return function(G){return S.apply(this,arguments)}}(),we=function(){q("\u6B63\u5728\u4E0A\u4F20......");var T=new FormData;T.append("file",s),ee.current=new AbortController,(0,Ce.av)(T,{signal:ee.current.signal,onUploadProgress:function(Y){p(Math.min(Math.round((Y.progress||0)*100),60))}}).then(Be).then(function(G){G&&(Se(G),oe("add"),he())}).catch(function(){he()})},ye=(0,ct.R)(function(){if(!ie)if(Q==="upload"){if(g)return;b(!0),we()}else(0,Ce.bc)({name:P.modelName,description:y,modelId:P.id}).then(function(){u&&u(),Fe()}).catch(function(S){console.log("err",S)})});return(0,e.jsxs)(a.Fragment,{children:[(0,e.jsx)(c.u_,L()(L()({},d),{},{title:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF",onClose:function(){Fe(),he()},children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:[(0,e.jsx)("div",{className:je()("flex flex-col w-full flex-1  max-h-mc px-5 py-[1px] overflow-y-auto ".concat(g?"gap-0":"gap-5")),children:g?(0,e.jsxs)(a.Fragment,{children:[(0,e.jsx)("div",{className:"flex justify-center w-full",children:ce}),(0,e.jsx)(ft.E,{value:C,className:"my-5 overflow-hidden rounded-lg"})]}):Q==="upload"?(0,e.jsx)(h,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(be,{isNew:!0,disableSelectFile:g,file:s,onFileChange:Ne,btnText:"\u9009\u62E9\u6A21\u578B"})}):(0,e.jsxs)(a.Fragment,{children:[(0,e.jsx)(h,{tit:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",value:P==null?void 0:P.modelName}),(0,e.jsx)(h,{tit:"BOM\u4FE1\u606F",value:(0,e.jsx)(ae,{action:"\u67E5\u770B",onClick:function(){return se(!0)}})}),(0,e.jsx)(h,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(ae,{action:"\u67E5\u770B",onClick:function(){return _(!0)}})}),(0,e.jsx)(h,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(be,{modelStatus:g?0:1,modelId:P.id,openNewTab:!0,onFileChange:Ne})}),(0,e.jsx)(h,{tit:"\u63CF\u8FF0",value:(0,e.jsx)(it,{maxLength:100,value:y,onChange:function(T){return E(T.target.value)}})})]})}),(0,e.jsx)("div",{className:"flex flex-shrink-0 w-full gap-5 px-5",children:!g&&(0,e.jsxs)(a.Fragment,{children:[(0,e.jsx)(D.u,{defStyle:"btn-primary-1",className:"flex-1",onClick:function(){Fe(),he()},children:"\u53D6\u6D88"}),(0,e.jsx)(D.u,{className:"flex-1",onClick:ye,disabled:ie,children:Q==="upload"?"\u4E0A\u4F20":"\u786E\u5B9A"})]})})]})})),W&&(0,e.jsx)(De.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:P==null?void 0:P.paramDetail,onClose:function(){return _(!1)}}),ve&&(0,e.jsx)(Re,L()(L()({},P),{},{onClose:function(){return se(!1)}}))]})}function ht(){var l,u,i,d,j=(0,a.useState)(null),f=n()(j,2),y=f[0],E=f[1],w=(0,a.useState)(null),o=n()(w,2),g=o[0],b=o[1],M=(0,a.useState)(),v=n()(M,2),C=v[0],p=v[1],x=(0,a.useState)(null),B=n()(x,2),s=B[0],$=B[1],X=(0,a.useState)(!1),le=n()(X,2),Q=le[0],oe=le[1],ie=(0,a.useState)(1),de=n()(ie,2),H=de[0],ce=de[1],q=(0,a.useState)(-1),fe=n()(q,2),z=fe[0],P=fe[1],Se=(0,a.useState)(0),re=n()(Se,2),me=re[0],ve=re[1],se=(0,a.useState)({}),xe=n()(se,2),O=xe[0],W=xe[1],_=(0,a.useState)([]),Ne=n()(_,2),ee=Ne[0],Fe=Ne[1],he=(0,a.useState)(!0),Ee=n()(he,2),Be=Ee[0],we=Ee[1],ye=function(){var r=R()(N()().mark(function m(){var V;return N()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,(0,Ce.vz)(H);case 2:V=ue.sent,W(V),we(!1);case 5:case"end":return ue.stop()}},m)}));return function(){return r.apply(this,arguments)}}();(0,a.useEffect)(function(){var r=!1,m=function(){var V=R()(N()().mark(function te(){return N()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(!r){F.next=3;break}return F.abrupt("return");case 3:return F.prev=3,F.next=6,ye();case 6:return F.next=8,(0,Z._v)(1e4);case 8:F.next=13;break;case 10:return F.prev=10,F.t0=F.catch(3),F.abrupt("continue",0);case 13:F.next=0;break;case 15:case"end":return F.stop()}},te,null,[[3,10]])}));return function(){return V.apply(this,arguments)}}();return m(),function(){r=!0}},[]);var S=(0,a.useMemo)(function(){return[{title:"\u4EA7\u54C1\u7CFB\u7EDF",dataIndex:"name",width:"200px",render:function(m){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-place":"top-start","data-tooltip-content":(0,Z.iT)(m,20),className:"w-[200px] font-normal  text-lg leading-[27px] truncate inline-block",children:m})}},{title:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid",width:"15rem",render:function(m){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-content":m,className:"text-lg w-[15rem] truncate inline-block font-normal leading-[27px]",children:(0,Z.lS)(m,8,8)})}},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"name",width:"8rem",render:function(m,V){return(0,e.jsx)("span",{className:"w-[8rem] text-lg truncate inline-block font-normal leading-[27px]",children:V.updateUser.name})}},{title:"\u63CF\u8FF0",dataIndex:"description",width:"14rem",render:function(m){return(0,e.jsx)("div",{"data-tooltip-content":(0,Z.iT)(m,11),"data-tooltip-id":"tooltip",className:"w-[14rem] text-lg truncate inline-block font-normal leading-[27px]",children:m||"-"})}},{title:"\u4E0A\u4F20\u65F6\u95F4",dataIndex:"createTime",width:"13rem",render:function(m){return(0,e.jsx)("span",{className:"w-[13rem] text-lg truncate inline-block font-normal leading-[27px]",children:m})}},{title:"",width:"20rem",render:function(m,V){return(0,e.jsx)("div",{className:"flex justify-between flex-1 ml-10 text-green-2 break-keep",children:(0,e.jsx)("div",{className:"flex items-center font-normal justify-center cursor-pointer text-lg leading-[27px]",onClick:function(){return p(V)},children:"\u67E5\u770B"})})}}]},[]),T=(0,a.useMemo)(function(){return[{title:"\u5B9E\u666F\u8F93\u5165\u9879",dataIndex:"context",width:"20%"},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"parameter",width:"30%"},{title:"\u53C2\u8003\u503C",dataIndex:"amount",width:"20%"},{title:"\u4E0D\u786E\u5B9A\u6027",dataIndex:"uncertainty",emptyText:"-",width:"30%"}]},[]),G=function(){var r=R()(N()().mark(function m(V){var te;return N()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return te="\u66F4\u6539\u72B6\u6001",$({title:te,loading:!0}),F.next=4,(0,Ce.pF)(y.id,V);case 4:ve(me+1),$({title:te,loading:!1,resultText:"\u64CD\u4F5C\u6210\u529F"}),E(null);case 7:case"end":return F.stop()}},m)}));return function(V){return r.apply(this,arguments)}}(),Y=(0,Me.b)(),Pe=function(){ce(1),H===1&&ye()};return(0,e.jsxs)(U._z,{children:[(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("h3",{className:"flex items-center justify-between text-2xl font-semibold",children:[(0,e.jsx)("span",{children:"\u6211\u7684\u4EA7\u54C1\u7CFB\u7EDF"}),Y&&(0,e.jsx)(D.z,{onClick:function(){return oe(!0)},className:je()("w-40 text-lg font-normal text-white rounded-lg bg-green-2 h-11 hover:bg-green-28"),children:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF"})]}),(0,e.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,e.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,e.jsx)("div",{className:"min-h-[20.25rem] text-base leading-[1.625rem] min-w-[68.25rem]",children:(0,e.jsx)(I.i,{loading:Be,columns:S,columnsHeight:"h-[3.125rem]",mouseHoverKey:"id",data:(O==null?void 0:O.records)||[],columnsClassName:" cursor-pointer ",headerClassName:{background:"#fff",fontWeight:"700",fontSize:"18px",lineHeight:"27px"}})})})})]}),(0,e.jsx)(A.t,{onChange:function(m){ce(m),(0,Z.k3)(),we(!0)},className:"my-8",total:(O==null?void 0:O.total)||0,pgSize:10,pgNum:H}),y!==null&&(0,e.jsx)(c.u_,{title:"\u66F4\u6539\u72B6\u6001",onClose:function(){return E(null)},children:(0,e.jsx)("div",{className:"flex",children:s!=null&&s.loading?(0,e.jsx)(ge.g,{}):(0,e.jsxs)("div",{className:"flex flex-1",children:[y.state>-2&&(0,e.jsx)(D.z,{onClick:function(){return G(y.state===1?0:1)},className:"flex-1 w-full text-lg text-white rounded-lg bg-green-2 h-11",children:y.state===1?"\u5F03\u7528":"\u6FC0\u6D3B"}),y.state===-1&&(0,e.jsx)(D.z,{onClick:function(){return G(-2)},className:"flex-1 w-full ml-5 text-lg border-2 rounded-lg border-green-2 bg-green-2/10 text-green-2 hover:bg-green-2/20 h-11",children:"\u5220\u9664"})]})})}),!!g&&(0,e.jsx)(c.u_,{title:g.modelName+"\u6A21\u578B\u4E2D\u7684\u5B9E\u666F\u8F93\u5165\u9879",onClose:function(){return b(null)},children:(0,e.jsxs)("div",{className:"flex w-[60rem] min-h-[16rem] flex-col pb-2",children:[(0,e.jsx)("ul",{className:"flex mb-1",children:T.map(function(r,m){return(0,e.jsx)("li",{className:"px-3 text-lg font-bold",style:{width:r.width},children:r.title},"columns".concat(m))})}),(0,e.jsx)("div",{className:"max-h-[15rem] min-h-[5rem] overflow-y-auto",children:(0,e.jsx)(I.i,{size:"big",hiddenHeader:!0,columns:T,data:g.paramDetail})})]})}),s&&(0,e.jsx)(c.u_,{title:(s==null?void 0:s.title)||"\u64CD\u4F5C",onClose:function(){return $(null)},children:(0,e.jsx)("div",{className:"pb-2 text-center",children:s.loading?(0,e.jsx)(ge.g,{}):(0,e.jsx)("span",{children:s.resultText})})}),Q&&(0,e.jsx)(xt,{onClose:function(){return oe(!1)},onSuccess:function(){return Pe()}}),C&&(0,e.jsx)(dt,{psId:C.id,title:C.name,onClose:function(){return p(void 0)},onSuccess:function(){return Pe()}}),z>-1&&(0,e.jsx)(c.u_,{title:"\u67E5\u770B\u4EA7\u54C1",onClose:function(){return P(-1)},children:(0,e.jsxs)("ul",{className:"text-lg max-w-[32rem]",children:[(0,e.jsxs)("li",{className:"flex",children:[(0,e.jsx)("label",{className:"inline-block min-w-[5.625rem]",children:"\u4EA7\u54C1\u540D\u79F0 :"}),(0,e.jsx)("span",{className:"break-all text-gray-6",children:(l=ee[z])===null||l===void 0?void 0:l.text})]}),(0,e.jsxs)("li",{className:"my-5",children:[(0,e.jsx)("label",{className:"inline-block w-[5.625rem]",children:"\u4EA7\u54C1\u7C7B\u578B :"}),(0,e.jsx)("span",{className:"text-gray-6",children:(u=ee[z])===null||u===void 0?void 0:u.type})]}),(0,e.jsxs)("li",{className:"flex",children:[(0,e.jsx)("label",{className:"inline-block min-w-[5.625rem]",children:"\u63CF\u8FF0 :"}),(0,e.jsx)("span",{className:"break-all text-gray-6",children:(i=ee[z])!==null&&i!==void 0&&i.desc?(d=ee[z])===null||d===void 0?void 0:d.desc:"-"})]})]})})]})}var gt=ht,pt=gt}}]);
