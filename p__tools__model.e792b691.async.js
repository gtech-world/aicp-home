"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3942],{81920:function(Ce,J,a){a.d(J,{o:function(){return p}});var X=a(79685);function p(){var z=(0,X.useRef)(!0);return(0,X.useEffect)(function(){return z.current=!0,function(){z.current=!1}},[]),z}},2042:function(Ce,J,a){a.d(J,{n:function(){return x},s:function(){return z}});var X=a(97207),p=a.n(X);function z(ae){var U=p().groupBy(ae,"flowId"),V=function Q(L){L.forEach(function(k){if(k._child||(k._child=(k.childFlowIds||[]).map(function($){return U[$][0]}),Q(k._child)),k._child.length===0)k._depth=0;else{var le;k._depth=(((le=p().maxBy(k._child,"_depth"))===null||le===void 0?void 0:le._depth)||0)+1}})};V(ae)}var x=function(U,V){var Q=typeof U=="string"?[U]:U;return!!p().find(Q,function(L){return L.startsWith(V)})}},58407:function(Ce,J,a){a.r(J),a.d(J,{default:function(){return mt}});var X=a(48651),p=a.n(X),z=a(86516),x=a.n(z),ae=a(64082),U=a(18842),V=a(9991),Q=a(11e3),L=a(95968),k=a(48294),le=a(38046),$=a.n(le),je=a(99095),ye=a(8965),be=a(76222),ie=a(81123),Te=a(68591),re=a.n(Te),Be=a(97207),Me=a.n(Be),o=a(79685),Fe=a(12239),he=a(59864),Pe=a(70300),Re=a.n(Pe),Ae=a(22786),de=a.n(Ae),Le=a(46299),Ne=a.n(Le),Ee=a(62905),ke=a(58020),$e=a(11209),Ue=a(62370),Oe=a.n(Ue),e=a(63342),ze={startOnLoad:!0,theme:"default",logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!0},themeVariables:{},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:800,height:200,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,wrapPadding:20},gantt:{titleTopMargin:25,barHeight:16,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d"},class:{titleTopMargin:20,defaultRenderer:"dagre-wrapper"},pie:{}},Ve={count:1};function We(t){var l=t.className,s=t.data,r=s===void 0?"":s,v=(0,o.useMemo)(function(){return"aicp_mermaid_".concat(Ve.count++)},[]),u=function(){var c=Ne()(de()().mark(function S(){var I,f,g,m,i;return de()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(d.prev=0,I=document.querySelector("#"+v),I){d.next=4;break}return d.abrupt("return");case 4:return Ee.N.initialize(ze),d.next=7,Ee.N.render(v+"-svg",r);case 7:if(f=d.sent,g=f.svg,m=f.bindFunctions,I.innerHTML=g,m==null||m(I),i=document.getElementById(v+"-svg"),i){d.next=15;break}return d.abrupt("return");case 15:i.setAttribute("height","100%"),i.style.maxWidth="100%",Oe()(i,{mouseWheelZoomEnabled:!1,zoomEnabled:!0,controlIconsEnabled:!0}),d.next=23;break;case 20:d.prev=20,d.t0=d.catch(0),console.error(d.t0);case 23:case"end":return d.stop()}},S,null,[[0,20]])}));return function(){return c.apply(this,arguments)}}(),h=(0,ke.Z)(),n=x()(h,2),y=n[0],C=n[1].width;return(0,$e.Z)(u,300,[C,r]),(0,e.jsx)("div",{ref:y,id:v,className:re()("mermaid p-2.5",l)})}var Ze=We,Ge=Ze,we=a(2042),Ke=["onClose"],He=function(l){var s=l.onClose,r=$()(l,Ke),v=r.modelBomInfo,u=v===void 0?"":v,h=u&&JSON.parse(u),n=function(g,m){var i=(0,we.n)(g.tagType,"REFERENCE"),E=(0,we.n)(m.tagType,"REFERENCE");return i&&!E?-1:!i&&E?1:0},y=(h||[]).sort(n),C=[],c=`graph TD
`;(y||[]).forEach(function(f,g){var m=f.flowName,i=f.childFlowIds;c+="".concat(g+1,'["').concat(m,`"]
`),C.push("style ".concat(g+1,` color:black,fill:#F1F1F1,stroke:black
`)),i&&i.length>0&&i.forEach(function(E){var d=y.findIndex(function(b){return b.flowId===E});d!==-1&&(c+="".concat(d+1," --> ").concat(g+1,`
`),C.push("style ".concat(d+1,` color:black,fill:#F1F1F1,stroke:black
`)))})});var S=Re()(new Set(C||[])).toString().replace(/,style/g," style"),I="".concat(c,`
`).concat(S);return(0,e.jsx)(L.u_,p()(p()({},r),{},{title:"\u67E5\u770BBOM\u4FE1\u606F",onClose:s,children:(0,e.jsx)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full flex-1 max-h-mc px-5 py-[1px] overflow-y-auto",children:[(0,e.jsx)(N,{tit:"BOM\u7ED3\u6784",value:(0,e.jsx)(Ge,{data:I,className:"flex justify-center w-[800px] h-[200px] bg-[#F1F1F1]"})}),(0,e.jsx)(N,{tit:"Part Number\u4FE1\u606F",value:null}),(y||[]).map(function(f,g){return(0,e.jsxs)("div",{className:"flex flex-row gap-10 p-0",children:[(0,e.jsx)("div",{className:"w-[200px] text-base text-[#666666] ",children:f.flowName}),(0,e.jsx)("div",{className:"flex flex-wrap flex-shrink w-[30rem] items-center",children:((f==null?void 0:f.partNumbers)||[]).map(function(m,i){return(0,e.jsx)("div",{className:"flex max-w-lg items-center bg-[#F1F1F1] h-6 mb-[10px] rounded ml-5",children:(0,e.jsxs)("div",{className:" w-full mx-[10px] items-center font-normal","data-tooltip-id":"tooltip","data-tooltip-content":(0,ie.iT)(m,10),children:["PN : ",(0,ie.lS)(m,8,8)]})},"value_".concat(i))})})]},"info_".concat(g))})]})})}))},Ie=He,Ye=["ps"];function Je(t){var l,s,r,v,u=t.ps,h=$()(t,Ye),n=(0,Fe.Z)(!1),y=x()(n,2),C=y[0],c=y[1];return(0,e.jsxs)(L.u_,p()(p()({title:u.name},h),{},{children:[(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(N,{tit:"UID",value:u.uuid||"-"}),(0,e.jsx)(N,{tit:"\u7248\u672C",value:u.version||"-"}),(0,e.jsx)(N,{tit:"\u63CF\u8FF0",value:u.description||"-"}),(0,e.jsx)(N,{tit:"\u72B6\u6001",value:(0,e.jsx)(at,{status:u.state})}),(0,e.jsx)(N,{tit:"\u53D8\u66F4\u4EBA",value:((l=u.updateUser)===null||l===void 0?void 0:l.name)||"-"}),(0,e.jsx)(N,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(ce,{modelId:(s=u.model)===null||s===void 0?void 0:s.id,modelStatus:(r=u.model)===null||r===void 0?void 0:r.state,isRead:!0})}),(0,e.jsx)(N,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(W,{action:"\u67E5\u770B",onClick:function(){return c(!0)}})}),(0,e.jsx)(rt,{organization:u.org})]}),C&&(0,e.jsx)(he.d,{data:(v=u.model)===null||v===void 0?void 0:v.paramDetail,onClose:function(){return c(!1)}})]}))}var De=a(74589),Xe=["options","data","optionEmptyText","hideIfEmpty","defaultColumn","minColumn"],Qe=["render","dataIndex","show"],qe=De.Z.Item,_e=function(l){var s=l.options,r=l.data,v=l.optionEmptyText,u=l.hideIfEmpty,h=l.defaultColumn,n=l.minColumn,y=$()(l,Xe),C=(0,o.useState)(window.innerWidth>1024?h:n),c=x()(C,2),S=c[0],I=c[1],f=(0,o.useRef)();return(0,o.useEffect)(function(){return window.addEventListener("resize",function(){f.current&&clearTimeout(f.current),f.current=setTimeout(function(){I(window.innerWidth>1024?h:n)},50)}),function(){f.current&&clearTimeout(f.current)}},[]),(0,o.useMemo)(function(){return(0,e.jsx)(De.Z,p()(p()({column:S||4},y),{},{children:s.map(function(g){var m=g.render,i=g.dataIndex,E=g.show,d=$()(g,Qe),b="";if(E!==!1&&(console.log("dadatatadatadata",r[i],i),!(typeof m=="function"&&(b=m(r[i],r),b===!1))&&!(u&&(r[i]===void 0||r[i]===null)&&(typeof m!="function"||b==null||b==="")))){var w=typeof v!="undefined"&&v!==null?v:"";return console.log("emptyTextemptyText",w,b),(0,o.createElement)(qe,p()(p()({},d),{},{key:i}),typeof m=="function"?b||w:typeof r[i]!="undefined"&&r[i]!==null?r[i]:w)}})}))},[l,S])},et=_e,tt=["defaultValue"],nt=["psId","onSuccess"];function at(t){var l=t.status;return Me().isNil(l)?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:"\u8349\u7A3F"}):(0,e.jsx)("div",{className:re()("w-min whitespace-nowrap h-6 px-2.5 py-1 bg-opacity-10 rounded justify-start items-center gap-2.5 inline-flex",{"bg-rose-500":l!==1,"bg-green-600":l===1}),children:(0,e.jsx)("div",{className:re()("text-green-600 text-base font-normal leading-none",{"text-rose-500":l!==1,"text-green-600":l===1}),children:l===1?"\u5F53\u524D\u4F7F\u7528":"\u8FC7\u53BB\u7248\u672C"})})}function W(t){var l=t.action,s=t.onClick,r=t.to;return r?(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",children:(0,e.jsx)("a",{href:r,children:l})}):(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",onClick:s,children:(0,e.jsx)("div",{className:"text-base font-normal leading-none text-black",children:l})})}function ce(t){var l=t.psId,s=t.disableSelectFile,r=s===void 0?!1:s,v=t.openNewTab,u=v===void 0?!1:v,h=t.hiddenUpdate,n=t.modelId,y=t.isNew,C=t.isRead,c=t.modelStatus,S=t.file,I=t.onFileChange,f=t.btnText,g=f===void 0?"\u4E0A\u4F20\u6A21\u578B":f,m=(0,o.useRef)(null),i=function(){return c!==1?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-amber-500",children:"\u7B49\u5F85\u89E3\u6790"}):(0,e.jsx)(W,{onClick:function(){return u?window.open("/model?id=".concat(n),"_blank"):void 0},to:u?void 0:"/model?id=".concat(n),action:"\u5728\u7EBF\u67E5\u770B"})},E=function(b){var w;!r&&((w=m.current)===null||w===void 0||w.click())};return(0,e.jsxs)("div",{className:"text-neutral-400 text-base font-normal leading-none flex items-center gap-2.5",children:[(0,e.jsx)("input",{ref:m,type:"file",hidden:!0,accept:".zip",onChange:I}),!C&&(0,ie.lS)(S==null?void 0:S.name,10,10),C?i():y?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(W,{action:g,onClick:E})}):(0,e.jsx)(e.Fragment,{children:!S&&i()})]})}function N(t){var l=typeof t.value=="string"||typeof t.value=="number";return(0,e.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,e.jsxs)("div",{className:"text-base font-normal leading-normal text-black",children:[t.tit,": "]}),l?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:t.value}):t.value]})}function lt(t){var l=t.defaultValue,s=$()(t,tt);return(0,e.jsx)("input",p()({type:"text",className:"w-full px-5 py-[15px] bg-gray-28 rounded-lg border border-neutral-200 justify-start items-start gap-2.5 inline-flex text-black text-base font-normal leading-none"},s))}function rt(t){var l=(0,je.oR)(),s=l.userData,r=t.organization||(s==null?void 0:s.organization);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(N,{tit:"\u7EC4\u7EC7\u540D\u79F0",value:(r==null?void 0:r.name)||"-"}),(0,e.jsx)(N,{tit:"\u7EC4\u7EC7\u7F16\u53F7",value:(r==null?void 0:r.serialNumber)||"-"})]})}function ot(t){var l,s,r=t.psId,v=t.onSuccess,u=$()(t,nt),h=(0,ye.Kv)(r,6e4),n=h.data,y=h.isLoading,C=h.error,c=(0,o.useState)(""),S=x()(c,2),I=S[0],f=S[1],g=(0,o.useRef)(!0);(0,o.useEffect)(function(){n&&g.current&&(f(n.description||""),g.current=!1)},[n]),(0,o.useEffect)(function(){C&&u.onClose&&u.onClose()},[C]);var m=(0,o.useState)(!1),i=x()(m,2),E=i[0],d=i[1],b=(0,o.useState)(null),w=x()(b,2),B=w[0],Z=w[1],oe=(0,o.useState)(!1),G=x()(oe,2),q=G[0],K=G[1],_=(0,o.useCallback)(function(P){var T;Z((T=P.target.files)===null||T===void 0?void 0:T.item(0))},[]),H=(0,Fe.Z)(!1),j=x()(H,2),M=j[0],D=j[1],fe=(0,o.useState)(),ve=x()(fe,2),se=ve[0],pe=ve[1],me=(0,be.n)(),Se=(0,je.oR)(),ee=Se.userData,te=(n==null?void 0:n.org)||(ee==null?void 0:ee.organization),xe=[{label:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid"},{label:"\u63CF\u8FF0",dataIndex:"inputDesc"},{label:"\u64CD\u4F5C\u4EBA",dataIndex:"updateUser"},{label:"BOM\u4FE1\u606F",dataIndex:"bom",render:function(){return(0,e.jsx)(W,{action:"\u67E5\u770B",onClick:function(){return K(!0)}})}},{label:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",dataIndex:"real",render:function(){return(0,e.jsx)(W,{action:"\u67E5\u770B",onClick:function(){return D(!0)}})}},{label:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",dataIndex:"lca",render:function(){var T,O;return(0,e.jsx)(ce,{modelId:n==null||(T=n.model)===null||T===void 0?void 0:T.id,disableSelectFile:E,modelStatus:n==null||(O=n.model)===null||O===void 0?void 0:O.state,hiddenUpdate:me,file:B,onFileChange:_})}},{label:"\u7EC4\u7EC7\u540D\u79F0",dataIndex:"name"},{label:"\u7EC4\u7EC7\u7F16\u53F7",dataIndex:"serialNumber"}],ue={uuid:n==null?void 0:n.uuid,inputDesc:n==null?void 0:n.description,updateUser:n==null?void 0:n.updateUser.name,name:te.name,serialNumber:te==null?void 0:te.serialNumber};return console.log("ddataatadata",ue,n),(0,e.jsxs)(L.u_,p()(p()({},u),{},{children:[y&&!n&&(0,e.jsx)(Q.g,{className:"min-h-[100px]"}),n&&(0,e.jsx)("div",{className:"flex flex-col gap-5  w-10 min-w-[20rem] px-5 py-[1px] max-h-mc overflow-y-auto ",children:(0,e.jsx)(et,{options:xe,data:ue,optionEmptyText:"-",layout:"vertical",column:1,contentStyle:{color:"#999999",fontWeight:"400"},labelStyle:{color:"#000000",fontWeight:"400"}})}),M&&(0,e.jsx)(he.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:n==null||(l=n.model)===null||l===void 0?void 0:l.paramDetail,onClose:function(){return D(!1)}}),se&&(0,e.jsx)(Je,{onClose:function(){return pe(void 0)},ps:se}),q&&(0,e.jsx)(Ie,{modelBomInfo:n==null||(s=n.model)===null||s===void 0?void 0:s.modelBomInfo,onClose:function(){return K(!1)}})]}))}var st=a(97980),ge=a(54916);function ut(t){var l=t.value,s=t.bg,r=s===void 0?"#dddddd":s,v=t.color,u=v===void 0?"#29953A":v,h=t.className;return(0,e.jsx)("div",{className:re()(h,"w-full h-[10px]"),style:{background:r},children:(0,e.jsx)("div",{style:{width:"".concat(l,"%"),transition:"width 200ms ease",background:u},className:"h-full"})})}function Ct(t){var l=t.index,s=t.full,r=t.bg,v=r===void 0?"#dddddd":r,u=t.color,h=u===void 0?"#29953A":u,n=t.className;return _jsx("div",{className:classNames(n,"w-full h-[10px]"),style:{background:v},children:_jsx("div",{style:{marginLeft:s?"0":"".concat(l*25,"%"),width:s?"100%":"25%",background:h},className:"h-full"})})}var it=a(81920),dt=["onSuccess","onClose"];function ct(t){var l=t.onSuccess,s=t.onClose,r=$()(t,dt),v=(0,o.useState)(""),u=x()(v,2),h=u[0],n=u[1],y=(0,o.useState)(!1),C=x()(y,2),c=C[0],S=C[1],I=(0,o.useState)(0),f=x()(I,2),g=f[0],m=f[1],i=(0,o.useState)(null),E=x()(i,2),d=E[0],b=E[1],w=(0,o.useState)("upload"),B=x()(w,2),Z=B[0],oe=B[1],G=!d,q=(0,o.useState)(""),K=x()(q,2),_=K[0],H=K[1],j=(0,o.useState)({id:0,modelBomInfo:"",paramDetail:"",modelName:""}),M=x()(j,2),D=M[0],fe=M[1],ve=(0,o.useState)(!1),se=x()(ve,2),pe=se[0],me=se[1],Se=(0,o.useState)(!1),ee=x()(Se,2),te=ee[0],xe=ee[1],ue=(0,o.useCallback)(function(F){var R;b((R=F.target.files)===null||R===void 0?void 0:R.item(0))},[]),P=(0,o.useRef)(),T=(0,o.useCallback)(function(){var F;(F=P.current)===null||F===void 0||F.abort(),s&&s()},[s]),O=function(){S(!1),m(0),H("")},xt=(0,it.o)(),ht=function(){var F=Ne()(de()().mark(function R(ne){var Y;return de()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:H("\u6A21\u578B\u89E3\u6790\u4E2D......");case 1:return A.next=4,(0,ie._v)(5e3);case 4:if(xt.current){A.next=6;break}return A.abrupt("return");case 6:return A.next=8,(0,ge.Yp)(ne).catch(function(){});case 8:if(Y=A.sent,m(function(St){return Math.min(St+10,100)}),!(Y&&Y.state===1&&Y.modelBomInfo)){A.next=12;break}return A.abrupt("return",Y);case 12:A.next=1;break;case 14:case"end":return A.stop()}},R)}));return function(ne){return F.apply(this,arguments)}}(),gt=function(){H("\u6B63\u5728\u4E0A\u4F20......");var R=new FormData;R.append("file",d),P.current=new AbortController,(0,ge.av)(R,{signal:P.current.signal,onUploadProgress:function(Y){m(Math.min(Math.round((Y.progress||0)*100),60))}}).then(ht).then(function(ne){ne&&(fe(ne),oe("add"),O())}).catch(function(){O()})},pt=(0,st.R)(function(){if(!G)if(Z==="upload"){if(c)return;S(!0),gt()}else(0,ge.bc)({name:D.modelName,description:h,modelId:D.id}).then(function(){l&&l(),T()}).catch(function(F){console.log("err",F)})});return(0,e.jsxs)(o.Fragment,{children:[(0,e.jsx)(L.u_,p()(p()({},r),{},{title:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF",onClose:function(){T(),O()},children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:[(0,e.jsx)("div",{className:re()("flex flex-col w-full flex-1  max-h-mc px-5 py-[1px] overflow-y-auto ".concat(c?"gap-0":"gap-5")),children:c?(0,e.jsxs)(o.Fragment,{children:[(0,e.jsx)("div",{className:"flex justify-center w-full",children:_}),(0,e.jsx)(ut,{value:g,className:"my-5 overflow-hidden rounded-lg"})]}):Z==="upload"?(0,e.jsx)(N,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(ce,{isNew:!0,disableSelectFile:c,file:d,onFileChange:ue,btnText:"\u9009\u62E9\u6A21\u578B"})}):(0,e.jsxs)(o.Fragment,{children:[(0,e.jsx)(N,{tit:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",value:D==null?void 0:D.modelName}),(0,e.jsx)(N,{tit:"BOM\u4FE1\u606F",value:(0,e.jsx)(W,{action:"\u67E5\u770B",onClick:function(){return me(!0)}})}),(0,e.jsx)(N,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(W,{action:"\u67E5\u770B",onClick:function(){return xe(!0)}})}),(0,e.jsx)(N,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(ce,{modelStatus:c?0:1,modelId:D.id,openNewTab:!0,onFileChange:ue})}),(0,e.jsx)(N,{tit:"\u63CF\u8FF0",value:(0,e.jsx)(lt,{maxLength:100,value:h,onChange:function(R){return n(R.target.value)}})})]})}),(0,e.jsx)("div",{className:"flex flex-shrink-0 w-full gap-5 px-5",children:!c&&(0,e.jsxs)(o.Fragment,{children:[(0,e.jsx)(V.u,{type:"default",size:"large",className:"flex-1",onClick:function(){T(),O()},children:"\u53D6\u6D88"}),(0,e.jsx)(V.u,{size:"large",type:"primary",className:"flex-1",onClick:pt,disabled:G,children:Z==="upload"?"\u4E0A\u4F20":"\u786E\u5B9A"})]})})]})})),te&&(0,e.jsx)(he.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:D==null?void 0:D.paramDetail,onClose:function(){return xe(!1)}}),pe&&(0,e.jsx)(Ie,p()(p()({},D),{},{onClose:function(){return me(!1)}}))]})}function ft(){var t=(0,o.useState)(null),l=x()(t,2),s=l[0],r=l[1],v=(0,o.useState)(),u=x()(v,2),h=u[0],n=u[1],y=(0,o.useState)(null),C=x()(y,2),c=C[0],S=C[1],I=(0,o.useState)(!1),f=x()(I,2),g=f[0],m=f[1],i=(0,o.useState)(1),E=x()(i,2),d=E[0],b=E[1],w=(0,ye.uU)(d,1e4),B=w.data,Z=w.isLoading,oe=w.mutate,G=(0,o.useMemo)(function(){return((B==null?void 0:B.records)||[]).map(function(j,M){return p()(p()({},j),{},{key:"pl"+M,optName:j.updateUser.name})})},[B]),q=(0,o.useMemo)(function(){return[{title:"\u5B9E\u666F\u8F93\u5165\u9879",dataIndex:"context",width:"20%"},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"parameter",width:"30%"},{title:"\u53C2\u8003\u503C",dataIndex:"amount",width:"20%"},{title:"\u4E0D\u786E\u5B9A\u6027",dataIndex:"uncertainty",emptyText:"-",width:"30%"}]},[]),K=(0,be.b)(),_=function(){b(1),d===1&&oe()},H=(0,o.useMemo)(function(){return[{title:"\u4EA7\u54C1\u7CFB\u7EDF",dataIndex:"name",ellipsis:!0,width:200},{title:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid",width:170,renderText:U.zL},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"optName",width:100},{title:"\u63CF\u8FF0",dataIndex:"description",ellipsis:!0,width:200},{title:"\u4E0A\u4F20\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",width:170},{title:"\u64CD\u4F5C",width:100,valueType:"option",render:function(M,D){return[(0,e.jsx)("div",{className:"cursor-pointer text-green-2",onClick:function(){n(D)},children:"\u67E5\u770B"},"key_look")]}}]},[]);return(0,e.jsxs)(ae.Z,{title:"\u6211\u7684\u4EA7\u54C1\u7CFB\u7EDF",extra:K?[(0,e.jsx)(V.u,{onClick:function(){return m(!0)},children:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF"},"key_new_ps")]:[],children:[(0,e.jsx)("div",{className:"bg-white",children:(0,e.jsx)(U.rx,{columns:H,dataSource:G,loading:Z,pagination:{pageSize:10,total:(B==null?void 0:B.total)||0,onChange:function(M){b(M)}}})}),!!s&&(0,e.jsx)(L.u_,{title:s.modelName+"\u6A21\u578B\u4E2D\u7684\u5B9E\u666F\u8F93\u5165\u9879",onClose:function(){return r(null)},children:(0,e.jsxs)("div",{className:"flex w-[60rem] min-h-[16rem] flex-col pb-2",children:[(0,e.jsx)("ul",{className:"flex mb-1",children:q.map(function(j,M){return(0,e.jsx)("li",{className:"px-3 text-lg font-bold",style:{width:j.width},children:j.title},"columns".concat(M))})}),(0,e.jsx)("div",{className:"max-h-[15rem] min-h-[5rem] overflow-y-auto",children:(0,e.jsx)(k.i,{size:"big",hiddenHeader:!0,columns:q,data:s.paramDetail})})]})}),c&&(0,e.jsx)(L.u_,{title:(c==null?void 0:c.title)||"\u64CD\u4F5C",onClose:function(){return S(null)},children:(0,e.jsx)("div",{className:"pb-2 text-center",children:c.loading?(0,e.jsx)(Q.g,{}):(0,e.jsx)("span",{children:c.resultText})})}),g&&(0,e.jsx)(ct,{onClose:function(){return m(!1)},onSuccess:function(){return _()}}),h&&(0,e.jsx)(ot,{psId:h.id,title:h.name,onClose:function(){return n(void 0)},onSuccess:function(){return _()}})]})}var vt=ft,mt=vt}}]);
