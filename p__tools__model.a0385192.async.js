"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3942],{81920:function(De,Q,a){a.d(Q,{o:function(){return h}});var q=a(79685);function h(){var W=(0,q.useRef)(!0);return(0,q.useEffect)(function(){return W.current=!0,function(){W.current=!1}},[]),W}},2042:function(De,Q,a){a.d(Q,{n:function(){return f},s:function(){return W}});var q=a(97207),h=a.n(q);function W(se){var z=h().groupBy(se,"flowId"),Z=function _($){$.forEach(function(k){if(k._child||(k._child=(k.childFlowIds||[]).map(function(G){return z[G][0]}),_(k._child)),k._child.length===0)k._depth=0;else{var ie;k._depth=(((ie=h().maxBy(k._child,"_depth"))===null||ie===void 0?void 0:ie._depth)||0)+1}})};Z(se)}var f=function(z,Z){var _=typeof z=="string"?[z]:z;return!!h().find(_,function($){return $.startsWith(Z)})}},83529:function(De,Q,a){a.r(Q),a.d(Q,{default:function(){return gt}});var q=a(48651),h=a.n(q),W=a(86516),f=a.n(W),se=a(64082),z=a(18842),Z=a(9991),_=a(11e3),$=a(95968),k=a(48294),ie=a(38046),G=a.n(ie),Me=a(99095),Be=a(8965),Te=a(76222),ee=a(81123),Oe=a(68591),ue=a.n(Oe),Ue=a(97207),ze=a.n(Ue),r=a(79685),Pe=a(12239),Ce=a(5053),Ve=a(70300),We=a.n(Ve),Ze=a(22786),me=a.n(Ze),Ge=a(46299),Re=a.n(Ge),Ae=a(62905),Ke=a(58020),He=a(11209),Ye=a(62370),Je=a.n(Ye),e=a(63342),Xe={startOnLoad:!0,theme:"default",logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!0},themeVariables:{},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:800,height:200,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,wrapPadding:20},gantt:{titleTopMargin:25,barHeight:16,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d"},class:{titleTopMargin:20,defaultRenderer:"dagre-wrapper"},pie:{}},Qe={count:1};function qe(t){var l=t.className,o=t.data,i=o===void 0?"":o,d=(0,r.useMemo)(function(){return"aicp_mermaid_".concat(Qe.count++)},[]),s=function(){var c=Re()(me()().mark(function y(){var I,v,C,m,x;return me()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,I=document.querySelector("#"+d),I){u.next=4;break}return u.abrupt("return");case 4:return Ae.N.initialize(Xe),u.next=7,Ae.N.render(d+"-svg",i);case 7:if(v=u.sent,C=v.svg,m=v.bindFunctions,I.innerHTML=C,m==null||m(I),x=document.getElementById(d+"-svg"),x){u.next=15;break}return u.abrupt("return");case 15:x.setAttribute("height","100%"),x.style.maxWidth="100%",Je()(x,{mouseWheelZoomEnabled:!1,zoomEnabled:!0,controlIconsEnabled:!0}),u.next=23;break;case 20:u.prev=20,u.t0=u.catch(0),console.error(u.t0);case 23:case"end":return u.stop()}},y,null,[[0,20]])}));return function(){return c.apply(this,arguments)}}(),n=(0,Ke.Z)(),S=f()(n,2),N=S[0],j=S[1].width;return(0,He.Z)(s,300,[j,i]),(0,e.jsx)("div",{ref:N,id:d,className:ue()("mermaid p-2.5",l)})}var _e=qe,et=_e,Le=a(2042),tt=["onClose"],at=function(l){var o=l.onClose,i=G()(l,tt),d=i.modelBomInfo,s=d===void 0?"":d,n=s&&JSON.parse(s),S=function(C,m){var x=(0,Le.n)(C.tagType,"REFERENCE"),F=(0,Le.n)(m.tagType,"REFERENCE");return x&&!F?-1:!x&&F?1:0},N=(n||[]).sort(S),j=[],c=`graph TD
`;(N||[]).forEach(function(v,C){var m=v.flowName,x=v.childFlowIds;c+="".concat(C+1,'["').concat(m,`"]
`),j.push("style ".concat(C+1,` color:black,fill:#F1F1F1,stroke:black
`)),x&&x.length>0&&x.forEach(function(F){var u=N.findIndex(function(A){return A.flowId===F});u!==-1&&(c+="".concat(u+1," --> ").concat(C+1,`
`),j.push("style ".concat(u+1,` color:black,fill:#F1F1F1,stroke:black
`)))})});var y=We()(new Set(j||[])).toString().replace(/,style/g," style"),I="".concat(c,`
`).concat(y);return(0,e.jsx)($.u_,h()(h()({},i),{},{title:"\u67E5\u770BBOM\u4FE1\u606F",onClose:o,children:(0,e.jsx)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full flex-1 max-h-mc px-5 py-[1px] overflow-y-auto",children:[(0,e.jsx)(T,{tit:"BOM\u7ED3\u6784",value:(0,e.jsx)(et,{data:I,className:"flex justify-center w-[800px] h-[200px] bg-[#F1F1F1]"})}),(0,e.jsx)(T,{tit:"Part Number\u4FE1\u606F",value:null}),(N||[]).map(function(v,C){return(0,e.jsxs)("div",{className:"flex flex-row gap-10 p-0",children:[(0,e.jsx)("div",{className:"w-[200px] text-base text-[#666666] ",children:v.flowName}),(0,e.jsx)("div",{className:"flex flex-wrap flex-shrink w-[30rem] items-center",children:((v==null?void 0:v.partNumbers)||[]).map(function(m,x){return(0,e.jsx)("div",{className:"flex max-w-lg items-center bg-[#F1F1F1] h-6 mb-[10px] rounded ml-5",children:(0,e.jsxs)("div",{className:" w-full mx-[10px] items-center font-normal","data-tooltip-id":"tooltip","data-tooltip-content":(0,ee.iT)(m,10),children:["PN : ",(0,ee.lS)(m,8,8)]})},"value_".concat(x))})})]},"info_".concat(C))})]})})}))},$e=at,nt=["ps"];function rt(t){var l,o,i,d,s=t.ps,n=G()(t,nt),S=(0,Pe.Z)(!1),N=f()(S,2),j=N[0],c=N[1];return(0,e.jsxs)($.u_,h()(h()({title:s.name},n),{},{children:[(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(T,{tit:"UID",value:s.uuid||"-"}),(0,e.jsx)(T,{tit:"\u7248\u672C",value:s.version||"-"}),(0,e.jsx)(T,{tit:"\u63CF\u8FF0",value:s.description||"-"}),(0,e.jsx)(T,{tit:"\u72B6\u6001",value:(0,e.jsx)(st,{status:s.state})}),(0,e.jsx)(T,{tit:"\u53D8\u66F4\u4EBA",value:((l=s.updateUser)===null||l===void 0?void 0:l.name)||"-"}),(0,e.jsx)(T,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(xe,{modelId:(o=s.model)===null||o===void 0?void 0:o.id,modelStatus:(i=s.model)===null||i===void 0?void 0:i.state,isRead:!0})}),(0,e.jsx)(T,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(K,{action:"\u67E5\u770B",onClick:function(){return c(!0)}})}),(0,e.jsx)(ut,{organization:s.org})]}),j&&(0,e.jsx)(Ce.d,{data:(d=s.model)===null||d===void 0?void 0:d.paramDetail,onClose:function(){return c(!1)}})]}))}var ke=a(46284),lt=["defaultValue"],ot=["psId","onSuccess"];function st(t){var l=t.status;return ze().isNil(l)?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:"\u8349\u7A3F"}):(0,e.jsx)("div",{className:ue()("w-min whitespace-nowrap h-6 px-2.5 py-1 bg-opacity-10 rounded justify-start items-center gap-2.5 inline-flex",{"bg-rose-500":l!==1,"bg-green-600":l===1}),children:(0,e.jsx)("div",{className:ue()("text-green-600 text-base font-normal leading-none",{"text-rose-500":l!==1,"text-green-600":l===1}),children:l===1?"\u5F53\u524D\u4F7F\u7528":"\u8FC7\u53BB\u7248\u672C"})})}function K(t){var l=t.action,o=t.onClick,i=t.to;return i?(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",children:(0,e.jsx)("a",{href:i,children:l})}):(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",onClick:o,children:(0,e.jsx)("div",{className:"text-base font-normal leading-none text-black",children:l})})}function xe(t){var l=t.psId,o=t.disableSelectFile,i=o===void 0?!1:o,d=t.openNewTab,s=d===void 0?!1:d,n=t.hiddenUpdate,S=t.modelId,N=t.isNew,j=t.isRead,c=t.modelStatus,y=t.file,I=t.onFileChange,v=t.btnText,C=v===void 0?"\u4E0A\u4F20\u6A21\u578B":v,m=(0,r.useRef)(null),x=function(){return c!==1?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-amber-500",children:"\u7B49\u5F85\u89E3\u6790"}):(0,e.jsx)(K,{onClick:function(){return s?window.open("/model?id=".concat(S),"_blank"):void 0},to:s?void 0:"/model?id=".concat(S),action:"\u5728\u7EBF\u67E5\u770B"})},F=function(A){var L;!i&&((L=m.current)===null||L===void 0||L.click())};return(0,e.jsxs)("div",{className:"text-neutral-400 text-base font-normal leading-none flex items-center gap-2.5",children:[(0,e.jsx)("input",{ref:m,type:"file",hidden:!0,accept:".zip",onChange:I}),!j&&(0,ee.lS)(y==null?void 0:y.name,10,10),j?x():N?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(K,{action:C,onClick:F})}):(0,e.jsx)(e.Fragment,{children:!y&&x()})]})}function T(t){var l=typeof t.value=="string"||typeof t.value=="number";return(0,e.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,e.jsxs)("div",{className:"text-base font-normal leading-normal text-black",children:[t.tit,": "]}),l?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:t.value}):t.value]})}function it(t){var l=t.defaultValue,o=G()(t,lt);return(0,e.jsx)("input",h()({type:"text",className:"w-full px-5 py-[15px] bg-gray-28 rounded-lg border border-neutral-200 justify-start items-start gap-2.5 inline-flex text-black text-base font-normal leading-none"},o))}function ut(t){var l=(0,Me.oR)(),o=l.userData,i=t.organization||(o==null?void 0:o.organization);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(T,{tit:"\u7EC4\u7EC7\u540D\u79F0",value:(i==null?void 0:i.name)||"-"}),(0,e.jsx)(T,{tit:"\u7EC4\u7EC7\u7F16\u53F7",value:(i==null?void 0:i.serialNumber)||"-"})]})}function dt(t){var l,o=t.psId,i=t.onSuccess,d=G()(t,ot),s=(0,Be.Kv)(o,6e4),n=s.data,S=s.isLoading,N=s.error,j=(0,r.useState)(""),c=f()(j,2),y=c[0],I=c[1],v=(0,r.useRef)(!0);(0,r.useEffect)(function(){n&&v.current&&(I(n.description||""),v.current=!1)},[n]),(0,r.useEffect)(function(){N&&d.onClose&&d.onClose()},[N]);var C=(0,r.useState)(!1),m=f()(C,2),x=m[0],F=m[1],u=(0,r.useState)(null),A=f()(u,2),L=A[0],P=A[1],H=(0,r.useState)(!1),te=f()(H,2),ae=te[0],Y=te[1],ne=(0,r.useCallback)(function(w){var b;P((b=w.target.files)===null||b===void 0?void 0:b.item(0))},[]),re=(0,Pe.Z)(!1),V=f()(re,2),g=V[0],R=V[1],E=(0,r.useState)(),de=f()(E,2),pe=de[0],he=de[1],Ne=(0,Te.n)(),ge=(0,Me.oR)(),ce=ge.userData,U=(n==null?void 0:n.org)||(ce==null?void 0:ce.organization),ye=[{label:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid"},{label:"\u63CF\u8FF0",dataIndex:"inputDesc"},{label:"\u64CD\u4F5C\u4EBA",dataIndex:"updateUser"},{label:"BOM\u4FE1\u606F",dataIndex:"bom",render:function(){return(0,e.jsx)(K,{action:"\u67E5\u770B",onClick:function(){return Y(!0)}})}},{label:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",dataIndex:"real",render:function(){return(0,e.jsx)(K,{action:"\u67E5\u770B",onClick:function(){return R(!0)}})}},{label:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",dataIndex:"lca",render:function(){var b,J;return(0,e.jsx)(xe,{modelId:n==null||(b=n.model)===null||b===void 0?void 0:b.id,disableSelectFile:x,modelStatus:n==null||(J=n.model)===null||J===void 0?void 0:J.state,hiddenUpdate:Ne,file:L,onFileChange:ne})}},{label:"\u7EC4\u7EC7\u540D\u79F0",dataIndex:"name"},{label:"\u7EC4\u7EC7\u7F16\u53F7",dataIndex:"serialNumber"}],le={uuid:n==null?void 0:n.uuid,inputDesc:n==null?void 0:n.description,updateUser:n==null?void 0:n.updateUser.name,name:U==null?void 0:U.name,serialNumber:U==null?void 0:U.serialNumber},Se=(0,r.useMemo)(function(){return[{title:"\u53C2\u6570\u540D",dataIndex:"name",ellipsis:!0,width:200},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"uuid",width:170},{title:"\u53C2\u8003\u503C",dataIndex:"optName",width:100}]},[]),oe=(0,r.useMemo)(function(){var w,b;if(!le)return[];var J=(0,ee.OA)(n==null||(w=n.model)===null||w===void 0?void 0:w.paramDetail)||[],we=((b=J[0])===null||b===void 0?void 0:b.parameters)||[];return we.map(function(X){return[X.name,X.context.name,X.value]}).map(function(X){var fe=f()(X,3),ve=fe[0],Ie=fe[1],Fe=fe[2];return{name:ve,uuid:Ie,optName:Fe.toString()}})},[le]);return console.log("ps?.model?.modelBomInfo",oe),(0,e.jsxs)($.u_,h()(h()({},d),{},{children:[S&&!n&&(0,e.jsx)(_.g,{className:"min-h-[100px]"}),n&&(0,e.jsx)("div",{className:"flex flex-col gap-5 w-[600px] min-w-[20rem] px-5 py-[1px] max-h-mc overflow-y-auto ",children:(0,e.jsx)(ke.Z,{options:ye,data:le,optionEmptyText:"-",layout:"vertical",column:1,contentStyle:{color:"#999999",fontWeight:"400"},labelStyle:{color:"#000000",fontWeight:"400"}})}),g&&(0,e.jsx)(Ce.d,{isShow:!0,header:Se,data:oe,onClose:function(){return R(!1)}}),pe&&(0,e.jsx)(rt,{onClose:function(){return he(void 0)},ps:pe}),ae&&(0,e.jsx)($e,{modelBomInfo:n==null||(l=n.model)===null||l===void 0?void 0:l.modelBomInfo,onClose:function(){return Y(!1)}})]}))}var ct=a(97980),be=a(54916);function ft(t){var l=t.value,o=t.bg,i=o===void 0?"#dddddd":o,d=t.color,s=d===void 0?"#29953A":d,n=t.className;return(0,e.jsx)("div",{className:ue()(n,"w-full h-[10px]"),style:{background:i},children:(0,e.jsx)("div",{style:{width:"".concat(l,"%"),transition:"width 200ms ease",background:s},className:"h-full"})})}function Ct(t){var l=t.index,o=t.full,i=t.bg,d=i===void 0?"#dddddd":i,s=t.color,n=s===void 0?"#29953A":s,S=t.className;return _jsx("div",{className:classNames(S,"w-full h-[10px]"),style:{background:d},children:_jsx("div",{style:{marginLeft:o?"0":"".concat(l*25,"%"),width:o?"100%":"25%",background:n},className:"h-full"})})}var vt=a(81920),mt=["onSuccess","onClose"];function xt(t){var l=t.onSuccess,o=t.onClose,i=G()(t,mt),d=(0,r.useState)(""),s=f()(d,2),n=s[0],S=s[1],N=(0,r.useState)(!1),j=f()(N,2),c=j[0],y=j[1],I=(0,r.useState)(0),v=f()(I,2),C=v[0],m=v[1],x=(0,r.useState)(null),F=f()(x,2),u=F[0],A=F[1],L=(0,r.useState)("upload"),P=f()(L,2),H=P[0],te=P[1],ae=!u,Y=(0,r.useState)(""),ne=f()(Y,2),re=ne[0],V=ne[1],g=(0,r.useState)({id:0,modelBomInfo:"",paramDetail:"",modelName:""}),R=f()(g,2),E=R[0],de=R[1],pe=(0,r.useState)(!1),he=f()(pe,2),Ne=he[0],ge=he[1],ce=(0,r.useState)(!1),U=f()(ce,2),ye=U[0],le=U[1],Se=(0,r.useCallback)(function(p){var D;A((D=p.target.files)===null||D===void 0?void 0:D.item(0))},[]),oe=(0,r.useRef)(),w=(0,r.useCallback)(function(){var p;(p=oe.current)===null||p===void 0||p.abort(),o&&o()},[o]),b=function(){y(!1),m(0),V("")},J=(0,vt.o)(),we=function(){var p=Re()(me()().mark(function D(O){var M;return me()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:V("\u6A21\u578B\u89E3\u6790\u4E2D......");case 1:return B.next=4,(0,ee._v)(5e3);case 4:if(J.current){B.next=6;break}return B.abrupt("return");case 6:return B.next=8,(0,be.Yp)(O).catch(function(){});case 8:if(M=B.sent,m(function(Ee){return Math.min(Ee+10,100)}),!(M&&M.state===1&&M.modelBomInfo)){B.next=12;break}return B.abrupt("return",M);case 12:B.next=1;break;case 14:case"end":return B.stop()}},D)}));return function(O){return p.apply(this,arguments)}}(),X=function(){V("\u6B63\u5728\u4E0A\u4F20......");var D=new FormData;D.append("file",u),oe.current=new AbortController,(0,be.av)(D,{signal:oe.current.signal,onUploadProgress:function(M){m(Math.min(Math.round((M.progress||0)*100),60))}}).then(we).then(function(O){O&&(de(O),te("add"),b())}).catch(function(){b()})},fe=(0,ct.R)(function(){if(!ae)if(H==="upload"){if(c)return;y(!0),X()}else(0,be.bc)({name:E.modelName,description:n,modelId:E.id}).then(function(){l&&l(),w()}).catch(function(p){console.log("err",p)})}),ve={modelName:E==null?void 0:E.modelName,bom:"",realData:"",lca:"",desc:""},Ie=[{label:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",dataIndex:"modelName"},{label:"BOM\u4FE1\u606F",dataIndex:"bom",render:function(){return(0,e.jsx)(K,{action:"\u67E5\u770B",onClick:function(){return ge(!0)}})}},{label:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",dataIndex:"realData",render:function(){return(0,e.jsx)(K,{action:"\u67E5\u770B",onClick:function(){return le(!0)}})}},{label:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",dataIndex:"lca",render:function(){return(0,e.jsx)(xe,{modelStatus:c?0:1,modelId:E.id,openNewTab:!0,onFileChange:Se})}},{label:"\u63CF\u8FF0",dataIndex:"desc",render:function(){return(0,e.jsx)(it,{maxLength:100,value:n,onChange:function(O){return S(O.target.value)}})}}],Fe=(0,r.useMemo)(function(){return[{title:"\u53C2\u6570\u540D",dataIndex:"name",ellipsis:!0,width:200},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"uuid",width:170},{title:"\u53C2\u8003\u503C",dataIndex:"optName",width:100}]},[]),St=(0,r.useMemo)(function(){var p;if(!ve)return[];var D=(0,ee.OA)(E==null?void 0:E.paramDetail)||[],O=((p=D[0])===null||p===void 0?void 0:p.parameters)||[];return O.map(function(M){return[M.name,M.context.name,M.value]}).map(function(M){var je=f()(M,3),B=je[0],Ee=je[1],jt=je[2];return{name:B,uuid:Ee,optName:jt.toString()}})},[ve]);return(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)($.u_,h()(h()({},i),{},{title:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF",onClose:function(){w(),b()},children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:[(0,e.jsx)("div",{className:ue()("flex flex-col w-full flex-1  max-h-mc px-5 py-[1px] overflow-y-auto ".concat(c?"gap-0":"gap-5")),children:c?(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)("div",{className:"flex justify-center w-full",children:re}),(0,e.jsx)(ft,{value:C,className:"my-5 overflow-hidden rounded-lg"})]}):H==="upload"?(0,e.jsx)(T,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(xe,{isNew:!0,disableSelectFile:c,file:u,onFileChange:Se,btnText:"\u9009\u62E9\u6A21\u578B"})}):(0,e.jsx)("div",{className:"flex flex-col gap-5  w-[600px] min-w-[20rem] py-[1px] max-h-mc overflow-y-auto ",children:(0,e.jsx)(ke.Z,{options:Ie,data:ve,optionEmptyText:"-",layout:"vertical",column:1,contentStyle:{color:"#999999",fontWeight:"400"},labelStyle:{color:"#000000",fontWeight:"400"}})})}),(0,e.jsx)("div",{className:"flex flex-shrink-0 w-full gap-5 px-5",children:!c&&(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)(Z.u,{type:"default",size:"large",className:"flex-1",onClick:function(){w(),b()},children:"\u53D6\u6D88"}),(0,e.jsx)(Z.u,{size:"large",type:"primary",className:"flex-1",onClick:fe,disabled:ae,children:H==="upload"?"\u4E0A\u4F20":"\u786E\u5B9A"})]})})]})})),ye&&(0,e.jsx)(Ce.d,{isShow:!0,header:Fe,data:St,onClose:function(){return le(!1)}}),Ne&&(0,e.jsx)($e,h()(h()({},E),{},{onClose:function(){return ge(!1)}}))]})}function pt(){var t=(0,r.useState)(null),l=f()(t,2),o=l[0],i=l[1],d=(0,r.useState)(),s=f()(d,2),n=s[0],S=s[1],N=(0,r.useState)(null),j=f()(N,2),c=j[0],y=j[1],I=(0,r.useState)(!1),v=f()(I,2),C=v[0],m=v[1],x=(0,r.useState)(1),F=f()(x,2),u=F[0],A=F[1],L=(0,Be.uU)(u,1e4),P=L.data,H=L.isLoading,te=L.mutate,ae=(0,r.useMemo)(function(){return((P==null?void 0:P.records)||[]).map(function(g,R){return h()(h()({},g),{},{key:"pl"+R,optName:g.updateUser.name})})},[P]),Y=(0,r.useMemo)(function(){return[{title:"\u5B9E\u666F\u8F93\u5165\u9879",dataIndex:"context",width:"20%"},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"parameter",width:"30%"},{title:"\u53C2\u8003\u503C",dataIndex:"amount",width:"20%"},{title:"\u4E0D\u786E\u5B9A\u6027",dataIndex:"uncertainty",emptyText:"-",width:"30%"}]},[]),ne=(0,Te.b)(),re=function(){A(1),u===1&&te()},V=(0,r.useMemo)(function(){return[{title:"\u4EA7\u54C1\u7CFB\u7EDF",dataIndex:"name",ellipsis:!0,width:200},{title:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid",width:170,renderText:z.zL},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"optName",width:100},{title:"\u63CF\u8FF0",dataIndex:"description",ellipsis:!0,width:200},{title:"\u4E0A\u4F20\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",width:170},{title:"\u64CD\u4F5C",width:100,valueType:"option",render:function(R,E){return[(0,e.jsx)("div",{className:"cursor-pointer text-green-2",onClick:function(){S(E)},children:"\u67E5\u770B"},"key_look")]}}]},[]);return(0,e.jsxs)(se.Z,{title:"\u6211\u7684\u4EA7\u54C1\u7CFB\u7EDF",extra:ne?[(0,e.jsx)(Z.u,{onClick:function(){return m(!0)},children:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF"},"key_new_ps")]:[],children:[(0,e.jsx)("div",{className:"bg-white",children:(0,e.jsx)(z.rx,{columns:V,dataSource:ae,loading:H,pagination:{pageSize:10,total:(P==null?void 0:P.total)||0,current:u,onChange:function(R){A(R)}}})}),!!o&&(0,e.jsx)($.u_,{title:o.modelName+"\u6A21\u578B\u4E2D\u7684\u5B9E\u666F\u8F93\u5165\u9879",onClose:function(){return i(null)},children:(0,e.jsxs)("div",{className:"flex w-[60rem] min-h-[16rem] flex-col pb-2",children:[(0,e.jsx)("ul",{className:"flex mb-1",children:Y.map(function(g,R){return(0,e.jsx)("li",{className:"px-3 text-lg font-bold",style:{width:g.width},children:g.title},"columns".concat(R))})}),(0,e.jsx)("div",{className:"max-h-[15rem] min-h-[5rem] overflow-y-auto",children:(0,e.jsx)(k.i,{size:"big",hiddenHeader:!0,columns:Y,data:o.paramDetail})})]})}),c&&(0,e.jsx)($.u_,{title:(c==null?void 0:c.title)||"\u64CD\u4F5C",onClose:function(){return y(null)},children:(0,e.jsx)("div",{className:"pb-2 text-center",children:c.loading?(0,e.jsx)(_.g,{}):(0,e.jsx)("span",{children:c.resultText})})}),C&&(0,e.jsx)(xt,{onClose:function(){return m(!1)},onSuccess:function(){return re()}}),n&&(0,e.jsx)(dt,{psId:n.id,title:n.name,onClose:function(){return S(void 0)},onSuccess:function(){return re()}})]})}var ht=pt,gt=ht}}]);
