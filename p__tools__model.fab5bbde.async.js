"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3942],{81920:function(Ne,X,a){a.d(X,{o:function(){return S}});var Q=a(79685);function S(){var V=(0,Q.useRef)(!0);return(0,Q.useEffect)(function(){return V.current=!0,function(){V.current=!1}},[]),V}},2042:function(Ne,X,a){a.d(X,{n:function(){return c},s:function(){return V}});var Q=a(97207),S=a.n(Q);function V(ne){var O=S().groupBy(ne,"flowId"),W=function q(L){L.forEach(function($){if($._child||($._child=($.childFlowIds||[]).map(function(Z){return O[Z][0]}),q($._child)),$._child.length===0)$._depth=0;else{var le;$._depth=(((le=S().maxBy($._child,"_depth"))===null||le===void 0?void 0:le._depth)||0)+1}})};W(ne)}var c=function(O,W){var q=typeof O=="string"?[O]:O;return!!S().find(q,function(L){return L.startsWith(W)})}},83529:function(Ne,X,a){a.r(X),a.d(X,{default:function(){return ft}});var Q=a(48651),S=a.n(Q),V=a(86516),c=a.n(V),ne=a(64082),O=a(18842),W=a(9991),q=a(11e3),L=a(95968),$=a(48294),le=a(38046),Z=a.n(le),ye=a(99095),we=a(8965),Ie=a(76222),re=a(81123),Pe=a(68591),oe=a.n(Pe),Re=a(97207),Ae=a.n(Re),o=a(79685),Fe=a(12239),he=a(5053),Le=a(70300),$e=a.n(Le),ke=a(22786),ue=a.n(ke),Ue=a(46299),Ee=a.n(Ue),De=a(62905),Oe=a(58020),ze=a(11209),Ve=a(62370),We=a.n(Ve),e=a(63342),Ze={startOnLoad:!0,theme:"default",logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!0},themeVariables:{},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:800,height:200,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,wrapPadding:20},gantt:{titleTopMargin:25,barHeight:16,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d"},class:{titleTopMargin:20,defaultRenderer:"dagre-wrapper"},pie:{}},Ge={count:1};function Ke(t){var l=t.className,r=t.data,i=r===void 0?"":r,f=(0,o.useMemo)(function(){return"aicp_mermaid_".concat(Ge.count++)},[]),s=function(){var d=Ee()(ue()().mark(function C(){var F,m,b,x,v;return ue()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(u.prev=0,F=document.querySelector("#"+f),F){u.next=4;break}return u.abrupt("return");case 4:return De.N.initialize(Ze),u.next=7,De.N.render(f+"-svg",i);case 7:if(m=u.sent,b=m.svg,x=m.bindFunctions,F.innerHTML=b,x==null||x(F),v=document.getElementById(f+"-svg"),v){u.next=15;break}return u.abrupt("return");case 15:v.setAttribute("height","100%"),v.style.maxWidth="100%",We()(v,{mouseWheelZoomEnabled:!1,zoomEnabled:!0,controlIconsEnabled:!0}),u.next=23;break;case 20:u.prev=20,u.t0=u.catch(0),console.error(u.t0);case 23:case"end":return u.stop()}},C,null,[[0,20]])}));return function(){return d.apply(this,arguments)}}(),h=(0,Oe.Z)(),n=c()(h,2),N=n[0],j=n[1].width;return(0,ze.Z)(s,300,[j,i]),(0,e.jsx)("div",{ref:N,id:f,className:oe()("mermaid p-2.5",l)})}var He=Ke,Ye=He,Me=a(2042),Je=["onClose"],Xe=function(l){var r=l.onClose,i=Z()(l,Je),f=i.modelBomInfo,s=f===void 0?"":f,h=s&&JSON.parse(s),n=function(b,x){var v=(0,Me.n)(b.tagType,"REFERENCE"),y=(0,Me.n)(x.tagType,"REFERENCE");return v&&!y?-1:!v&&y?1:0},N=(h||[]).sort(n),j=[],d=`graph TD
`;(N||[]).forEach(function(m,b){var x=m.flowName,v=m.childFlowIds;d+="".concat(b+1,'["').concat(x,`"]
`),j.push("style ".concat(b+1,` color:black,fill:#F1F1F1,stroke:black
`)),v&&v.length>0&&v.forEach(function(y){var u=N.findIndex(function(k){return k.flowId===y});u!==-1&&(d+="".concat(u+1," --> ").concat(b+1,`
`),j.push("style ".concat(u+1,` color:black,fill:#F1F1F1,stroke:black
`)))})});var C=$e()(new Set(j||[])).toString().replace(/,style/g," style"),F="".concat(d,`
`).concat(C);return(0,e.jsx)(L.u_,S()(S()({},i),{},{title:"\u67E5\u770BBOM\u4FE1\u606F",onClose:r,children:(0,e.jsx)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full flex-1 max-h-mc px-5 py-[1px] overflow-y-auto",children:[(0,e.jsx)(T,{tit:"BOM\u7ED3\u6784",value:(0,e.jsx)(Ye,{data:F,className:"flex justify-center w-[800px] h-[200px] bg-[#F1F1F1]"})}),(0,e.jsx)(T,{tit:"Part Number\u4FE1\u606F",value:null}),(N||[]).map(function(m,b){return(0,e.jsxs)("div",{className:"flex flex-row gap-10 p-0",children:[(0,e.jsx)("div",{className:"w-[200px] text-base text-[#666666] ",children:m.flowName}),(0,e.jsx)("div",{className:"flex flex-wrap flex-shrink w-[30rem] items-center",children:((m==null?void 0:m.partNumbers)||[]).map(function(x,v){return(0,e.jsx)("div",{className:"flex max-w-lg items-center bg-[#F1F1F1] h-6 mb-[10px] rounded ml-5",children:(0,e.jsxs)("div",{className:" w-full mx-[10px] items-center font-normal","data-tooltip-id":"tooltip","data-tooltip-content":(0,re.iT)(x,10),children:["PN : ",(0,re.lS)(x,8,8)]})},"value_".concat(v))})})]},"info_".concat(b))})]})})}))},Te=Xe,Qe=["ps"];function qe(t){var l,r,i,f,s=t.ps,h=Z()(t,Qe),n=(0,Fe.Z)(!1),N=c()(n,2),j=N[0],d=N[1];return(0,e.jsxs)(L.u_,S()(S()({title:s.name},h),{},{children:[(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(T,{tit:"UID",value:s.uuid||"-"}),(0,e.jsx)(T,{tit:"\u7248\u672C",value:s.version||"-"}),(0,e.jsx)(T,{tit:"\u63CF\u8FF0",value:s.description||"-"}),(0,e.jsx)(T,{tit:"\u72B6\u6001",value:(0,e.jsx)(tt,{status:s.state})}),(0,e.jsx)(T,{tit:"\u53D8\u66F4\u4EBA",value:((l=s.updateUser)===null||l===void 0?void 0:l.name)||"-"}),(0,e.jsx)(T,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(de,{modelId:(r=s.model)===null||r===void 0?void 0:r.id,modelStatus:(i=s.model)===null||i===void 0?void 0:i.state,isRead:!0})}),(0,e.jsx)(T,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(G,{action:"\u67E5\u770B",onClick:function(){return d(!0)}})}),(0,e.jsx)(nt,{organization:s.org})]}),j&&(0,e.jsx)(he.d,{data:(f=s.model)===null||f===void 0?void 0:f.paramDetail,onClose:function(){return d(!1)}})]}))}var Be=a(46284),_e=["defaultValue"],et=["psId","onSuccess"];function tt(t){var l=t.status;return Ae().isNil(l)?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:"\u8349\u7A3F"}):(0,e.jsx)("div",{className:oe()("w-min whitespace-nowrap h-6 px-2.5 py-1 bg-opacity-10 rounded justify-start items-center gap-2.5 inline-flex",{"bg-rose-500":l!==1,"bg-green-600":l===1}),children:(0,e.jsx)("div",{className:oe()("text-green-600 text-base font-normal leading-none",{"text-rose-500":l!==1,"text-green-600":l===1}),children:l===1?"\u5F53\u524D\u4F7F\u7528":"\u8FC7\u53BB\u7248\u672C"})})}function G(t){var l=t.action,r=t.onClick,i=t.to;return i?(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",children:(0,e.jsx)("a",{href:i,children:l})}):(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",onClick:r,children:(0,e.jsx)("div",{className:"text-base font-normal leading-none text-black",children:l})})}function de(t){var l=t.psId,r=t.disableSelectFile,i=r===void 0?!1:r,f=t.openNewTab,s=f===void 0?!1:f,h=t.hiddenUpdate,n=t.modelId,N=t.isNew,j=t.isRead,d=t.modelStatus,C=t.file,F=t.onFileChange,m=t.btnText,b=m===void 0?"\u4E0A\u4F20\u6A21\u578B":m,x=(0,o.useRef)(null),v=function(){return d!==1?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-amber-500",children:"\u7B49\u5F85\u89E3\u6790"}):(0,e.jsx)(G,{onClick:function(){return s?window.open("/model?id=".concat(n),"_blank"):void 0},to:s?void 0:"/model?id=".concat(n),action:"\u5728\u7EBF\u67E5\u770B"})},y=function(k){var B;!i&&((B=x.current)===null||B===void 0||B.click())};return(0,e.jsxs)("div",{className:"text-neutral-400 text-base font-normal leading-none flex items-center gap-2.5",children:[(0,e.jsx)("input",{ref:x,type:"file",hidden:!0,accept:".zip",onChange:F}),!j&&(0,re.lS)(C==null?void 0:C.name,10,10),j?v():N?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(G,{action:b,onClick:y})}):(0,e.jsx)(e.Fragment,{children:!C&&v()})]})}function T(t){var l=typeof t.value=="string"||typeof t.value=="number";return(0,e.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,e.jsxs)("div",{className:"text-base font-normal leading-normal text-black",children:[t.tit,": "]}),l?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:t.value}):t.value]})}function at(t){var l=t.defaultValue,r=Z()(t,_e);return(0,e.jsx)("input",S()({type:"text",className:"w-full px-5 py-[15px] bg-gray-28 rounded-lg border border-neutral-200 justify-start items-start gap-2.5 inline-flex text-black text-base font-normal leading-none"},r))}function nt(t){var l=(0,ye.oR)(),r=l.userData,i=t.organization||(r==null?void 0:r.organization);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(T,{tit:"\u7EC4\u7EC7\u540D\u79F0",value:(i==null?void 0:i.name)||"-"}),(0,e.jsx)(T,{tit:"\u7EC4\u7EC7\u7F16\u53F7",value:(i==null?void 0:i.serialNumber)||"-"})]})}function lt(t){var l,r,i=t.psId,f=t.onSuccess,s=Z()(t,et),h=(0,we.Kv)(i,6e4),n=h.data,N=h.isLoading,j=h.error,d=(0,o.useState)(""),C=c()(d,2),F=C[0],m=C[1],b=(0,o.useRef)(!0);(0,o.useEffect)(function(){n&&b.current&&(m(n.description||""),b.current=!1)},[n]),(0,o.useEffect)(function(){j&&s.onClose&&s.onClose()},[j]);var x=(0,o.useState)(!1),v=c()(x,2),y=v[0],u=v[1],k=(0,o.useState)(null),B=c()(k,2),P=B[0],K=B[1],se=(0,o.useState)(!1),H=c()(se,2),_=H[0],Y=H[1],ee=(0,o.useCallback)(function(A){var E;K((E=A.target.files)===null||E===void 0?void 0:E.item(0))},[]),J=(0,Fe.Z)(!1),g=c()(J,2),R=g[0],w=g[1],ce=(0,o.useState)(),fe=c()(ce,2),ie=fe[0],Se=fe[1],ve=(0,Ie.n)(),je=(0,ye.oR)(),te=je.userData,ae=(n==null?void 0:n.org)||(te==null?void 0:te.organization),me=[{label:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid"},{label:"\u63CF\u8FF0",dataIndex:"inputDesc"},{label:"\u64CD\u4F5C\u4EBA",dataIndex:"updateUser"},{label:"BOM\u4FE1\u606F",dataIndex:"bom",render:function(){return(0,e.jsx)(G,{action:"\u67E5\u770B",onClick:function(){return Y(!0)}})}},{label:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",dataIndex:"real",render:function(){return(0,e.jsx)(G,{action:"\u67E5\u770B",onClick:function(){return w(!0)}})}},{label:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",dataIndex:"lca",render:function(){var E,z;return(0,e.jsx)(de,{modelId:n==null||(E=n.model)===null||E===void 0?void 0:E.id,disableSelectFile:y,modelStatus:n==null||(z=n.model)===null||z===void 0?void 0:z.state,hiddenUpdate:ve,file:P,onFileChange:ee})}},{label:"\u7EC4\u7EC7\u540D\u79F0",dataIndex:"name"},{label:"\u7EC4\u7EC7\u7F16\u53F7",dataIndex:"serialNumber"}],xe={uuid:n==null?void 0:n.uuid,inputDesc:n==null?void 0:n.description,updateUser:n==null?void 0:n.updateUser.name,name:ae.name,serialNumber:ae==null?void 0:ae.serialNumber};return(0,e.jsxs)(L.u_,S()(S()({},s),{},{children:[N&&!n&&(0,e.jsx)(q.g,{className:"min-h-[100px]"}),n&&(0,e.jsx)("div",{className:"flex flex-col gap-5 w-[600px] min-w-[20rem] px-5 py-[1px] max-h-mc overflow-y-auto ",children:(0,e.jsx)(Be.Z,{options:me,data:xe,optionEmptyText:"-",layout:"vertical",column:1,contentStyle:{color:"#999999",fontWeight:"400"},labelStyle:{color:"#000000",fontWeight:"400"}})}),R&&(0,e.jsx)(he.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:n==null||(l=n.model)===null||l===void 0?void 0:l.paramDetail,onClose:function(){return w(!1)}}),ie&&(0,e.jsx)(qe,{onClose:function(){return Se(void 0)},ps:ie}),_&&(0,e.jsx)(Te,{modelBomInfo:n==null||(r=n.model)===null||r===void 0?void 0:r.modelBomInfo,onClose:function(){return Y(!1)}})]}))}var rt=a(97980),ge=a(54916);function ot(t){var l=t.value,r=t.bg,i=r===void 0?"#dddddd":r,f=t.color,s=f===void 0?"#29953A":f,h=t.className;return(0,e.jsx)("div",{className:oe()(h,"w-full h-[10px]"),style:{background:i},children:(0,e.jsx)("div",{style:{width:"".concat(l,"%"),transition:"width 200ms ease",background:s},className:"h-full"})})}function Ct(t){var l=t.index,r=t.full,i=t.bg,f=i===void 0?"#dddddd":i,s=t.color,h=s===void 0?"#29953A":s,n=t.className;return _jsx("div",{className:classNames(n,"w-full h-[10px]"),style:{background:f},children:_jsx("div",{style:{marginLeft:r?"0":"".concat(l*25,"%"),width:r?"100%":"25%",background:h},className:"h-full"})})}var st=a(81920),it=["onSuccess","onClose"];function ut(t){var l=t.onSuccess,r=t.onClose,i=Z()(t,it),f=(0,o.useState)(""),s=c()(f,2),h=s[0],n=s[1],N=(0,o.useState)(!1),j=c()(N,2),d=j[0],C=j[1],F=(0,o.useState)(0),m=c()(F,2),b=m[0],x=m[1],v=(0,o.useState)(null),y=c()(v,2),u=y[0],k=y[1],B=(0,o.useState)("upload"),P=c()(B,2),K=P[0],se=P[1],H=!u,_=(0,o.useState)(""),Y=c()(_,2),ee=Y[0],J=Y[1],g=(0,o.useState)({id:0,modelBomInfo:"",paramDetail:"",modelName:""}),R=c()(g,2),w=R[0],ce=R[1],fe=(0,o.useState)(!1),ie=c()(fe,2),Se=ie[0],ve=ie[1],je=(0,o.useState)(!1),te=c()(je,2),ae=te[0],me=te[1],xe=(0,o.useCallback)(function(p){var I;k((I=p.target.files)===null||I===void 0?void 0:I.item(0))},[]),A=(0,o.useRef)(),E=(0,o.useCallback)(function(){var p;(p=A.current)===null||p===void 0||p.abort(),r&&r()},[r]),z=function(){C(!1),x(0),J("")},vt=(0,st.o)(),mt=function(){var p=Ee()(ue()().mark(function I(U){var D;return ue()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:J("\u6A21\u578B\u89E3\u6790\u4E2D......");case 1:return M.next=4,(0,re._v)(5e3);case 4:if(vt.current){M.next=6;break}return M.abrupt("return");case 6:return M.next=8,(0,ge.Yp)(U).catch(function(){});case 8:if(D=M.sent,x(function(be){return Math.min(be+10,100)}),!(D&&D.state===1&&D.modelBomInfo)){M.next=12;break}return M.abrupt("return",D);case 12:M.next=1;break;case 14:case"end":return M.stop()}},I)}));return function(U){return p.apply(this,arguments)}}(),xt=function(){J("\u6B63\u5728\u4E0A\u4F20......");var I=new FormData;I.append("file",u),A.current=new AbortController,(0,ge.av)(I,{signal:A.current.signal,onUploadProgress:function(D){x(Math.min(Math.round((D.progress||0)*100),60))}}).then(mt).then(function(U){U&&(ce(U),se("add"),z())}).catch(function(){z()})},pt=(0,rt.R)(function(){if(!H)if(K==="upload"){if(d)return;C(!0),xt()}else(0,ge.bc)({name:w.modelName,description:h,modelId:w.id}).then(function(){l&&l(),E()}).catch(function(p){console.log("err",p)})}),Ce={modelName:w==null?void 0:w.modelName,bom:"",realData:"",lca:"",desc:""},ht=[{label:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",dataIndex:"modelName"},{label:"BOM\u4FE1\u606F",dataIndex:"bom",render:function(){return(0,e.jsx)(G,{action:"\u67E5\u770B",onClick:function(){return ve(!0)}})}},{label:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",dataIndex:"realData",render:function(){return(0,e.jsx)(G,{action:"\u67E5\u770B",onClick:function(){return me(!0)}})}},{label:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",dataIndex:"lca",render:function(){return(0,e.jsx)(de,{modelStatus:d?0:1,modelId:w.id,openNewTab:!0,onFileChange:xe})}},{label:"\u63CF\u8FF0",dataIndex:"desc",render:function(){return(0,e.jsx)(at,{maxLength:100,value:h,onChange:function(U){return n(U.target.value)}})}}],gt=(0,o.useMemo)(function(){return[{title:"\u53C2\u6570\u540D",dataIndex:"name",ellipsis:!0,width:200},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"uuid",width:170},{title:"\u53C2\u8003\u503C",dataIndex:"optName",width:100}]},[]),St=(0,o.useMemo)(function(){var p;if(!Ce)return[];var I=(0,re.OA)(w==null?void 0:w.paramDetail)||[],U=((p=I[0])===null||p===void 0?void 0:p.parameters)||[];return U.map(function(D){return[D.name,D.context.name,D.value]}).map(function(D){var pe=c()(D,3),M=pe[0],be=pe[1],jt=pe[2];return{name:M,uuid:be,optName:jt.toString()}})},[Ce]);return(0,e.jsxs)(o.Fragment,{children:[(0,e.jsx)(L.u_,S()(S()({},i),{},{title:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF",onClose:function(){E(),z()},children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:[(0,e.jsx)("div",{className:oe()("flex flex-col w-full flex-1  max-h-mc px-5 py-[1px] overflow-y-auto ".concat(d?"gap-0":"gap-5")),children:d?(0,e.jsxs)(o.Fragment,{children:[(0,e.jsx)("div",{className:"flex justify-center w-full",children:ee}),(0,e.jsx)(ot,{value:b,className:"my-5 overflow-hidden rounded-lg"})]}):K==="upload"?(0,e.jsx)(T,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(de,{isNew:!0,disableSelectFile:d,file:u,onFileChange:xe,btnText:"\u9009\u62E9\u6A21\u578B"})}):(0,e.jsx)("div",{className:"flex flex-col gap-5  w-[600px] min-w-[20rem] py-[1px] max-h-mc overflow-y-auto ",children:(0,e.jsx)(Be.Z,{options:ht,data:Ce,optionEmptyText:"-",layout:"vertical",column:1,contentStyle:{color:"#999999",fontWeight:"400"},labelStyle:{color:"#000000",fontWeight:"400"}})})}),(0,e.jsx)("div",{className:"flex flex-shrink-0 w-full gap-5 px-5",children:!d&&(0,e.jsxs)(o.Fragment,{children:[(0,e.jsx)(W.u,{type:"default",size:"large",className:"flex-1",onClick:function(){E(),z()},children:"\u53D6\u6D88"}),(0,e.jsx)(W.u,{size:"large",type:"primary",className:"flex-1",onClick:pt,disabled:H,children:K==="upload"?"\u4E0A\u4F20":"\u786E\u5B9A"})]})})]})})),ae&&(0,e.jsx)(he.d,{isShow:!0,header:gt,data:St,onClose:function(){return me(!1)}}),Se&&(0,e.jsx)(Te,S()(S()({},w),{},{onClose:function(){return ve(!1)}}))]})}function dt(){var t=(0,o.useState)(null),l=c()(t,2),r=l[0],i=l[1],f=(0,o.useState)(),s=c()(f,2),h=s[0],n=s[1],N=(0,o.useState)(null),j=c()(N,2),d=j[0],C=j[1],F=(0,o.useState)(!1),m=c()(F,2),b=m[0],x=m[1],v=(0,o.useState)(1),y=c()(v,2),u=y[0],k=y[1],B=(0,we.uU)(u,1e4),P=B.data,K=B.isLoading,se=B.mutate,H=(0,o.useMemo)(function(){return((P==null?void 0:P.records)||[]).map(function(g,R){return S()(S()({},g),{},{key:"pl"+R,optName:g.updateUser.name})})},[P]),_=(0,o.useMemo)(function(){return[{title:"\u5B9E\u666F\u8F93\u5165\u9879",dataIndex:"context",width:"20%"},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"parameter",width:"30%"},{title:"\u53C2\u8003\u503C",dataIndex:"amount",width:"20%"},{title:"\u4E0D\u786E\u5B9A\u6027",dataIndex:"uncertainty",emptyText:"-",width:"30%"}]},[]),Y=(0,Ie.b)(),ee=function(){k(1),u===1&&se()},J=(0,o.useMemo)(function(){return[{title:"\u4EA7\u54C1\u7CFB\u7EDF",dataIndex:"name",ellipsis:!0,width:200},{title:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid",width:170,renderText:O.zL},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"optName",width:100},{title:"\u63CF\u8FF0",dataIndex:"description",ellipsis:!0,width:200},{title:"\u4E0A\u4F20\u65F6\u95F4",dataIndex:"createTime",valueType:"dateTime",width:170},{title:"\u64CD\u4F5C",width:100,valueType:"option",render:function(R,w){return[(0,e.jsx)("div",{className:"cursor-pointer text-green-2",onClick:function(){n(w)},children:"\u67E5\u770B"},"key_look")]}}]},[]);return(0,e.jsxs)(ne.Z,{title:"\u6211\u7684\u4EA7\u54C1\u7CFB\u7EDF",extra:Y?[(0,e.jsx)(W.u,{onClick:function(){return x(!0)},children:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF"},"key_new_ps")]:[],children:[(0,e.jsx)("div",{className:"bg-white",children:(0,e.jsx)(O.rx,{columns:J,dataSource:H,loading:K,pagination:{pageSize:10,total:(P==null?void 0:P.total)||0,current:u,onChange:function(R){k(R)}}})}),!!r&&(0,e.jsx)(L.u_,{title:r.modelName+"\u6A21\u578B\u4E2D\u7684\u5B9E\u666F\u8F93\u5165\u9879",onClose:function(){return i(null)},children:(0,e.jsxs)("div",{className:"flex w-[60rem] min-h-[16rem] flex-col pb-2",children:[(0,e.jsx)("ul",{className:"flex mb-1",children:_.map(function(g,R){return(0,e.jsx)("li",{className:"px-3 text-lg font-bold",style:{width:g.width},children:g.title},"columns".concat(R))})}),(0,e.jsx)("div",{className:"max-h-[15rem] min-h-[5rem] overflow-y-auto",children:(0,e.jsx)($.i,{size:"big",hiddenHeader:!0,columns:_,data:r.paramDetail})})]})}),d&&(0,e.jsx)(L.u_,{title:(d==null?void 0:d.title)||"\u64CD\u4F5C",onClose:function(){return C(null)},children:(0,e.jsx)("div",{className:"pb-2 text-center",children:d.loading?(0,e.jsx)(q.g,{}):(0,e.jsx)("span",{children:d.resultText})})}),b&&(0,e.jsx)(ut,{onClose:function(){return x(!1)},onSuccess:function(){return ee()}}),h&&(0,e.jsx)(lt,{psId:h.id,title:h.name,onClose:function(){return n(void 0)},onSuccess:function(){return ee()}})]})}var ct=dt,ft=ct}}]);
