"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[2941],{9991:function(ge,G,n){n.d(G,{u:function(){return O},z:function(){return e}});var Y=n(5677),F=n.n(Y),W=n(48651),L=n.n(W),Q=n(38046),M=n.n(Q),H=n(68591),s=n.n(H),Z=n(68717),g=n(63342),S=["children","className"],h=["busy","disabled","className","defStyle","children"];function e(b){var E=b.children,i=b.className,R=M()(b,S);return(0,g.jsx)("button",L()(L()({},R),{},{className:s()(i),children:b.children}))}function O(b){var E,i=b.busy,R=b.disabled,re=b.className,_=b.defStyle,T=_===void 0?"btn-primary":_,ee=b.children,te=M()(b,h);return(0,g.jsx)("button",L()(L()({className:s()(re,(E={},F()(E,T,!R),F()(E,"btn-disable",R),E))},te),{},{children:i?(0,g.jsx)(Z.fCD,{className:"animate-spin"}):ee}))}},27202:function(ge,G,n){n.d(G,{dW:function(){return e},ub:function(){return b}});var Y=n(48651),F=n.n(Y),W=n(86516),L=n.n(W),Q=n(7654),M=n(68591),H=n.n(M),s=n(79685),Z=n(30681),g=n(12239),S=n(76852),h=n(63342);function e(E){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R=(0,s.useState)(i),re=L()(R,2),_=re[0],T=re[1];return(0,s.useEffect)(function(){T(i)},[E,i]),{onChange:T,items:E,current:_}}function O(E){var i=E.items,R=E.current,re=E.onChange,_=E.className,T=_===void 0?"bg-white text-black px-5 py-3 text-lg rounded-lg w-[31.25rem] mo:w-full mo:text-sm":_,ee=E.currentClassName,te=ee===void 0?"flex justify-between items-center":ee,ae=E.openClassName,oe=ae===void 0?"max-h-[18rem] bg-white  rounded-lg py-3 ":ae,X=i[R]?i[R].text:"",ie=(0,g.Z)(!1),ue=L()(ie,2),V=ue[0],de=ue[1],ne=(0,s.useCallback)(function(j){R!==j&&re(j)},[R]),ce=(0,Q.E)("t-side");return(0,S.Z)(ce,function(){return V&&de(!1)}),i.length===0?null:(0,h.jsxs)("div",{ref:ce,className:H()("relative cursor-pointer",T),onClick:function(){return de()},children:[(0,h.jsxs)("div",{className:te,children:[(0,h.jsx)("span",{className:"truncate",children:X}),V?(0,h.jsx)(Z.pzk,{}):(0,h.jsx)(Z._i7,{})]}),V&&(0,h.jsx)("div",{className:H()("absolute z-[100] left-0 w-full overflow-x-hidden overflow-y-auto",oe),style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)",top:"calc(100% + 8px)"},children:(0,h.jsx)("div",{className:"",children:i.map(function(j,B){return(0,h.jsx)("div",{style:{},className:H()("w-full break-all px-5 py-2 text-sm hover:bg-gray-16",{"text-green-2":B===R}),onClick:function(){return ne(B)},children:j.text},"select_item_".concat(B))})})})]})}var b=function(i){return(0,h.jsx)(O,F()({className:"h-[50px] px-5 items-center bg-stone-50 rounded-lg border border-neutral-200",currentClassName:"h-full flex justify-between items-center"},i))}},35259:function(ge,G,n){n.d(G,{i:function(){return R}});var Y=n(5677),F=n.n(Y),W=n(70300),L=n.n(W),Q=n(48651),M=n.n(Q),H=n(86516),s=n.n(H),Z=n(11e3),g=n(81516),S=n(68591),h=n.n(S),e=n(79685),O=n(22798),b=n(25685),E=n(76852),i=n(63342),R=function(_){var T=_.columns,ee=_.data,te=_.className,ae=_.headerClassName,oe=_.size,X=oe===void 0?"":oe,ie=_.maxHeight,ue=_.loading,V=ue===void 0?!1:ue,de=_.hiddenHeader,ne=de===void 0?!1:de,ce=_.mouseHoverKey,j=ce===void 0?"":ce,B=_.columnsHeight,ye=B===void 0?"":B,be=_.isSetBorder,fe=be===void 0?!1:be,Ce=_.tableId,Pe=Ce===void 0?void 0:Ce,Ie=_.columnsClassName,Ne=_.onChangeColumn,De=Ne===void 0?function(r){return r}:Ne,Ae=(0,e.useState)(ee||[]),Me=s()(Ae,2),I=Me[0],U=Me[1],p=(0,e.useState)({}),k=s()(p,2),m=k[0],d=k[1],v=(0,e.useState)({}),z=s()(v,2),f=z[0],w=z[1],K=(0,e.useRef)(null);(0,E.Z)(K,function(){for(var r in m)m[r]&&(m[r].isFilterOpen=!1,d(M()({},m)))}),(0,e.useEffect)(function(){U(ee)},[ee]),(0,e.useEffect)(function(){T.forEach(function(r){if(r.filterOptions){var a;m[r.dataIndex]={isFilterOpen:!1,filterValueIndex:((a=m[r.dataIndex])===null||a===void 0?void 0:a.filterValueIndex)>-1?m[r.dataIndex].filterValueIndex:-1}}}),d(m)},[T]);var $=function(a){if(I[a].level===void 0&&(I[a].level=0),I[a].children.forEach(function(y){y.level=I[a].level+1}),I[a].open=!I[a].open,I[a].open)U(I.slice(0,a+1).concat(I[a].children).concat(I.slice(a+1)));else{var l=I[a].children.length;I[a].children.forEach(function(y){y.open&&(y.open=!1,l+=y.children.length)}),I.splice(a+1,l),U(L()(I))}},P=function(a,l){Object.assign(m,F()({},a.dataIndex,{filterValueIndex:l,isFilterOpen:!1})),a.onFilterChange&&a.onFilterChange(l>-1?a.filterOptions[l]:null),d(m)},x=function(a){m[a.dataIndex].isFilterOpen=!m[a.dataIndex].isFilterOpen,d(M()({},m))};return(0,i.jsxs)("div",{className:h()("w-full",te,X==="small"&&"text-xs",X==="big"&&"text-lg mo:text-[.9375rem] "),children:[(0,i.jsxs)("table",{border:1,cellSpacing:0,className:"w-full text-left ",id:Pe,children:[!ne&&(0,i.jsx)("thead",{className:h()("bg-gray-14 ",{"border bg-[#E5E5E5]":fe},te,X==="small"&&"text-sm"),style:ae,children:(0,i.jsx)("tr",{className:"px-3",children:T&&T.map(function(r,a){var l;return(0,i.jsxs)("th",{style:{width:r.width?r.width:"auto"},className:h()("px-3 relative break-keep",a===0&&" ".concat(!fe&&"rounded-l"||""," overflow-hidden"),a===T.length-1&&"".concat(!fe&&"rounded-r"||""," overflow-hidden"),g.NO[X]||"py-2"),children:[!!r.tip&&(0,i.jsx)(b.gL9,{"data-tooltip-id":"tooltip","data-tooltip-content":r.tip,className:"inline-block text-xl mt-[-0.15rem] mr-1"}),(0,i.jsx)("span",{children:r.title}),!!m[r.dataIndex]&&(0,i.jsxs)("div",{className:"inline-block",ref:K,children:[(0,i.jsx)(O.Ihx,{color:((l=m[r.dataIndex])===null||l===void 0?void 0:l.filterValueIndex)>-1?"#29953A":"",onClick:function(){x(r)},className:"inline-block text-xl mt-[-0.15rem] ml-1 cursor-pointer"}),m[r.dataIndex].isFilterOpen&&(0,i.jsx)("div",{className:"absolute left-0 font-normal top-10",children:(0,i.jsxs)("ul",{className:"bg-white w-[12.375rem] max-h-[14.875rem] overflow-auto text-sm rounded-lg py-3",style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)"},children:[(0,i.jsx)("li",{className:h()("py-2.5 px-5 hover:bg-[#F3F3F3] cursor-pointer",m[r.dataIndex].filterValueIndex===-1&&"text-green-2"),onClick:function(){P(r,-1)},children:"All"}),r.filterOptions.map(function(y,o){return(0,i.jsx)("li",{onClick:function(){P(r,o)},className:h()("py-1.5 hover:bg-[#F3F3F3] px-5 break-all cursor-pointer",m[r.dataIndex].filterValueIndex===o?"text-green-2":""),children:y.text},"productList".concat(o))})]})})]})]},"columns".concat(a))})})}),!V&&(0,i.jsx)("tbody",{style:{maxHeight:ie},className:"w-full overflow-y-auto ",children:I.map(function(r,a){return(0,i.jsx)("tr",{className:" column-level-".concat(r.level?r.level:0," ").concat(ye," "),children:T.map(function(l,y){return(0,i.jsx)("td",{className:h()(Ie,"px-3  ",{"bg-[#F3F3F3]":f[j]===r[j]&&j,border:fe},g.NO[X]||"py-2",!!l.tip&&"pl-9"),style:{width:l.width?l.width:"auto"},children:(0,i.jsxs)("div",{onMouseOver:function(){return w(r)},onClick:function(){return typeof De=="function"?De(r):void 0},className:"flex items-center ",style:{marginLeft:(r.level&&y===0?r.level:0)*1.25+"rem"},children:[!!(r!=null&&r.children)&&(r==null?void 0:r.children.length)>0&&y===0&&(0,i.jsx)(O.Tfp,{onClick:function(){return $(a)},className:h()("mr-2 cursor-pointer text-gray-9",r.open&&"rotate-[90deg]")}),l.render?l.render(r[l.dataIndex],r):l.emptyText&&!r[l.dataIndex]?"-":r[l.dataIndex]]})},"data_column_".concat(y))})},"table_data_".concat(a))})})]}),V?(0,i.jsx)(Z.g,{className:"pt-8"}):!(I&&I.length>0)&&(0,i.jsx)("div",{className:"flex justify-center w-full py-20",children:"\u65E0\u6570\u636E"})]})}},8965:function(ge,G,n){n.d(G,{H4:function(){return Q},Kv:function(){return L},Tz:function(){return H},We:function(){return M},cc:function(){return Z},uU:function(){return s}});var Y=n(97207),F=n.n(Y),W=n(89585);function L(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,W.ZP)("/api/product-system/".concat(g,"/detail"),{refreshInterval:S})}function Q(g){return(0,W.ZP)(F().isNil(g)?null:"/api/verifyRecord/".concat(g,"/detail"))}function M(g){return(0,W.ZP)(g?"/api/inventory/all":null)}function H(g){return(0,W.ZP)(g?"/api/verifyRecord/verifiers":null)}function s(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,W.ZP)("/api/product-system/list/?pageNum=".concat(g,"&pageSize=10"),{refreshInterval:S})}function Z(g){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,W.ZP)("/api/inventory/list/?pageNum=".concat(g,"&pageSize=10"),{refreshInterval:S})}},91234:function(ge,G,n){n.d(G,{Yu:function(){return g},aH:function(){return Z},pd:function(){return S},uJ:function(){return s}});var Y=n(22786),F=n.n(Y),W=n(46299),L=n.n(W),Q=n(99095),M=n(64470),H=n(90386);function s(e){return"".concat(H.Sg).concat(e)}function Z(){var e=(0,Q.is)();return e?{headers:{Authorization:"Bearer ".concat(e.loginToken)}}:{}}function g(e){var O,b=e.data;if(!b||b.code!==1e5)throw b.message;return(O=e.data)===null||O===void 0?void 0:O.data}function S(e){return h.apply(this,arguments)}function h(){return h=L()(F()().mark(function e(O){var b;return F()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,M.default.get(s("/api/verifyRecord/list/?pageNum=".concat(O,"&pageSize=10")),Z());case 2:return b=i.sent,i.abrupt("return",g(b));case 4:case"end":return i.stop()}},e)})),h.apply(this,arguments)}},92468:function(ge,G,n){n.r(G),n.d(G,{default:function(){return I}});var Y=n(22786),F=n.n(Y),W=n(46299),L=n.n(W),Q=n(86516),M=n.n(Q),H=n(30541),s=n(79685),Z=n(35259),g=n(68591),S=n.n(g),h=n(22798),e=n(63342),O="...";function b(U){var p=function(a,l){var y=[];if(l){for(var o=a;o<l;o++)y.push(o);return y}for(var t=0;t<a;t++)y.push(t);return y},k=U.total,m=U.pgSize,d=U.pgNum,v=U.onChange,z=U.className,f=Math.ceil(k/m),w=(0,s.useMemo)(function(){return f<=1?[]:f<=6?p(f).map(function(r){return{name:"".concat(r+1)}}):d<=3?p(d+1).map(function(r){return{name:"".concat(r+1)}}).concat([{name:O},{name:""+f}]):d>=f-2?[{name:"1"},{name:O}].concat(p(d-2,f).map(function(r){return{name:"".concat(r+1)}})):[{name:"1"},{name:O},{name:d-1+""},{name:d+""},{name:d+1+""},{name:O},{name:f+""}]},[f,d]),K=function(){v&&d<f&&v(d+1,f)},$=function(){d!==1&&v&&v(1,f)},P=function(){v&&d>1&&v(d-1,f)},x=function(){f!==d&&v&&v(f)};return k<=m?null:(0,e.jsx)("div",{className:S()("flex justify-center text-[0.8125rem] text-center leading-8 font-semibold",z),children:(0,e.jsxs)("div",{className:"flex",children:[f>1&&(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("span",{onClick:$,className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,e.jsx)(h.JHF,{})}),(0,e.jsx)("span",{onClick:P,className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,e.jsx)(h.YFh,{})})]}),w.map(function(r,a){return(0,e.jsx)("div",{className:S()(r.name===""+d?"text-white bg-green-2":"bg-white",{omit:r.name===O},"mx-[0.185rem] flex items-center justify-center min-w-[32px] h-[32px] px-1.5 rounded-lg",r.name!==O&&"border cursor-pointer"),onClick:function(){v&&r.name!==O&&v(+r.name,f)},children:r.name},"key_page_".concat(a))}),f>1&&(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("span",{onClick:K,className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,e.jsx)(h.Tfp,{})}),(0,e.jsx)("span",{onClick:x,className:" mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,e.jsx)(h.qhs,{})})]})]})})}var E=n(9991),i=n(70300),R=n.n(i),re=n(48651),_=n.n(re),T=n(99095),ee=n(11e3),te=n(95968),ae=n(27202),oe=n(85223),X=n(8965),ie=n(54916),ue=n(97207),V=n.n(ue);function de(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5,p=(0,s.useRef)(new AbortController),k=function(d){var v=d,z=function(){if(v.length!==0){var P=v[0];return v=V().drop(v),{file:P,index:d.length-v.length-1}}},f=V().min([U,v.length]),w=V().range(d.length),K=function(){var $=L()(F()().mark(function P(){var x,r,a,l;return F()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(x=z(),!x){o.next=10;break}return r=x.file,a=x.index,o.next=6,(0,ie.qM)(r,{signal:p.current.signal});case 6:l=o.sent,w[a]=l,o.next=11;break;case 10:return o.abrupt("return");case 11:o.next=0;break;case 13:case"end":return o.stop()}},P)}));return function(){return $.apply(this,arguments)}}();return Promise.all(V().range(f).map(function(){return K()})).then(function(){return w})};return[k,function(){try{p.current.abort()}catch(m){console.info("abort upfiles")}}]}var ne=n(81123),ce=n(98919),j=function(p){return(0,e.jsxs)("div",{className:"w-full flex flex-col gap-2.5",children:[(0,e.jsxs)("span",{className:"font-normal leading-6 text-[16px]",children:[p.title,"\uFF1A"]}),p.children]})},B=function(p){return(0,e.jsx)("div",{className:"font-normal leading-[21.79px] text-[16px] text-gray-9",children:p.value})},ye=function(p){var k,m,d,v,z,f,w,K=p.closeModal,$=p.recordId,P=p.type,x=P===void 0?"new":P,r=(0,s.useRef)(null),a=(0,T.oR)(),l=a.userData,y=(0,X.H4)($),o=y.isLoading,t=y.data,ve=(0,X.We)(x==="new"||x==="editor"),he=ve.isLoading,q=ve.data,Ee=(0,X.Tz)(x==="new"||x==="editor"),me=Ee.isLoading,J=Ee.data,_e=o||he||me,Fe=(0,s.useMemo)(function(){return[(q||[]).map(function(N){return _()(_()({},N),{},{text:N.loadName})}),V().findIndex(q,function(N){return N.loadNumber===(t==null?void 0:t.loadNumber)})]},[q,t]),le=ae.dW.apply(void 0,R()(Fe)),C=(0,s.useMemo)(function(){return[(J||[]).map(function(N){return _()(_()({},N),{},{text:N.name})}),V().findIndex(J,function(N){var A;return N.id===(t==null||(A=t.verifyUser)===null||A===void 0?void 0:A.id)})]},[J,t]),c=ae.dW.apply(void 0,R()(C)),D=(0,ce.Z)({verifyState:!0}),pe=M()(D,2),u=pe[0],Be=pe[1],ze=de(),Re=M()(ze,2),Le=Re[0],$e=Re[1];(0,s.useEffect)(function(){return $e},[]);var je=!u.files||u.files.length===0||u.files.length>20||V().findIndex(u.files,function(N){return N.size>=1024*1024*1024*2||N.name.length>=128})>=0,Te=!q||!J||!u.name||le.current<0||c.current<0||je,He=(0,s.useState)(!1),Ue=M()(He,2),se=Ue[0],xe=Ue[1],Ze=function(){Te||se||(xe(!0),Le(u.files).then(function(A){return(0,ie._Q)({name:u.name,loadNumber:q[le.current].loadNumber,description:u.desc||"",fileList:A,verifyUserId:J[c.current].id}).then(function(){return K(!0)}).catch(console.error).finally(function(){xe(!1)})}))},we=!t||!q||!J||(u.name||t.name)===t.name&&(u.desc||t.description)===t.description&&((k=q[le.current])===null||k===void 0?void 0:k.loadNumber)===t.loadNumber&&((m=J[c.current])===null||m===void 0?void 0:m.id)===t.verifyUserId&&je,Ge=function(){if(!(we||se)){var A;xe(!0),u.files?A=Le(u.files).then(function(Oe){return(0,ie.u_)(t.id,{name:u.name||t.name,loadNumber:q[le.current].loadNumber,description:u.desc||t.description,fileList:Oe,verifyUserId:J[c.current].id})}):A=(0,ie.u_)(t.id,{name:u.name,loadNumber:q[le.current].loadNumber,description:u.desc,verifyUserId:J[c.current].id}),A.then(function(){return K(!0)}).catch(console.error).finally(function(){xe(!1)})}},We=!t||je,Je=function(){We||!u.files||se||(xe(!0),Le(u.files).then(function(A){return(0,ie.A6)(t.id,A,!0)}).then(function(){return K(!0)}).catch(console.error).finally(function(){xe(!1)}))},Ye={directory:"",webkitdirectory:""},Ke="w-full shrink-0 px-5 border border-[#DDDDDD]  h-[50px]  bg-[#F8F8F8] rounded-lg",Ve=x==="verify",Qe=(0,s.useMemo)(function(){var N;if(je||!u.files)return"\u9A8C\u8BC1\u6587\u4EF6";var A=((N=u.files.item(0))===null||N===void 0?void 0:N.webkitRelativePath.split("/")[0])||"\u9A8C\u8BC1\u6587\u4EF6";return(0,ne.lS)(A,10,10)},[u.files,je]),ke=function(){return(0,e.jsx)(j,{title:Ve?"\u9A8C\u8BC1\u6587\u6863":"\u9644\u4EF6",children:(0,e.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,e.jsx)("input",_()(_()({},Ye),{},{ref:r,type:"file",hidden:!0,onChange:function(Oe){return Be({files:Oe.target.files})}})),(0,e.jsx)(oe.SW,{}),(0,e.jsx)(B,{value:Qe}),(0,e.jsx)("div",{onClick:function(Oe){var Se;return!se&&((Se=r.current)===null||Se===void 0?void 0:Se.click())},className:S()("flex  rounded-[4px] leading-4 text-[16px] bg-[#F1F1F1] w-[100px] h-[24px]  text-center items-center justify-center ",se?"cursor-not-allowed":"cursor-pointer"),children:"\u9009\u62E9\u6587\u4EF6\u5939"})]})})};return(0,e.jsx)(s.Fragment,{children:(0,e.jsxs)(te.u_,{className:"rounded-lg",containerClassName:"mx-5 max-w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",title:x==="new"?"\u65B0\u5EFA\u9A8C\u8BC1\u8BB0\u5F55":"\u7F16\u8F91\u9A8C\u8BC1\u8BB0\u5F55",onClose:function(){return K(!1)},children:[(0,e.jsxs)("div",{className:"flex flex-col py-[1px] gap-5 px-5 w-[640px] min-h-[6.25rem] max-h-mc overflow-y-auto",children:[_e&&(0,e.jsx)(ee.g,{}),!_e&&(0,e.jsx)(e.Fragment,{children:Ve?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j,{title:"\u9A8C\u8BC1\u8BB0\u5F55",children:(0,e.jsx)(B,{value:t==null?void 0:t.name})}),(0,e.jsx)(j,{title:"\u9A8C\u8BC1\u8BB0\u5F55ID",children:(0,e.jsx)(B,{value:t==null?void 0:t.id})}),(0,e.jsx)(j,{title:"\u53D1\u8D77\u4EBA",children:(0,e.jsx)(B,{value:t==null||(d=t.createUser)===null||d===void 0?void 0:d.name})}),(0,e.jsx)(j,{title:"\u7EC4\u7EC7\u673A\u6784",children:(0,e.jsx)(B,{value:t==null||(v=t.organization)===null||v===void 0?void 0:v.name})}),(0,e.jsx)(j,{title:"\u63CF\u8FF0",children:(0,e.jsx)(B,{value:t==null?void 0:t.description})}),(0,e.jsx)(j,{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",children:(0,e.jsx)(B,{value:t==null||(z=t.inventory)===null||z===void 0?void 0:z.loadName})}),(0,e.jsx)(j,{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21ID",children:(0,e.jsx)(B,{value:t==null?void 0:t.loadNumber})}),(0,e.jsx)(j,{title:"\u9A8C\u8BC1\u4EBA",children:(0,e.jsx)(B,{value:t==null||(f=t.verifyUser)===null||f===void 0?void 0:f.name})}),ke()]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j,{title:"\u9A8C\u8BC1\u8BB0\u5F55",children:(0,e.jsx)("input",{value:u.name||(t==null?void 0:t.name),onChange:function(A){return Be({name:A.target.value})},maxLength:30,className:Ke})}),(0,e.jsx)(j,{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",children:(0,e.jsx)(ae.ub,_()({},le))}),(0,e.jsx)(j,{title:"\u63CF\u8FF0",children:(0,e.jsx)("input",{value:u.desc||(t==null?void 0:t.description),onChange:function(A){return Be({desc:A.target.value})},maxLength:100,className:Ke})}),(0,e.jsx)(j,{title:"\u9009\u62E9\u9A8C\u8BC1\u4EBA",children:(0,e.jsx)(ae.ub,_()({},c))}),(0,e.jsx)(j,{title:"\u53D1\u8D77\u4EBA",children:(0,e.jsx)(B,{value:l==null?void 0:l.name})}),(0,e.jsx)(j,{title:"\u7EC4\u7EC7\u673A\u6784",children:(0,e.jsx)(B,{value:l==null||(w=l.organization)===null||w===void 0?void 0:w.name})}),ke()]})})]}),!_e&&(0,e.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5 w-full px-5",children:[x==="new"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(E.u,{defStyle:"btn-primary-1",className:"flex-1",onClick:function(){return K(!1)},children:"\u53D6\u6D88"}),(0,e.jsx)(E.u,{busy:se,disabled:Te,defStyle:"btn-primary",className:"flex-1",onClick:Ze,children:"\u786E\u5B9A"})]}),x==="editor"&&(0,e.jsx)(E.u,{busy:se,disabled:we,className:"flex-1",onClick:Ge,children:"\u63D0\u4EA4\u66F4\u65B0"}),x==="verify"&&(0,e.jsx)(E.u,{busy:se,disabled:We,className:"flex-1",onClick:Je,children:"\u63D0\u4EA4\u9A8C\u8BC1"})]})]})})},be=ye,fe=n(30905),Ce=n.n(fe),Pe=n(64470),Ie=function(p){var k=p.closeModal,m=p.fileList,d=(0,s.useState)(!1),v=M()(d,2),z=v[0],f=v[1],w=(0,T.h3)(),K=function(){var $=L()(F()().mark(function P(){var x,r,a,l;return F()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return f(!0),o.prev=1,x=new(Ce()),r="",m.forEach(function(t){r=t.fileName.split("/")[0];var ve=Pe.default.get(t.downloadUrl,{responseType:"arraybuffer"}).then(function(he){return he.data});x.file(t.fileName,ve)}),o.next=7,x.generateAsync({type:"blob"});case 7:a=o.sent,l=document.createElement("a"),l.href=URL.createObjectURL(a),l.download="".concat(r,".zip"),l.click(),URL.revokeObjectURL(l.href),o.next=18;break;case 15:o.prev=15,o.t0=o.catch(1),w("\u6587\u4EF6\u4E0B\u8F7D\u51FA\u9519\uFF01");case 18:return o.prev=18,f(!1),o.finish(18);case 21:case"end":return o.stop()}},P,null,[[1,15,18,21]])}));return function(){return $.apply(this,arguments)}}();return(0,e.jsx)(s.Fragment,{children:(0,e.jsxs)(te.u_,{onClose:k,title:"\u67E5\u770B\u6587\u4EF6\u5939",children:[(0,e.jsx)("div",{className:"px-5 overflow-y-auto  max-h-[260px]",children:m.map(function($,P){var x=$.fileName.split("/");return(0,e.jsx)("div",{id:"view",className:"w-[640px] h-[34px] flex items-center ",children:(0,e.jsx)("span",{className:"ml-[10px] leading-5 text-[16px] font-normal",children:x[x.length-1]})},"file_".concat(P))})}),(0,e.jsx)("button",{disabled:z,className:"bg-[#29953A] w-full h-[50px] rounded-lg text-[#FFFFFF] mt-5",onClick:K,children:"\u4E0B\u8F7D"})]})})},Ne=Ie,De=n(91234);function Ae(){var U=(0,T.oR)(),p=U.userData,k=(0,s.useState)(1),m=M()(k,2),d=m[0],v=m[1],z=(0,s.useState)({}),f=M()(z,2),w=f[0],K=f[1],$=(0,s.useState)(!1),P=M()($,2),x=P[0],r=P[1],a=(0,s.useState)(!1),l=M()(a,2),y=l[0],o=l[1],t=(0,s.useRef)([]),ve=(0,s.useState)(!1),he=M()(ve,2),q=he[0],Ee=he[1],me=(0,s.useRef)(),J=function(c){t.current=c,o(!0)},_e=(0,s.useCallback)(function(C){r(!0),me.current={type:V().isEmpty(C)?"new":(p==null?void 0:p.role)==="verify"?"verify":"editor",recordId:C.id}},[p]),Fe=(0,s.useMemo)(function(){return[{title:"\u9A8C\u8BC1\u8BB0\u5F55",dataIndex:"name",width:"10rem",render:function(c){return(0,e.jsx)("span",{"data-tooltip-content":(0,ne.iT)(c,20),"data-tooltip-id":"tooltip",className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:c})}},{title:"\u9A8C\u8BC1\u8BB0\u5F55ID",dataIndex:"id",width:"6rem",render:function(c){return(0,e.jsx)("div",{className:"flex  text-lg leading-[27px]  w-[6rem]",children:(0,e.jsx)("span",{className:"",children:c})})}},{title:"\u53D1\u8D77\u4EBA",dataIndex:"loadNumber",width:"8rem",render:function(c,D){return(0,e.jsx)("span",{"data-tooltip-content":(0,ne.iT)(D.createUser.name,20),"data-tooltip-id":"tooltip",className:"text-lg leading-[27px] max-w-[13rem]  truncate inline-block",children:D.createUser.name})}},{title:"\u7EC4\u7EC7\u673A\u6784",width:"2rem",dataIndex:"productName",render:function(c,D){return(0,e.jsx)("span",{className:" text-lg leading-[27px] max-w-[14rem] truncate inline-block ",children:D.organization.name})}},{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",dataIndex:"loadName",width:"10rem",render:function(c,D){return(0,e.jsx)("span",{"data-tooltip-content":(0,ne.iT)(D.inventory.loadName,11),"data-tooltip-id":"tooltip",className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:D.inventory.loadName})}},{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21ID",dataIndex:"loadNumber",width:"10rem",render:function(c){return(0,e.jsx)("span",{"data-tooltip-content":c,"data-tooltip-id":"tooltip",className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:(0,ne.lS)(c,8,8)})}},{title:"\u9644\u4EF6",dataIndex:"productDescription",width:"18.75rem",render:function(c,D){return(0,e.jsxs)("div",{onClick:function(){return J(D.attachmentFileList)},className:"w-[112px] flex flex-row items-center bg-[#F1F1F1] justify-center rounded cursor-pointer",children:[(0,e.jsx)(oe.SW,{}),(0,e.jsx)("div",{className:"ml-2 ",children:"\u6587\u4EF6\u5939V"})]})}},{title:"\u6700\u540E\u7F16\u8F91",dataIndex:"updateTime",width:"14rem",render:function(c){return(0,e.jsx)("span",{className:" text-lg leading-[27px] w-[12rem] ",children:c})}},{title:"\u9A8C\u8BC1\u4EBA",dataIndex:"name",width:"18.625rem",render:function(c,D){return(0,e.jsx)("span",{"data-tooltip-content":(0,ne.iT)(D.verifyUser.name,11),"data-tooltip-id":"tooltip",className:"max-w-[11rem] text-lg leading-[27px]  truncate inline-block",children:D.verifyUser.name})}},{title:"\u9A8C\u8BC1\u6587\u6863",dataIndex:"verifyFileList",width:"8.125rem",render:function(c,D){return D.verifyFileList.length?(0,e.jsxs)("div",{onClick:function(){return J(D.verifyFileList)},className:"w-[112px] flex flex-row items-center bg-[#F1F1F1] justify-center rounded cursor-pointer",children:[(0,e.jsx)(oe.SW,{}),(0,e.jsx)("div",{className:"ml-2 ",children:"\u6587\u4EF6\u5939"})]}):null}},{title:"\u9A8C\u8BC1\u72B6\u6001",dataIndex:"state",width:"8.125rem",render:function(c){return(0,e.jsx)("span",{className:" text-lg leading-[27px] max-w-[14rem] ",children:c?"\u5DF2\u9A8C\u8BC1":""})}},{title:"\u9A8C\u8BC1\u65F6\u95F4",dataIndex:"proofTime",width:"8.125rem",render:function(c){return(0,e.jsx)("span",{className:"text-lg leading-[27px] w-[13rem] ",children:c})}},{title:"",width:"20rem",render:function(c,D){return!D.state&&(0,e.jsx)("div",{className:"flex justify-between flex-1 text-green-2 break-keep",children:(0,e.jsx)("div",{className:"flex items-center font-normal justify-center cursor-pointer text-lg leading-[27px]",onClick:function(){return _e(D)},children:"\u7F16\u8F91"})})}}]},[_e]),le=function(){var C=L()(F()().mark(function c(){var D;return F()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,Ee(!0),u.next=4,(0,De.pd)(d);case 4:D=u.sent,K(D),u.next=11;break;case 8:u.prev=8,u.t0=u.catch(0),console.log("eeee",u.t0);case 11:return u.prev=11,Ee(!1),u.finish(11);case 14:case"end":return u.stop()}},c,null,[[0,8,11,14]])}));return function(){return C.apply(this,arguments)}}();return(0,s.useEffect)(function(){le()},[d]),(0,e.jsxs)(H._z,{children:[(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("h3",{className:"flex items-center justify-between text-2xl font-semibold",children:[(0,e.jsx)("span",{children:"\u9A8C\u8BC1\u7BA1\u7406\u5217\u8868"}),(p==null?void 0:p.role)==="admin"&&(0,e.jsx)(E.z,{onClick:function(){return _e({})},className:"w-40 text-lg font-normal text-white rounded-lg bg-green-2 h-11 hover:bg-green-28",children:"\u65B0\u5EFA\u9A8C\u8BC1\u8BB0\u5F55"})]}),(0,e.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,e.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,e.jsx)("div",{className:"text-base leading-[1.625rem] min-w-[62.25rem]",children:(0,e.jsx)(Z.i,{columns:Fe,loading:q,columnsHeight:"h-[3.125rem] ",mouseHoverKey:"id",data:(w==null?void 0:w.records)||[],className:"",columnsClassName:" cursor-default ",headerClassName:{background:"#fff",fontWeight:"700",fontSize:"18px",lineHeight:"27px"}})})})})]}),(0,e.jsx)(b,{className:"my-8",onChange:function(c){v(c)},total:w.total||0,pgSize:10,pgNum:d}),x&&me.current&&(0,e.jsx)(be,{type:me.current.type,recordId:me.current.recordId,closeModal:function(){v(1),d===1&&le(),r(!1),me.current=void 0}}),y&&(0,e.jsx)(Ne,{fileList:t.current,closeModal:function(){o(!1)}})]})}var Me=Ae,I=Me}}]);
