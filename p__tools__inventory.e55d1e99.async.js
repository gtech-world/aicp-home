"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9725],{59864:function(Se,K,a){a.d(K,{d:function(){return ge}});var G=a(48651),i=a.n(G),oe=a(38046),f=a.n(oe),h=a(95968),T=a(79685),c=a(63342);function x(){return(0,c.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,c.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top",children:"\u65E0\u6570\u636E"})})}var ve=function(u){var d=u.header,W=u.data,J=u.empty,Q=J===void 0?(0,c.jsx)(x,{}):J,r=u.className,L=r===void 0?"relative min-w-full bg-neutral-200 ":r,k=u.headerClassName,X=k===void 0?"bg-neutral-200 sticky top-0 text-left text-black text-lg font-bold leading-[27px]":k,e=u.headerItemClassName,S=e===void 0?"p-3":e,R=u.tbodyClassName,Ne=R===void 0?"bg-white ":R,fe=u.rowClassName,De=fe===void 0?"text-black text-sm font-normal whitespace-nowrap":fe,F=u.cellClassName,xe=F===void 0?"p-3":F;return(0,c.jsxs)("table",{className:L,children:[(0,c.jsx)("thead",{children:(0,c.jsx)("tr",{className:X,children:d.map(function(se,ie){return(0,c.jsx)("th",{scope:"col",className:S,children:se},ie)})})}),(0,c.jsxs)("tbody",{className:Ne,children:[W.map(function(se,ie){return(0,c.jsx)("tr",{className:De,children:se.map(function(je,ue){return(0,c.jsx)("td",{className:xe,children:je},ue)})},ie)}),W.length===0&&Q]})]})},O=ve,M=a(81123),pe=a(97207),me=a.n(pe),he=["data","inputData","header"];function ge(V){var u=V.data,d=V.inputData,W=V.header,J=W===void 0?["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C","\u8F93\u5165\u503C"]:W,Q=f()(V,he),r=(0,T.useMemo)(function(){var L;if(!u)return[];var k=d?me().mapKeys(typeof d=="string"?(0,M.OA)(d)||[]:d,function(S){return S.paramName}):{},X=(0,M.OA)(u)||[],e=((L=X[0])===null||L===void 0?void 0:L.parameters)||[];return e.map(function(S){var R;return[S.name,S.context.name,S.value,((R=k[S.name])===null||R===void 0?void 0:R.paramValue)||""]})},[u,d]);return(0,c.jsx)(h.u_,i()(i()({title:"\u5B9E\u666F\u6570\u636E"},Q),{},{children:(0,c.jsx)("div",{className:"w-[40rem] px-5 max-h-mc overflow-y-auto",children:(0,c.jsx)(O,{data:r,header:J})})}))}},76222:function(Se,K,a){a.d(K,{b:function(){return oe},n:function(){return i}});var G=a(99095);function i(){var f=(0,G.oR)(),h=f.userData,T=f.inited;return T&&(h==null?void 0:h.role)==="verify"}function oe(){var f=(0,G.oR)(),h=f.userData,T=f.inited;return T&&(h==null?void 0:h.role)!=="verify"}},75631:function(Se,K,a){a.r(K),a.d(K,{default:function(){return je}});var G=a(48651),i=a.n(G),oe=a(22786),f=a.n(oe),h=a(46299),T=a.n(h),c=a(86516),x=a.n(c),ve=a(5677),O=a.n(ve),M=a(9991),pe=a(75247),me=a(35259),he=a(30541),ge=a(59864),V=a(76222),u=a(54916),d=a(81123),W=a(49759),J=a(68591),Q=a.n(J),r=a(79685),L=a(95968),k=a(27202),X=a(24220),e=a(63342),S=function(y){var m=y.onOpenModal,b=y.realData,v=y.tableData,g=y.realArr,E=(0,r.useState)(v),Y=x()(E,2),Z=Y[0],q=Y[1],_=(0,X.N)(),z=_.formatDate,de=function(){for(var s,p=(s=document)===null||s===void 0?void 0:s.getElementById("realDataTable"),te=p.getElementsByTagName("tr"),A=[],C=0;C<te.length;C++){for(var H=[],ae=te[C].getElementsByTagName("input"),B=0;B<ae.length;B++){var $=ae[B].value;H.push($)}A.push(H)}var ne=[];ne=v==null?void 0:v.map(function(t,n){var o={processId:t.context["@id"],paramValue:A.slice(1)[n][0]||t.value.toString(),paramName:t.name,dateTime:z(Date.now())};return o});var l={lcaParamList:ne};typeof m=="function"&&m(),typeof b=="function"&&b(l)};(0,r.useEffect)(function(){var N=v==null?void 0:v.map(function(s,p){return g!=null&&g.length&&g[p].paramName===s.name?i()(i()({},s),{},{inputValue:g[p].paramValue}):i()({},s)});q(N)},[g,v]);var ee=[{title:"\u53C2\u6570\u540D",dataIndex:"name",width:"9rem",render:function(s){return(0,e.jsx)("div",{className:" flex items-center h-[33px] font-normal leading-[21px] text-[14px] ",children:s})}},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"name",width:"7rem",render:function(s,p){return(0,e.jsx)("div",{className:"flex items-center  h-[33px] font-normal leading-[21px] text-[14px] ",children:p.context.name})}},{title:"\u53C2\u8003\u503C",width:"10rem",dataIndex:"value",render:function(s){return(0,e.jsx)("div",{className:"flex items-center h-[33px] font-normal leading-[21px] text-[14px] ",children:s})}},{title:"\u586B\u5165\u503C",width:"10rem",dataIndex:"createTime",render:function(s,p){return(0,e.jsx)("input",{defaultValue:p.inputValue,type:"number",className:"font-normal  leading-[21px] text-[14px] w-[10rem] h-[33px] "})}}];return(0,e.jsxs)(L.u_,{title:"\u5B9E\u666F\u6570\u636E\u586B\u62A5",containerClassName:"mx-5 max-w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",onClose:typeof m=="function"&&m||void 0,children:[(0,e.jsx)("div",{className:" mx-5 w-[640px] max-h-[400px] overflow-y-auto ",children:(0,e.jsx)(me.i,{columns:ee,tableId:"realDataTable",data:Z||[],isSetBorder:!0,maxHeight:"calc(100vh - 260px)",headerClassName:{background:"#DDDDDD",position:"sticky",top:"-1px",fontWeight:"700",fontSize:"18px",lineHeight:"30px",height:"50px"}})}),(0,e.jsx)("div",{className:"mx-5 ",children:(0,e.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5",children:[(0,e.jsx)(M.u,{onClick:typeof m=="function"&&m||void 0,defStyle:"btn-primary-1",className:"flex-1  font-normal  h-[50px] border-2 text-[18px]",children:"\u53D6\u6D88"}),(0,e.jsx)(M.u,{className:"flex-1 h-[50px]  font-normal  text-[18px]",onClick:de,children:"\u786E\u5B9A"})]})})]})},R=S,Ne={loadName:"",productId:""},fe=function(y){var m,b=y.openResultModal,v=y.getList,g=(0,r.useState)(!1),E=x()(g,2),Y=E[0],Z=E[1],q=(0,r.useState)([{name:"",id:""}]),_=x()(q,2),z=_[0],de=_[1],ee=(0,r.useState)({lcaParamList:[]}),N=x()(ee,2),s=N[0],p=N[1],te=(0,r.useState)([]),A=x()(te,2),C=A[0],H=A[1],ae=(0,r.useState)(Ne),B=x()(ae,2),$=B[0],ne=B[1],l=(0,r.useMemo)(function(){return z.map(function(I){return i()(i()({},I),{},{text:I.name})})},[z]),t=(0,k.dW)(l,-1),n=(m=t.items[t.current])===null||m===void 0?void 0:m.id,o=(0,r.useState)(!0),U=x()(o,2),w=U[0],ye=U[1],be=(0,X.N)(),Ce=be.formatDate,we=function(){(0,u.ev)().then(function(D){de(D||{name:"",id:""}),ye(!1)}).catch(function(D){}).finally()},Ie=function(){var D,re=$.loadName;if(!(!re||!n)){var P=C==null?void 0:C.map(function(ce){return{processId:ce.context["@id"],paramValue:ce.value.toString(),paramName:ce.name,dateTime:Ce(Date.now())}}),le=(D=s.lcaParamList)!==null&&D!==void 0&&D.length?s:{lcaParamList:P.length?P:void 0},j=i()(i()({},le),{},{loadName:re,productId:n});(0,u.E)(j).then(function(ce){typeof v=="function"&&v()}).catch(function(ce){}).finally(function(){typeof b=="function"&&b()})}};(0,r.useEffect)(function(){we()},[]);var Te=function(){n&&Z(!0)},Fe=function(D){var re=D.target,P=re.name,le=re.value;ne(function(j){return i()(i()({},j),{},O()({},P,le))})},Ee=function(){var I=T()(f()().mark(function D(){return f()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:(0,u.NF)(n).then(function(le){var j=JSON.parse(le.paramDetail)[0]||[];H(JSON.stringify(j)==="{}"||!(j!=null&&j.parameters)?[]:j==null?void 0:j.parameters)}).catch(function(le){}).finally();case 1:case"end":return P.stop()}},D)}));return function(){return I.apply(this,arguments)}}();return(0,r.useEffect)(function(){n&&Ee()},[n]),w?null:(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)(L.u_,{className:"rounded-lg",containerClassName:"mx-5 w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",title:"\u65B0\u5EFA\u78B3\u8DB3\u8FF9\u7ED3\u679C",onClose:b,children:(0,e.jsxs)("div",{className:"mx-5 w-[640px] ",children:[(0,e.jsx)("span",{className:"font-normal leading-6 ",children:"\u78B3\u8DB3\u8FF9\u6279\u6B21\uFF1A"}),(0,e.jsx)("input",{value:$.loadName,onChange:Fe,id:"loadName",name:"loadName",maxLength:30,className:"w-full mb-[20px] mt-[10px] px-5 border border-[#DDDDDD]  h-[50px]  bg-[#F8F8F8] rounded-lg"}),(0,e.jsx)("div",{className:"font-normal leading-6  mb-[10px]",children:"\u4EA7\u54C1\u7CFB\u7EDF\uFF1A"}),(0,e.jsx)(k.ub,i()(i()({},t),{},{openClassName:"max-h-[9rem] bg-white  rounded-lg py-3 "})),(0,e.jsx)("div",{className:"mt-5 font-normal leading-6",children:"\u5B9E\u666F\u6570\u636E\u586B\u62A5\uFF1A"}),(0,e.jsx)("div",{onClick:function(){return Te()},className:" flex cursor-pointer rounded-[4px] leading-4 text-[16px] mt-[10px] bg-[#F1F1F1] w-[84px] h-[24px]  text-center items-center justify-center ",children:"\u524D\u5F80\u586B\u5199"}),(0,e.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5",children:[(0,e.jsx)(M.u,{onClick:b,defStyle:"btn-primary-1",className:"flex-1  font-normal  h-[50px] border-2 text-[18px]",children:"\u53D6\u6D88"}),(0,e.jsx)(M.u,{className:"flex-1 h-[50px]  font-normal  text-[18px]",onClick:Ie,disabled:!n||!$.loadName,children:"\u8BA1\u7B97\u78B3\u7ED3\u679C"})]})]})}),Y&&(0,e.jsx)(R,{realData:p,tableData:C,realArr:s.lcaParamList,onOpenModal:function(){return Z(!1)}})]})},De=fe,F,xe=(F={},O()(F,-1,{color:"text-[red]",text:"\u8BA1\u7B97\u5931\u8D25"}),O()(F,0,{color:"text-[#FF9800]",text:"\u7B49\u5F85\u8BA1\u7B97"}),O()(F,1,{color:"text-green-2",text:"\u67E5\u770B\u7ED3\u679C"}),O()(F,2,{color:"text-blue-600",text:"\u6B63\u5728\u8BA1\u7B97"}),F);function se(){var ue=(0,r.useState)(1),y=x()(ue,2),m=y[0],b=y[1],v=(0,r.useState)({}),g=x()(v,2),E=g[0],Y=g[1],Z=(0,r.useState)(!1),q=x()(Z,2),_=q[0],z=q[1],de=(0,r.useState)(!1),ee=x()(de,2),N=ee[0],s=ee[1],p=(0,r.useRef)({inputData:"",data:""}),te=(0,r.useState)(!0),A=x()(te,2),C=A[0],H=A[1],ae=function(t){var n=t.param,o=t.paramDetail;p.current={inputData:n,data:o},s(!0)},B=(0,r.useMemo)(function(){return[{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",dataIndex:"loadName",width:"180px",render:function(t){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-place":"top-start","data-tooltip-content":(0,d.iT)(t,9),className:"w-[180px] font-normal  text-lg leading-[27px] truncate inline-block",children:t})}},{title:"\u5B9E\u666F\u6570\u636E",dataIndex:"productName",width:"6rem",render:function(t,n){return(0,e.jsx)("div",{className:"flex justify-center text-lg leading-[27px]  w-[8rem] bg-[#F1F1F1] rounded",onClick:function(){return ae(n)},children:(0,e.jsx)("span",{className:"cursor-pointer ",children:"\u67E5\u770B\u5B9E\u666F\u6570\u636E"})})}},{title:"\u6279\u6B21\u7ED3\u679CID",dataIndex:"loadNumber",width:"8rem",render:function(t){return(0,e.jsx)("span",{"data-tooltip-content":t,"data-tooltip-id":"tooltip",className:" text-lg leading-[27px] w-[13rem]  truncate inline-block",children:(0,d.lS)(t,8,8)})}},{title:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",width:"2rem",dataIndex:"productName",render:function(t){return(0,e.jsx)("span",{"data-tooltip-content":(0,d.iT)(t,15),"data-tooltip-id":"tooltip",className:" text-lg  truncate inline-block leading-[27px] max-w-[14rem] ",children:t})}},{title:"\u7CFB\u7EDF\u4EA7\u54C1ID",width:"7rem",dataIndex:"productUuid",render:function(t){return(0,e.jsx)("span",{"data-tooltip-content":t,"data-tooltip-id":"tooltip",className:"w-[13rem] text-lg leading-[27px]  truncate inline-block",children:(0,d.lS)(t,8,8)})}},{title:"\u63CF\u8FF0",dataIndex:"productDescription",width:"18.75rem",render:function(t){return(0,e.jsx)("span",{"data-tooltip-content":(0,d.iT)(t,11),"data-tooltip-id":"tooltip",className:"w-[13rem]  text-lg leading-[27px] truncate inline-block",children:t||"-"})}},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"operator",width:"6.25rem",render:function(t){return(0,e.jsx)("span",{"data-tooltip-content":(0,d.iT)(t,19),"data-tooltip-id":"tooltip",className:" truncate inline-block text-lg leading-[27px] max-w-[14rem] ",children:t})}},{title:"\u751F\u6210\u65F6\u95F4",dataIndex:"calculateSuccessTime",width:"18.625rem",render:function(t){return(0,e.jsx)("span",{className:"max-w-[11rem] text-lg leading-[27px]  truncate inline-block",children:t})}},{title:"\u78B3\u8DB3\u8FF9\u7ED3\u679C",dataIndex:"description",width:"8.125rem",render:function(t,n){var o,U;return(0,e.jsx)("div",{className:Q()("flex justify-between ".concat((o=xe[n==null?void 0:n.state])===null||o===void 0?void 0:o.color)),children:(0,e.jsx)(W.Link,{className:"cursor-pointer text-lg leading-[27px]",to:n.state===1?"/main/tools/inventory/result?id=".concat(n.loadNumber):"",children:(U=xe[n==null?void 0:n.state])===null||U===void 0?void 0:U.text})})}},{title:"\u7EC4\u7EC7\u540D\u79F0",dataIndex:"orgName",width:"8.125rem",render:function(t){return(0,e.jsx)("span",{"data-tooltip-content":(0,d.iT)(t,11),"data-tooltip-id":"tooltip",className:"truncate inline-block text-lg leading-[27px] max-w-[14rem] ",children:t})}},{title:"\u7EC4\u7EC7\u7F16\u53F7",dataIndex:"orgSerialNumber",width:"8.125rem",emptyText:"-",render:function(t){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-content":(0,d.iT)(t,11),className:"truncate inline-block text-lg leading-[27px] max-w-[14rem] ",children:t})}}]},[]),$=(0,r.useCallback)(T()(f()().mark(function l(){var t;return f()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,(0,u.h4)(m);case 3:t=o.sent,Y(t),H(!1),o.next=11;break;case 8:o.prev=8,o.t0=o.catch(0),console.log("eeee",o.t0);case 11:case"end":return o.stop()}},l,null,[[0,8]])})),[m]);(0,r.useEffect)(function(){var l=!1,t=function(){var n=T()(f()().mark(function o(){return f()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!l){w.next=3;break}return w.abrupt("return");case 3:return w.next=5,$();case 5:return w.next=7,(0,d._v)(1e4);case 7:w.next=0;break;case 9:case"end":return w.stop()}},o)}));return function(){return n.apply(this,arguments)}}();return t(),function(){l=!0}},[]);var ne=(0,V.b)();return(0,e.jsxs)(he._z,{title:"\u6211\u7684\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u7ED3\u679C",children:[(0,e.jsxs)("div",{className:"",children:[(0,e.jsx)("h3",{className:"flex items-center justify-between text-2xl font-semibold",children:ne&&(0,e.jsx)(M.z,{onClick:function(){return z(!0)},className:Q()("w-40 text-lg font-normal text-white rounded-lg bg-green-2 h-11"),children:"\u65B0\u5EFA\u78B3\u8DB3\u8FF9\u7ED3\u679C"})}),(0,e.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,e.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,e.jsx)("div",{className:"text-base leading-[1.625rem] min-w-[62.25rem]",children:(0,e.jsx)(me.i,{loading:C,columns:B,columnsHeight:"h-[3.125rem] ",mouseHoverKey:"loadNumber",columnsClassName:" cursor-default ",data:(E==null?void 0:E.records)||[],className:"",headerClassName:{background:"#fff",fontWeight:"700",fontSize:"18px",lineHeight:"27px",height:"3.125rem"}})})})})]}),(0,e.jsx)(pe.t,{className:"my-8",onChange:function(t,n){b(t),!(t===1||!n)&&(H(!0),(0,d.k3)())},total:E.total||0,pgSize:10,pgNum:m}),_&&(0,e.jsx)(De,{openResultModal:function(){return z(!1)},getList:function(){b(1),m===1&&$()}}),N&&(0,e.jsx)(ge.d,i()(i()({},p.current),{},{onClose:function(){return s(!1)}}))]})}var ie=se,je=ie}}]);
