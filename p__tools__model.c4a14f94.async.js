"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3942],{33875:function(De,k,t){t.d(k,{E:function(){return N},K:function(){return F}});var T=t(84875),x=t.n(T),g=t(11527);function N(a){var d=a.value,c=a.bg,U=c===void 0?"#dddddd":c,W=a.color,K=W===void 0?"#29953A":W,n=a.className;return(0,g.jsx)("div",{className:x()(n,"w-full h-[10px]"),style:{background:U},children:(0,g.jsx)("div",{style:{width:"".concat(d,"%"),transition:"width 200ms ease",background:K},className:"h-full"})})}function F(a){var d=a.index,c=a.full,U=a.bg,W=U===void 0?"#dddddd":U,K=a.color,n=K===void 0?"#29953A":K,te=a.className;return(0,g.jsx)("div",{className:x()(te,"w-full h-[10px]"),style:{background:W},children:(0,g.jsx)("div",{style:{marginLeft:c?"0":"".concat(d*25,"%"),width:c?"100%":"25%",background:n},className:"h-full"})})}},73261:function(De,k,t){t.d(k,{b:function(){return le}});var T=t(30577),x=t.n(T),g=t(58357),N=t.n(g),F=t(71977),a=t.n(F),d=t(84875),c=t.n(d),U=t(27846),W=t(50959),K=t(30161),n=t(60904),te=t(72741),Oe=t.n(te),M=t(11527),ae={startOnLoad:!0,theme:"default",logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!0},themeVariables:{},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:800,height:200,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,wrapPadding:20},gantt:{titleTopMargin:25,barHeight:16,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d"},class:{titleTopMargin:20,defaultRenderer:"dagre-wrapper"},pie:{}},p={count:1};function Z(I){var me=I.className,z=I.data,re=z===void 0?"":z,Q=(0,W.useMemo)(function(){return"aicp_mermaid_".concat(p.count++)},[]),se=function(){var e=a()(N()().mark(function Ne(){var fe,q,ve,xe,oe;return N()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(w.prev=0,fe=document.querySelector("#"+Q),fe){w.next=4;break}return w.abrupt("return");case 4:return U.N.initialize(ae),w.next=7,U.N.render(Q+"-svg",re);case 7:if(q=w.sent,ve=q.svg,xe=q.bindFunctions,fe.innerHTML=ve,xe==null||xe(fe),oe=document.getElementById(Q+"-svg"),oe){w.next=15;break}return w.abrupt("return");case 15:oe.setAttribute("height","100%"),oe.style.maxWidth="100%",Oe()(oe,{mouseWheelZoomEnabled:!1,zoomEnabled:!0,controlIconsEnabled:!0}),w.next=23;break;case 20:w.prev=20,w.t0=w.catch(0),console.error(w.t0);case 23:case"end":return w.stop()}},Ne,null,[[0,20]])}));return function(){return e.apply(this,arguments)}}(),O=(0,K.Z)(),G=x()(O,2),Ve=G[0],Ie=G[1].width;return(0,n.Z)(se,300,[Ie,re]),(0,M.jsx)("div",{ref:Ve,id:Q,className:c()("mermaid p-2.5",me)})}var ne=Z,le=ne},10225:function(De,k,t){t.d(k,{d:function(){return M}});var T=t(86378),x=t.n(T),g=t(28488),N=t.n(g),F=t(72121),a=t(50959),d=t(11527);function c(){return(0,d.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,d.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top",children:"\u65E0\u6570\u636E"})})}var U=function(p){var Z=p.header,ne=p.data,le=p.empty,I=le===void 0?(0,d.jsx)(c,{}):le,me=p.className,z=me===void 0?"relative min-w-full bg-neutral-200 ":me,re=p.headerClassName,Q=re===void 0?"bg-neutral-200 sticky top-0 text-left text-black text-lg font-bold leading-[27px]":re,se=p.headerItemClassName,O=se===void 0?"p-3":se,G=p.tbodyClassName,Ve=G===void 0?"bg-white ":G,Ie=p.rowClassName,e=Ie===void 0?"text-black text-sm font-normal whitespace-nowrap":Ie,Ne=p.cellClassName,fe=Ne===void 0?"p-3":Ne;return(0,d.jsxs)("table",{className:z,children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{className:Q,children:Z.map(function(q,ve){return(0,d.jsx)("th",{scope:"col",className:O,children:q},ve)})})}),(0,d.jsxs)("tbody",{className:Ve,children:[ne.map(function(q,ve){return(0,d.jsx)("tr",{className:e,children:q.map(function(xe,oe){return(0,d.jsx)("td",{className:fe,children:xe},oe)})},ve)}),ne.length===0&&I]})]})},W=U,K=t(89850),n=t(32699),te=t.n(n),Oe=["data","inputData","header"];function M(ae){var p=ae.data,Z=ae.inputData,ne=ae.header,le=ne===void 0?["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C","\u8F93\u5165\u503C"]:ne,I=N()(ae,Oe),me=(0,a.useMemo)(function(){var z;if(!p)return[];var re=Z?te().mapKeys(typeof Z=="string"?(0,K.OA)(Z)||[]:Z,function(O){return O.paramName}):{},Q=(0,K.OA)(p)||[],se=((z=Q[0])===null||z===void 0?void 0:z.parameters)||[];return se.map(function(O){var G;return[O.name,O.context.name,O.value,((G=re[O.name])===null||G===void 0?void 0:G.paramValue)||""]})},[p,Z]);return(0,d.jsx)(F.u_,x()(x()({title:"\u5B9E\u666F\u6570\u636E"},I),{},{children:(0,d.jsx)("div",{className:"w-[40rem] px-5 max-h-mc overflow-y-auto",children:(0,d.jsx)(W,{data:me,header:le})})}))}},60084:function(De,k,t){t.d(k,{H4:function(){return F},Kv:function(){return N},Tz:function(){return d},We:function(){return a}});var T=t(32699),x=t.n(T),g=t(88297);function N(c){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,g.ZP)("/api/product-system/".concat(c,"/detail"),{refreshInterval:U})}function F(c){return(0,g.ZP)(x().isNil(c)?null:"/api/verifyRecord/".concat(c,"/detail"))}function a(c){return(0,g.ZP)(c?"/api/inventory/all":null)}function d(c){return(0,g.ZP)(c?"/api/verifyRecord/verifiers":null)}},85295:function(De,k,t){t.d(k,{o:function(){return x}});var T=t(50959);function x(){var g=(0,T.useRef)(!0);return(0,T.useEffect)(function(){return g.current=!0,function(){g.current=!1}},[]),g}},81609:function(De,k,t){t.d(k,{b:function(){return g},n:function(){return x}});var T=t(33665);function x(){var N=(0,T.oR)(),F=N.userData,a=N.inited;return a&&(F==null?void 0:F.role)==="verify"}function g(){var N=(0,T.oR)(),F=N.userData,a=N.inited;return a&&(F==null?void 0:F.role)!=="verify"}},64070:function(De,k,t){t.r(k),t.d(k,{default:function(){return ut}});var T=t(58357),x=t.n(T),g=t(71977),N=t.n(g),F=t(30577),a=t.n(F),d=t(67454),c=t(72121),U=t(67747),W=t(51500),K=t(98286),n=t(50959),te=t(9107),Oe=t(86378),M=t.n(Oe),ae=t(28488),p=t.n(ae),Z=t(33665),ne=t(60084),le=t(81609),I=t(89850),me=t(84875),z=t.n(me),re=t(32699),Q=t.n(re),se=t(99592),O=t(10225),G=t(90967),Ve=t.n(G),Ie=t(73261),e=t(11527),Ne=["onClose"],fe=function(s){var u=s.onClose,i=p()(s,Ne),D=i.modelBomInfo,f=D===void 0?"":D,R=f&&JSON.parse(f),A=function(E,b){return E.tagType==="REFERENCE"&&b.tagType!=="REFERENCE"?-1:E.tagType!=="REFERENCE"&&b.tagType==="REFERENCE"?1:0},B=(R||[]).sort(A),o=[],j=`graph TD
`;(B||[]).forEach(function(C,E){var b=C.flowName,$=C.childFlowIds;j+="".concat(E+1,'["').concat(b,`"]
`),o.push("style ".concat(E+1,` color:black,fill:#F1F1F1,stroke:black
`)),$&&$.length>0&&$.forEach(function(H){var h=B.findIndex(function(Y){return Y.flowId===H});h!==-1&&(j+="".concat(h+1," --> ").concat(E+1,`
`),o.push("style ".concat(h+1,` color:black,fill:#F1F1F1,stroke:black
`)))})});var P=Ve()(new Set(o||[])).toString().replace(/,style/g," style"),ue="".concat(j,`
`).concat(P);return(0,e.jsx)(c.u_,M()(M()({},i),{},{title:"\u67E5\u770BBOM\u4FE1\u606F",onClose:u,children:(0,e.jsx)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full flex-1 max-h-mc px-5 py-[1px] overflow-y-auto",children:[(0,e.jsx)(v,{tit:"BOM\u7ED3\u6784",value:(0,e.jsx)(Ie.b,{data:ue,className:"flex justify-center w-[800px] h-[200px] bg-[#F1F1F1]"})}),(0,e.jsx)(v,{tit:"Part Number\u4FE1\u606F",value:null}),(B||[]).map(function(C,E){return(0,e.jsxs)("div",{className:"flex flex-row gap-10 p-0",children:[(0,e.jsx)("div",{className:"w-[200px] text-base text-[#666666] ",children:C.flowName}),(0,e.jsx)("div",{className:"flex flex-wrap flex-shrink w-[30rem] items-center",children:((C==null?void 0:C.partNumbers)||[]).map(function(b,$){return(0,e.jsx)("div",{className:"flex max-w-lg items-center bg-[#F1F1F1] h-6 mb-[10px] rounded ml-5",children:(0,e.jsxs)("div",{className:" w-full mx-[10px] items-center font-normal","data-tooltip-id":"tooltip","data-tooltip-content":(0,I.iT)(b,10),children:["PN : ",(0,I.lS)(b,8,8)]})},"value_".concat($))})})]},"info_".concat(E))})]})})}))},q=fe,ve=["ps"];function xe(l){var s,u,i,D,f=l.ps,R=p()(l,ve),A=(0,se.Z)(!1),B=a()(A,2),o=B[0],j=B[1];return(0,e.jsxs)(c.u_,M()(M()({title:f.name},R),{},{children:[(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(v,{tit:"UID",value:f.uuid||"-"}),(0,e.jsx)(v,{tit:"\u7248\u672C",value:f.version||"-"}),(0,e.jsx)(v,{tit:"\u63CF\u8FF0",value:f.description||"-"}),(0,e.jsx)(v,{tit:"\u72B6\u6001",value:(0,e.jsx)(w,{status:f.state})}),(0,e.jsx)(v,{tit:"\u53D8\u66F4\u4EBA",value:((s=f.updateUser)===null||s===void 0?void 0:s.name)||"-"}),(0,e.jsx)(v,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(Ke,{modelId:(u=f.model)===null||u===void 0?void 0:u.id,modelStatus:(i=f.model)===null||i===void 0?void 0:i.state,isRead:!0})}),(0,e.jsx)(v,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(be,{action:"\u67E5\u770B",onClick:function(){return j(!0)}})}),(0,e.jsx)(qe,{organization:f.org})]}),o&&(0,e.jsx)(O.d,{data:(D=f.model)===null||D===void 0?void 0:D.paramDetail,onClose:function(){return j(!1)}})]}))}var oe=["defaultValue"],Qe=["psId","onSuccess"];function w(l){var s=l.status;return Q().isNil(s)?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:"\u8349\u7A3F"}):(0,e.jsx)("div",{className:z()("w-min whitespace-nowrap h-6 px-2.5 py-1 bg-opacity-10 rounded justify-start items-center gap-2.5 inline-flex",{"bg-rose-500":s!==1,"bg-green-600":s===1}),children:(0,e.jsx)("div",{className:z()("text-green-600 text-base font-normal leading-none",{"text-rose-500":s!==1,"text-green-600":s===1}),children:s===1?"\u5F53\u524D\u4F7F\u7528":"\u8FC7\u53BB\u7248\u672C"})})}function be(l){var s=l.action,u=l.onClick,i=l.to;return i?(0,e.jsx)("a",{href:i,className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded text-black text-base font-normal leading-none",children:s}):(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",onClick:u,children:(0,e.jsx)("div",{className:"text-base font-normal leading-none text-black",children:s})})}function Ke(l){var s=l.psId,u=l.disableSelectFile,i=u===void 0?!1:u,D=l.openNewTab,f=D===void 0?!1:D,R=l.hiddenUpdate,A=l.modelId,B=l.isNew,o=l.isRead,j=l.modelStatus,P=l.file,ue=l.onFileChange,C=l.btnText,E=C===void 0?"\u4E0A\u4F20\u6A21\u578B":C,b=(0,n.useRef)(null),$=function(){return j!==1?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-amber-500",children:"\u7B49\u5F85\u89E3\u6790"}):(0,e.jsx)(be,{onClick:function(){return f?window.open("/model?id=".concat(A),"_blank"):void 0},to:f?void 0:"/model?id=".concat(A),action:"\u5728\u7EBF\u67E5\u770B"})},H=function(Y){var he;!i&&((he=b.current)===null||he===void 0||he.click())};return(0,e.jsxs)("div",{className:"text-neutral-400 text-base font-normal leading-none flex items-center gap-2.5",children:[(0,e.jsx)("input",{ref:b,type:"file",hidden:!0,accept:".zip",onChange:ue}),!o&&(0,I.lS)(P==null?void 0:P.name,10,10),o?$():B?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(be,{action:E,onClick:H})}):(0,e.jsx)(e.Fragment,{children:!P&&$()})]})}function v(l){var s=typeof l.value=="string"||typeof l.value=="number";return(0,e.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,e.jsxs)("div",{className:"text-base font-normal leading-normal text-black",children:[l.tit,": "]}),s?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:l.value}):l.value]})}function _e(l){var s=l.defaultValue,u=p()(l,oe);return(0,e.jsx)("input",M()({type:"text",className:"w-full px-5 py-[15px] bg-gray-28 rounded-lg border border-neutral-200 justify-start items-start gap-2.5 inline-flex text-black text-base font-normal leading-none"},u))}function qe(l){var s=(0,Z.oR)(),u=s.userData,i=l.organization||(u==null?void 0:u.organization);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(v,{tit:"\u7EC4\u7EC7\u540D\u79F0",value:(i==null?void 0:i.name)||"-"}),(0,e.jsx)(v,{tit:"\u7EC4\u7EC7\u7F16\u53F7",value:(i==null?void 0:i.serialNumber)||"-"})]})}function et(l){var s,u,i,D,f=l.psId,R=l.onSuccess,A=p()(l,Qe),B=(0,ne.Kv)(f,6e4),o=B.data,j=B.isLoading,P=B.error,ue=(0,n.useState)(""),C=a()(ue,2),E=C[0],b=C[1],$=(0,n.useRef)(!0);(0,n.useEffect)(function(){o&&$.current&&(b(o.description||""),$.current=!1)},[o]),(0,n.useEffect)(function(){P&&A.onClose&&A.onClose()},[P]);var H=(0,n.useState)(!1),h=a()(H,2),Y=h[0],he=h[1],ye=(0,n.useState)(null),ge=a()(ye,2),Be=ge[0],Pe=ge[1],Te=(0,n.useState)(!1),ie=a()(Te,2),Me=ie[0],pe=ie[1],Re=(0,n.useCallback)(function(ee){var je;Pe((je=ee.target.files)===null||je===void 0?void 0:je.item(0))},[]),_=(0,se.Z)(!1),L=a()(_,2),ze=L[0],Ee=L[1],Ae=(0,n.useState)(),$e=a()(Ae,2),Fe=$e[0],Le=$e[1],J=(0,le.n)();return(0,e.jsxs)(c.u_,M()(M()({},A),{},{children:[j&&!o&&(0,e.jsx)(te.g,{className:"min-h-[100px]"}),o&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex flex-col gap-5  w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(v,{tit:"\u4EA7\u54C1\u7CFB\u7EDFID",value:o.uuid||"-"}),(0,e.jsx)(v,{tit:"\u63CF\u8FF0",value:(0,e.jsx)("div",{className:" break-words max-w-[40rem] flex-wrap text-[16px] font-normal text-[#999999]",children:E||"-"})}),(0,e.jsx)(v,{tit:"\u64CD\u4F5C\u4EBA",value:o.updateUser.name||"-"}),(0,e.jsx)(v,{tit:"BOM\u4FE1\u606F",value:(0,e.jsx)(be,{action:"\u67E5\u770B",onClick:function(){return pe(!0)}})}),(0,e.jsx)(v,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(be,{action:"\u67E5\u770B",onClick:function(){return Ee(!0)}})}),(0,e.jsx)(v,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(Ke,{modelId:(s=o.model)===null||s===void 0?void 0:s.id,disableSelectFile:Y,modelStatus:(u=o.model)===null||u===void 0?void 0:u.state,hiddenUpdate:J,file:Be,onFileChange:Re})}),(0,e.jsx)(qe,{organization:o==null?void 0:o.org})]})}),ze&&(0,e.jsx)(O.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:o==null||(i=o.model)===null||i===void 0?void 0:i.paramDetail,onClose:function(){return Ee(!1)}}),Fe&&(0,e.jsx)(xe,{onClose:function(){return Le(void 0)},ps:Fe}),Me&&(0,e.jsx)(q,{modelBomInfo:o==null||(D=o.model)===null||D===void 0?void 0:D.modelBomInfo,onClose:function(){return pe(!1)}})]}))}var tt=t(1267),Ue=t(97707),at=t(33875),nt=t(85295),lt=["onSuccess","onClose"];function rt(l){var s=l.onSuccess,u=l.onClose,i=p()(l,lt),D=(0,n.useState)(""),f=a()(D,2),R=f[0],A=f[1],B=(0,n.useState)(!1),o=a()(B,2),j=o[0],P=o[1],ue=(0,n.useState)(0),C=a()(ue,2),E=C[0],b=C[1],$=(0,n.useState)(null),H=a()($,2),h=H[0],Y=H[1],he=(0,n.useState)("upload"),ye=a()(he,2),ge=ye[0],Be=ye[1],Pe=!h,Te=(0,n.useState)(""),ie=a()(Te,2),Me=ie[0],pe=ie[1],Re=(0,n.useState)({id:0,modelBomInfo:"",paramDetail:"",modelName:""}),_=a()(Re,2),L=_[0],ze=_[1],Ee=(0,n.useState)(!1),Ae=a()(Ee,2),$e=Ae[0],Fe=Ae[1],Le=(0,n.useState)(!1),J=a()(Le,2),ee=J[0],je=J[1],We=(0,n.useCallback)(function(S){var V;Y((V=S.target.files)===null||V===void 0?void 0:V.item(0))},[]),Ce=(0,n.useRef)(),Ze=(0,n.useCallback)(function(){var S;(S=Ce.current)===null||S===void 0||S.abort(),u&&u()},[u]),ke=function(){P(!1),b(0),pe("")},Ge=(0,nt.o)(),Je=function(){var S=N()(x()().mark(function V(de){var ce;return x()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:pe("\u6A21\u578B\u89E3\u6790\u4E2D......");case 1:return r.next=4,(0,I._v)(5e3);case 4:if(Ge.current){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,(0,Ue.Yp)(de).catch(function(){});case 8:if(ce=r.sent,b(function(m){return Math.min(m+10,100)}),!(ce&&ce.state===1&&ce.modelBomInfo)){r.next=12;break}return r.abrupt("return",ce);case 12:r.next=1;break;case 14:case"end":return r.stop()}},V)}));return function(de){return S.apply(this,arguments)}}(),He=function(){pe("\u6B63\u5728\u4E0A\u4F20......");var V=new FormData;V.append("file",h),Ce.current=new AbortController,(0,Ue.av)(V,{signal:Ce.current.signal,onUploadProgress:function(ce){b(Math.min(Math.round((ce.progress||0)*100),60))}}).then(Je).then(function(de){de&&(ze(de),Be("add"),ke())}).catch(function(){ke()})},Ye=(0,tt.R)(function(){if(!Pe)if(ge==="upload"){if(j)return;P(!0),He()}else(0,Ue.bc)({name:L.modelName,description:R,modelId:L.id}).then(function(){s&&s(),Ze()}).catch(function(S){console.log("err",S)})});return(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(c.u_,M()(M()({},i),{},{title:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF",onClose:function(){Ze(),ke()},children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:[(0,e.jsx)("div",{className:z()("flex flex-col w-full flex-1  max-h-mc px-5 py-[1px] overflow-y-auto ".concat(j?"gap-0":"gap-5")),children:j?(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)("div",{className:"flex justify-center w-full",children:Me}),(0,e.jsx)(at.E,{value:E,className:"my-5 overflow-hidden rounded-lg"})]}):ge==="upload"?(0,e.jsx)(v,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(Ke,{isNew:!0,disableSelectFile:j,file:h,onFileChange:We,btnText:"\u9009\u62E9\u6A21\u578B"})}):(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(v,{tit:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",value:L==null?void 0:L.modelName}),(0,e.jsx)(v,{tit:"BOM\u4FE1\u606F",value:(0,e.jsx)(be,{action:"\u67E5\u770B",onClick:function(){return Fe(!0)}})}),(0,e.jsx)(v,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(be,{action:"\u67E5\u770B",onClick:function(){return je(!0)}})}),(0,e.jsx)(v,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)(Ke,{modelStatus:j?0:1,modelId:L.id,openNewTab:!0,onFileChange:We})}),(0,e.jsx)(v,{tit:"\u63CF\u8FF0",value:(0,e.jsx)(_e,{maxLength:100,value:R,onChange:function(V){return A(V.target.value)}})})]})}),(0,e.jsx)("div",{className:"flex flex-shrink-0 w-full gap-5 px-5",children:!j&&(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(d.u,{defStyle:"btn-primary-1",className:"flex-1",onClick:function(){Ze(),ke()},children:"\u53D6\u6D88"}),(0,e.jsx)(d.u,{className:"flex-1",onClick:Ye,disabled:Pe,children:ge==="upload"?"\u4E0A\u4F20":"\u786E\u5B9A"})]})})]})})),ee&&(0,e.jsx)(O.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:L==null?void 0:L.paramDetail,onClose:function(){return je(!1)}}),$e&&(0,e.jsx)(q,M()(M()({},L),{},{onClose:function(){return Fe(!1)}}))]})}function st(){var l,s,u,i,D=(0,n.useState)(null),f=a()(D,2),R=f[0],A=f[1],B=(0,n.useState)(null),o=a()(B,2),j=o[0],P=o[1],ue=(0,n.useState)(),C=a()(ue,2),E=C[0],b=C[1],$=(0,n.useState)(null),H=a()($,2),h=H[0],Y=H[1],he=(0,n.useState)(!1),ye=a()(he,2),ge=ye[0],Be=ye[1],Pe=(0,n.useState)(1),Te=a()(Pe,2),ie=Te[0],Me=Te[1],pe=(0,n.useState)(-1),Re=a()(pe,2),_=Re[0],L=Re[1],ze=(0,n.useState)(0),Ee=a()(ze,2),Ae=Ee[0],$e=Ee[1],Fe=(0,n.useState)({}),Le=a()(Fe,2),J=Le[0],ee=Le[1],je=(0,n.useState)([]),We=a()(je,2),Ce=We[0],Ze=We[1],ke=(0,n.useState)(!0),Ge=a()(ke,2),Je=Ge[0],He=Ge[1],Ye=function(){var r=N()(x()().mark(function m(){var X;return x()().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,(0,Ue.vz)(ie);case 2:X=we.sent,ee(X),He(!1);case 5:case"end":return we.stop()}},m)}));return function(){return r.apply(this,arguments)}}();(0,n.useEffect)(function(){var r=!1,m=function(){var X=N()(x()().mark(function Se(){return x()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!r){y.next=3;break}return y.abrupt("return");case 3:return y.prev=3,y.next=6,Ye();case 6:return y.next=8,(0,I._v)(1e4);case 8:y.next=13;break;case 10:return y.prev=10,y.t0=y.catch(3),y.abrupt("continue",0);case 13:y.next=0;break;case 15:case"end":return y.stop()}},Se,null,[[3,10]])}));return function(){return X.apply(this,arguments)}}();return m(),function(){r=!0}},[]);var S=(0,n.useMemo)(function(){return[{title:"\u4EA7\u54C1\u7CFB\u7EDF",dataIndex:"name",width:"200px",render:function(m){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-place":"top-start","data-tooltip-content":(0,I.iT)(m,20),className:"w-[200px] font-normal  text-lg leading-[27px] truncate inline-block",children:m})}},{title:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid",width:"15rem",render:function(m){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-content":m,className:"text-lg w-[15rem] truncate inline-block font-normal leading-[27px]",children:(0,I.lS)(m,8,8)})}},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"name",width:"8rem",render:function(m,X){return(0,e.jsx)("span",{className:"w-[8rem] text-lg truncate inline-block font-normal leading-[27px]",children:X.updateUser.name})}},{title:"\u63CF\u8FF0",dataIndex:"description",width:"14rem",render:function(m){return(0,e.jsx)("div",{"data-tooltip-content":(0,I.iT)(m,11),"data-tooltip-id":"tooltip",className:"w-[14rem] text-lg truncate inline-block font-normal leading-[27px]",children:m||"-"})}},{title:"\u4E0A\u4F20\u65F6\u95F4",dataIndex:"createTime",width:"13rem",render:function(m){return(0,e.jsx)("span",{className:"w-[13rem] text-lg truncate inline-block font-normal leading-[27px]",children:m})}},{title:"",width:"20rem",render:function(m,X){return(0,e.jsx)("div",{className:"flex justify-between flex-1 ml-10 text-green-2 break-keep",children:(0,e.jsx)("div",{className:"flex items-center font-normal justify-center cursor-pointer text-lg leading-[27px]",onClick:function(){return b(X)},children:"\u67E5\u770B"})})}}]},[]),V=(0,n.useMemo)(function(){return[{title:"\u5B9E\u666F\u8F93\u5165\u9879",dataIndex:"context",width:"20%"},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"parameter",width:"30%"},{title:"\u53C2\u8003\u503C",dataIndex:"amount",width:"20%"},{title:"\u4E0D\u786E\u5B9A\u6027",dataIndex:"uncertainty",emptyText:"-",width:"30%"}]},[]),de=function(){var r=N()(x()().mark(function m(X){var Se;return x()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return Se="\u66F4\u6539\u72B6\u6001",Y({title:Se,loading:!0}),y.next=4,(0,Ue.pF)(R.id,X);case 4:$e(Ae+1),Y({title:Se,loading:!1,resultText:"\u64CD\u4F5C\u6210\u529F"}),A(null);case 7:case"end":return y.stop()}},m)}));return function(X){return r.apply(this,arguments)}}(),ce=(0,le.b)(),Xe=function(){Me(1),ie===1&&Ye()};return(0,e.jsxs)(K.m,{isNew:!0,canBack:!0,link:{pathName:"/tools/tools",homeTitle:"\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u5DE5\u5177\u96C6",currentTitle:"\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u6A21\u578B\u7BA1\u7406\u5DE5\u5177"},className:"flex flex-col justify-between flex-1 pb-12 text-black ",children:[(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("h3",{className:"flex items-center justify-between text-2xl font-semibold",children:[(0,e.jsx)("span",{children:"\u6211\u7684\u4EA7\u54C1\u7CFB\u7EDF"}),ce&&(0,e.jsx)(d.z,{onClick:function(){return Be(!0)},className:z()("w-40 text-lg font-normal text-white rounded-lg bg-green-2 h-11 hover:bg-green-28"),children:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF"})]}),(0,e.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,e.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,e.jsx)("div",{className:"min-h-[20.25rem] text-base leading-[1.625rem] min-w-[68.25rem]",children:(0,e.jsx)(W.i,{loading:Je,columns:S,columnsHeight:"h-[3.125rem]",mouseHoverKey:"id",data:(J==null?void 0:J.records)||[],columnsClassName:" cursor-pointer ",headerClassName:{background:"#fff",fontWeight:"700",fontSize:"18px",lineHeight:"27px"}})})})})]}),(0,e.jsx)(U.t,{onChange:function(m){Me(m),(0,I.k3)(),He(!0)},className:"my-8",total:(J==null?void 0:J.total)||0,pgSize:10,pgNum:ie}),R!==null&&(0,e.jsx)(c.u_,{title:"\u66F4\u6539\u72B6\u6001",onClose:function(){return A(null)},children:(0,e.jsx)("div",{className:"flex",children:h!=null&&h.loading?(0,e.jsx)(te.g,{}):(0,e.jsxs)("div",{className:"flex flex-1",children:[R.state>-2&&(0,e.jsx)(d.z,{onClick:function(){return de(R.state===1?0:1)},className:"flex-1 w-full text-lg text-white rounded-lg bg-green-2 h-11",children:R.state===1?"\u5F03\u7528":"\u6FC0\u6D3B"}),R.state===-1&&(0,e.jsx)(d.z,{onClick:function(){return de(-2)},className:"flex-1 w-full ml-5 text-lg border-2 rounded-lg border-green-2 bg-green-2/10 text-green-2 hover:bg-green-2/20 h-11",children:"\u5220\u9664"})]})})}),!!j&&(0,e.jsx)(c.u_,{title:j.modelName+"\u6A21\u578B\u4E2D\u7684\u5B9E\u666F\u8F93\u5165\u9879",onClose:function(){return P(null)},children:(0,e.jsxs)("div",{className:"flex w-[60rem] min-h-[16rem] flex-col pb-2",children:[(0,e.jsx)("ul",{className:"flex mb-1",children:V.map(function(r,m){return(0,e.jsx)("li",{className:"px-3 text-lg font-bold",style:{width:r.width},children:r.title},"columns".concat(m))})}),(0,e.jsx)("div",{className:"max-h-[15rem] min-h-[5rem] overflow-y-auto",children:(0,e.jsx)(W.i,{size:"big",hiddenHeader:!0,columns:V,data:j.paramDetail})})]})}),h&&(0,e.jsx)(c.u_,{title:(h==null?void 0:h.title)||"\u64CD\u4F5C",onClose:function(){return Y(null)},children:(0,e.jsx)("div",{className:"pb-2 text-center",children:h.loading?(0,e.jsx)(te.g,{}):(0,e.jsx)("span",{children:h.resultText})})}),ge&&(0,e.jsx)(rt,{onClose:function(){return Be(!1)},onSuccess:function(){return Xe()}}),E&&(0,e.jsx)(et,{psId:E.id,title:E.name,onClose:function(){return b(void 0)},onSuccess:function(){return Xe()}}),_>-1&&(0,e.jsx)(c.u_,{title:"\u67E5\u770B\u4EA7\u54C1",onClose:function(){return L(-1)},children:(0,e.jsxs)("ul",{className:"text-lg max-w-[32rem]",children:[(0,e.jsxs)("li",{className:"flex",children:[(0,e.jsx)("label",{className:"inline-block min-w-[5.625rem]",children:"\u4EA7\u54C1\u540D\u79F0 :"}),(0,e.jsx)("span",{className:"break-all text-gray-6",children:(l=Ce[_])===null||l===void 0?void 0:l.text})]}),(0,e.jsxs)("li",{className:"my-5",children:[(0,e.jsx)("label",{className:"inline-block w-[5.625rem]",children:"\u4EA7\u54C1\u7C7B\u578B :"}),(0,e.jsx)("span",{className:"text-gray-6",children:(s=Ce[_])===null||s===void 0?void 0:s.type})]}),(0,e.jsxs)("li",{className:"flex",children:[(0,e.jsx)("label",{className:"inline-block min-w-[5.625rem]",children:"\u63CF\u8FF0 :"}),(0,e.jsx)("span",{className:"break-all text-gray-6",children:(u=Ce[_])!==null&&u!==void 0&&u.desc?(i=Ce[_])===null||i===void 0?void 0:i.desc:"-"})]})]})})]})}var ot=st,ut=ot}}]);
