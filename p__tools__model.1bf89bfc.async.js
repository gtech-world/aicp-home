"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[3942],{33875:function(ge,$,t){t.d($,{E:function(){return E},K:function(){return F}});var R=t(84875),m=t.n(R),N=t(11527);function E(a){var c=a.value,f=a.bg,k=f===void 0?"#dddddd":f,B=a.color,U=B===void 0?"#29953A":B,n=a.className;return(0,N.jsx)("div",{className:m()(n,"w-full h-[10px]"),style:{background:k},children:(0,N.jsx)("div",{style:{width:"".concat(c,"%"),transition:"width 200ms ease",background:U},className:"h-full"})})}function F(a){var c=a.index,f=a.full,k=a.bg,B=k===void 0?"#dddddd":k,U=a.color,n=U===void 0?"#29953A":U,ue=a.className;return(0,N.jsx)("div",{className:m()(ue,"w-full h-[10px]"),style:{background:B},children:(0,N.jsx)("div",{style:{marginLeft:f?"0":"".concat(c*25,"%"),width:f?"100%":"25%",background:n},className:"h-full"})})}},10225:function(ge,$,t){t.d($,{d:function(){return W}});var R=t(86378),m=t.n(R),N=t(28488),E=t.n(N),F=t(72121),a=t(50959),c=t(11527);function f(){return(0,c.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,c.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top",children:"\u65E0\u6570\u636E"})})}var k=function(w){var Q=w.header,de=w.data,ce=w.empty,z=ce===void 0?(0,c.jsx)(f,{}):ce,je=w.className,Z=je===void 0?"relative min-w-full bg-neutral-200 ":je,Ce=w.headerClassName,Be=Ce===void 0?"bg-neutral-200 sticky top-0 text-left text-black text-lg font-bold leading-[27px]":Ce,fe=w.headerItemClassName,K=fe===void 0?"p-3":fe,te=w.tbodyClassName,ze=te===void 0?"bg-white ":te,Pe=w.rowClassName,Ke=Pe===void 0?"text-black text-sm font-normal whitespace-nowrap":Pe,Le=w.cellClassName,Ze=Le===void 0?"p-3":Le;return(0,c.jsxs)("table",{className:Z,children:[(0,c.jsx)("thead",{children:(0,c.jsx)("tr",{className:Be,children:Q.map(function(Me,e){return(0,c.jsx)("th",{scope:"col",className:K,children:Me},e)})})}),(0,c.jsxs)("tbody",{className:ze,children:[de.map(function(Me,e){return(0,c.jsx)("tr",{className:Ke,children:Me.map(function(He,Ge){return(0,c.jsx)("td",{className:Ze,children:He},Ge)})},e)}),de.length===0&&z]})]})},B=k,U=t(89850),n=t(32699),ue=t.n(n),We=["data","inputData","header"];function W(ie){var w=ie.data,Q=ie.inputData,de=ie.header,ce=de===void 0?["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C","\u8F93\u5165\u503C"]:de,z=E()(ie,We),je=(0,a.useMemo)(function(){var Z;if(!w)return[];var Ce=Q?ue().mapKeys(typeof Q=="string"?(0,U.OA)(Q)||[]:Q,function(K){return K.paramName}):{},Be=(0,U.OA)(w)||[],fe=((Z=Be[0])===null||Z===void 0?void 0:Z.parameters)||[];return fe.map(function(K){var te;return[K.name,K.context.name,K.value,((te=Ce[K.name])===null||te===void 0?void 0:te.paramValue)||""]})},[w,Q]);return(0,c.jsx)(F.u_,m()(m()({title:"\u5B9E\u666F\u6570\u636E"},z),{},{children:(0,c.jsx)("div",{className:"w-[40rem] px-5 max-h-mc overflow-y-auto",children:(0,c.jsx)(B,{data:je,header:ce})})}))}},60084:function(ge,$,t){t.d($,{H4:function(){return F},Kv:function(){return E},Tz:function(){return c},We:function(){return a}});var R=t(32699),m=t.n(R),N=t(88297);function E(f){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,N.ZP)("/api/product-system/".concat(f,"/detail"),{refreshInterval:k})}function F(f){return(0,N.ZP)(m().isNil(f)?null:"/api/verifyRecord/".concat(f,"/detail"))}function a(f){return(0,N.ZP)(f?"/api/inventory/all":null)}function c(f){return(0,N.ZP)(f?"/api/verifyRecord/verifiers":null)}},85295:function(ge,$,t){t.d($,{o:function(){return m}});var R=t(50959);function m(){var N=(0,R.useRef)(!0);return(0,R.useEffect)(function(){return N.current=!0,function(){N.current=!1}},[]),N}},81609:function(ge,$,t){t.d($,{b:function(){return N},n:function(){return m}});var R=t(33665);function m(){var E=(0,R.oR)(),F=E.userData,a=E.inited;return a&&(F==null?void 0:F.role)==="verify"}function N(){var E=(0,R.oR)(),F=E.userData,a=E.inited;return a&&(F==null?void 0:F.role)!=="verify"}},67275:function(ge,$,t){t.d($,{n:function(){return E},s:function(){return N}});var R=t(32699),m=t.n(R);function N(F){var a=m().groupBy(F,"flowId"),c=function f(k){k.forEach(function(B){if(B._child||(B._child=(B.childFlowIds||[]).map(function(n){return a[n][0]}),f(B._child)),B._child.length===0)B._depth=0;else{var U;B._depth=(((U=m().maxBy(B._child,"_depth"))===null||U===void 0?void 0:U._depth)||0)+1}})};c(F)}var E=function(a,c){var f=typeof a=="string"?[a]:a;return!!m().find(f,function(k){return k.startsWith(c)})}},64344:function(ge,$,t){t.r($),t.d($,{default:function(){return gt}});var R=t(58357),m=t.n(R),N=t(71977),E=t.n(N),F=t(30577),a=t.n(F),c=t(67454),f=t(72121),k=t(67747),B=t(51500),U=t(98286),n=t(50959),ue=t(9107),We=t(86378),W=t.n(We),ie=t(28488),w=t.n(ie),Q=t(33665),de=t(60084),ce=t(81609),z=t(89850),je=t(84875),Z=t.n(je),Ce=t(32699),Be=t.n(Ce),fe=t(99592),K=t(10225),te=t(90967),ze=t.n(te),Pe=t(27846),Ke=t(30161),Le=t(60904),Ze=t(45393),Me=t.n(Ze),e=t(11527),He={startOnLoad:!0,theme:"default",logLevel:"fatal",securityLevel:"strict",arrowMarkerAbsolute:!1,flowchart:{htmlLabels:!0},themeVariables:{},sequence:{diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:800,height:200,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,mirrorActors:!0,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,wrapPadding:20},gantt:{titleTopMargin:25,barHeight:16,barGap:4,topPadding:50,leftPadding:75,gridLineStartPadding:35,fontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d"},class:{titleTopMargin:20,defaultRenderer:"dagre-wrapper"},pie:{}},Ge={count:1};function _e(l){var o=l.className,i=l.data,d=i===void 0?"":i,S=(0,n.useMemo)(function(){return"aicp_mermaid_".concat(Ge.count++)},[]),v=function(){var j=E()(m()().mark(function D(){var O,h,b,C,p;return m()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,O=document.querySelector("#"+S),O){s.next=4;break}return s.abrupt("return");case 4:return Pe.N.initialize(He),s.next=7,Pe.N.render(S+"-svg",d);case 7:if(h=s.sent,b=h.svg,C=h.bindFunctions,O.innerHTML=b,C==null||C(O),p=document.getElementById(S+"-svg"),p){s.next=15;break}return s.abrupt("return");case 15:p.setAttribute("height","100%"),p.style.maxWidth="100%",Me()(p,{mouseWheelZoomEnabled:!1,zoomEnabled:!0,controlIconsEnabled:!0}),s.next=23;break;case 20:s.prev=20,s.t0=s.catch(0),console.error(s.t0);case 23:case"end":return s.stop()}},D,null,[[0,20]])}));return function(){return j.apply(this,arguments)}}(),T=(0,Ke.Z)(),P=a()(T,2),M=P[0],u=P[1].width;return(0,Le.Z)(v,300,[u,d]),(0,e.jsx)("div",{ref:M,id:S,className:Z()("mermaid p-2.5",o)})}var et=_e,tt=et,Xe=t(67275),at=["onClose"],nt=function(o){var i=o.onClose,d=w()(o,at),S=d.modelBomInfo,v=S===void 0?"":S,T=v&&JSON.parse(v),P=function(b,C){var p=(0,Xe.n)(b.tagType,"REFERENCE"),A=(0,Xe.n)(C.tagType,"REFERENCE");return p&&!A?-1:!p&&A?1:0},M=(T||[]).sort(P),u=[],j=`graph TD
`;(M||[]).forEach(function(h,b){var C=h.flowName,p=h.childFlowIds;j+="".concat(b+1,'["').concat(C,`"]
`),u.push("style ".concat(b+1,` color:black,fill:#F1F1F1,stroke:black
`)),p&&p.length>0&&p.forEach(function(A){var s=M.findIndex(function(H){return H.flowId===A});s!==-1&&(j+="".concat(s+1," --> ").concat(b+1,`
`),u.push("style ".concat(s+1,` color:black,fill:#F1F1F1,stroke:black
`)))})});var D=ze()(new Set(u||[])).toString().replace(/,style/g," style"),O="".concat(j,`
`).concat(D);return(0,e.jsx)(f.u_,W()(W()({},d),{},{title:"\u67E5\u770BBOM\u4FE1\u606F",onClose:i,children:(0,e.jsx)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full flex-1 max-h-mc px-5 py-[1px] overflow-y-auto",children:[(0,e.jsx)(g,{tit:"BOM\u7ED3\u6784",value:(0,e.jsx)(tt,{data:O,className:"flex justify-center w-[800px] h-[200px] bg-[#F1F1F1]"})}),(0,e.jsx)(g,{tit:"Part Number\u4FE1\u606F",value:null}),(M||[]).map(function(h,b){return(0,e.jsxs)("div",{className:"flex flex-row gap-10 p-0",children:[(0,e.jsx)("div",{className:"w-[200px] text-base text-[#666666] ",children:h.flowName}),(0,e.jsx)("div",{className:"flex flex-wrap flex-shrink w-[30rem] items-center",children:((h==null?void 0:h.partNumbers)||[]).map(function(C,p){return(0,e.jsx)("div",{className:"flex max-w-lg items-center bg-[#F1F1F1] h-6 mb-[10px] rounded ml-5",children:(0,e.jsxs)("div",{className:" w-full mx-[10px] items-center font-normal","data-tooltip-id":"tooltip","data-tooltip-content":(0,z.iT)(C,10),children:["PN : ",(0,z.lS)(C,8,8)]})},"value_".concat(p))})})]},"info_".concat(b))})]})})}))},Qe=nt,lt=["ps"];function rt(l){var o,i,d,S,v=l.ps,T=w()(l,lt),P=(0,fe.Z)(!1),M=a()(P,2),u=M[0],j=M[1];return(0,e.jsxs)(f.u_,W()(W()({title:v.name},T),{},{children:[(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(g,{tit:"UID",value:v.uuid||"-"}),(0,e.jsx)(g,{tit:"\u7248\u672C",value:v.version||"-"}),(0,e.jsx)(g,{tit:"\u63CF\u8FF0",value:v.description||"-"}),(0,e.jsx)(g,{tit:"\u72B6\u6001",value:(0,e.jsx)(ut,{status:v.state})}),(0,e.jsx)(g,{tit:"\u53D8\u66F4\u4EBA",value:((o=v.updateUser)===null||o===void 0?void 0:o.name)||"-"}),(0,e.jsx)(g,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)($e,{modelId:(i=v.model)===null||i===void 0?void 0:i.id,modelStatus:(d=v.model)===null||d===void 0?void 0:d.state,isRead:!0})}),(0,e.jsx)(g,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(me,{action:"\u67E5\u770B",onClick:function(){return j(!0)}})}),(0,e.jsx)(qe,{organization:v.org})]}),u&&(0,e.jsx)(K.d,{data:(S=v.model)===null||S===void 0?void 0:S.paramDetail,onClose:function(){return j(!1)}})]}))}var st=["defaultValue"],ot=["psId","onSuccess"];function ut(l){var o=l.status;return Be().isNil(o)?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:"\u8349\u7A3F"}):(0,e.jsx)("div",{className:Z()("w-min whitespace-nowrap h-6 px-2.5 py-1 bg-opacity-10 rounded justify-start items-center gap-2.5 inline-flex",{"bg-rose-500":o!==1,"bg-green-600":o===1}),children:(0,e.jsx)("div",{className:Z()("text-green-600 text-base font-normal leading-none",{"text-rose-500":o!==1,"text-green-600":o===1}),children:o===1?"\u5F53\u524D\u4F7F\u7528":"\u8FC7\u53BB\u7248\u672C"})})}function me(l){var o=l.action,i=l.onClick,d=l.to;return d?(0,e.jsx)("a",{href:d,className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded text-black text-base font-normal leading-none",children:o}):(0,e.jsx)("div",{className:"w-min whitespace-nowrap h-6 px-2.5 py-1 bg-zinc-100 rounded justify-start items-center gap-2.5 inline-flex cursor-pointer",onClick:i,children:(0,e.jsx)("div",{className:"text-base font-normal leading-none text-black",children:o})})}function $e(l){var o=l.psId,i=l.disableSelectFile,d=i===void 0?!1:i,S=l.openNewTab,v=S===void 0?!1:S,T=l.hiddenUpdate,P=l.modelId,M=l.isNew,u=l.isRead,j=l.modelStatus,D=l.file,O=l.onFileChange,h=l.btnText,b=h===void 0?"\u4E0A\u4F20\u6A21\u578B":h,C=(0,n.useRef)(null),p=function(){return j!==1?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-amber-500",children:"\u7B49\u5F85\u89E3\u6790"}):(0,e.jsx)(me,{onClick:function(){return v?window.open("/model?id=".concat(P),"_blank"):void 0},to:v?void 0:"/model?id=".concat(P),action:"\u5728\u7EBF\u67E5\u770B"})},A=function(H){var ae;!d&&((ae=C.current)===null||ae===void 0||ae.click())};return(0,e.jsxs)("div",{className:"text-neutral-400 text-base font-normal leading-none flex items-center gap-2.5",children:[(0,e.jsx)("input",{ref:C,type:"file",hidden:!0,accept:".zip",onChange:O}),!u&&(0,z.lS)(D==null?void 0:D.name,10,10),u?p():M?(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(me,{action:b,onClick:A})}):(0,e.jsx)(e.Fragment,{children:!D&&p()})]})}function g(l){var o=typeof l.value=="string"||typeof l.value=="number";return(0,e.jsxs)("div",{className:"flex flex-col gap-2.5",children:[(0,e.jsxs)("div",{className:"text-base font-normal leading-normal text-black",children:[l.tit,": "]}),o?(0,e.jsx)("div",{className:"text-base font-normal leading-none text-neutral-400",children:l.value}):l.value]})}function it(l){var o=l.defaultValue,i=w()(l,st);return(0,e.jsx)("input",W()({type:"text",className:"w-full px-5 py-[15px] bg-gray-28 rounded-lg border border-neutral-200 justify-start items-start gap-2.5 inline-flex text-black text-base font-normal leading-none"},i))}function qe(l){var o=(0,Q.oR)(),i=o.userData,d=l.organization||(i==null?void 0:i.organization);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(g,{tit:"\u7EC4\u7EC7\u540D\u79F0",value:(d==null?void 0:d.name)||"-"}),(0,e.jsx)(g,{tit:"\u7EC4\u7EC7\u7F16\u53F7",value:(d==null?void 0:d.serialNumber)||"-"})]})}function dt(l){var o,i,d,S,v=l.psId,T=l.onSuccess,P=w()(l,ot),M=(0,de.Kv)(v,6e4),u=M.data,j=M.isLoading,D=M.error,O=(0,n.useState)(""),h=a()(O,2),b=h[0],C=h[1],p=(0,n.useRef)(!0);(0,n.useEffect)(function(){u&&p.current&&(C(u.description||""),p.current=!1)},[u]),(0,n.useEffect)(function(){D&&P.onClose&&P.onClose()},[D]);var A=(0,n.useState)(!1),s=a()(A,2),H=s[0],ae=s[1],ve=(0,n.useState)(null),ne=a()(ve,2),Se=ne[0],Ne=ne[1],be=(0,n.useState)(!1),q=a()(be,2),ye=q[0],le=q[1],Ee=(0,n.useCallback)(function(X){var re;Ne((re=X.target.files)===null||re===void 0?void 0:re.item(0))},[]),J=(0,fe.Z)(!1),L=a()(J,2),Re=L[0],xe=L[1],Fe=(0,n.useState)(),we=a()(Fe,2),he=we[0],De=we[1],G=(0,ce.n)();return(0,e.jsxs)(f.u_,W()(W()({},P),{},{children:[j&&!u&&(0,e.jsx)(ue.g,{className:"min-h-[100px]"}),u&&(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex flex-col gap-5  w-full min-w-[40rem] px-5 py-[1px] max-h-mc overflow-y-auto",children:[(0,e.jsx)(g,{tit:"\u4EA7\u54C1\u7CFB\u7EDFID",value:u.uuid||"-"}),(0,e.jsx)(g,{tit:"\u63CF\u8FF0",value:(0,e.jsx)("div",{className:" break-words max-w-[40rem] flex-wrap text-[16px] font-normal text-[#999999]",children:b||"-"})}),(0,e.jsx)(g,{tit:"\u64CD\u4F5C\u4EBA",value:u.updateUser.name||"-"}),(0,e.jsx)(g,{tit:"BOM\u4FE1\u606F",value:(0,e.jsx)(me,{action:"\u67E5\u770B",onClick:function(){return le(!0)}})}),(0,e.jsx)(g,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(me,{action:"\u67E5\u770B",onClick:function(){return xe(!0)}})}),(0,e.jsx)(g,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)($e,{modelId:(o=u.model)===null||o===void 0?void 0:o.id,disableSelectFile:H,modelStatus:(i=u.model)===null||i===void 0?void 0:i.state,hiddenUpdate:G,file:Se,onFileChange:Ee})}),(0,e.jsx)(qe,{organization:u==null?void 0:u.org})]})}),Re&&(0,e.jsx)(K.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:u==null||(d=u.model)===null||d===void 0?void 0:d.paramDetail,onClose:function(){return xe(!1)}}),he&&(0,e.jsx)(rt,{onClose:function(){return De(void 0)},ps:he}),ye&&(0,e.jsx)(Qe,{modelBomInfo:u==null||(S=u.model)===null||S===void 0?void 0:S.modelBomInfo,onClose:function(){return le(!1)}})]}))}var ct=t(1267),Te=t(97707),ft=t(33875),mt=t(85295),vt=["onSuccess","onClose"];function xt(l){var o=l.onSuccess,i=l.onClose,d=w()(l,vt),S=(0,n.useState)(""),v=a()(S,2),T=v[0],P=v[1],M=(0,n.useState)(!1),u=a()(M,2),j=u[0],D=u[1],O=(0,n.useState)(0),h=a()(O,2),b=h[0],C=h[1],p=(0,n.useState)(null),A=a()(p,2),s=A[0],H=A[1],ae=(0,n.useState)("upload"),ve=a()(ae,2),ne=ve[0],Se=ve[1],Ne=!s,be=(0,n.useState)(""),q=a()(be,2),ye=q[0],le=q[1],Ee=(0,n.useState)({id:0,modelBomInfo:"",paramDetail:"",modelName:""}),J=a()(Ee,2),L=J[0],Re=J[1],xe=(0,n.useState)(!1),Fe=a()(xe,2),we=Fe[0],he=Fe[1],De=(0,n.useState)(!1),G=a()(De,2),X=G[0],re=G[1],Ae=(0,n.useCallback)(function(y){var V;H((V=y.target.files)===null||V===void 0?void 0:V.item(0))},[]),se=(0,n.useRef)(),ke=(0,n.useCallback)(function(){var y;(y=se.current)===null||y===void 0||y.abort(),i&&i()},[i]),Ie=function(){D(!1),C(0),le("")},Oe=(0,mt.o)(),Ye=function(){var y=E()(m()().mark(function V(_){var ee;return m()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:le("\u6A21\u578B\u89E3\u6790\u4E2D......");case 1:return r.next=4,(0,z._v)(5e3);case 4:if(Oe.current){r.next=6;break}return r.abrupt("return");case 6:return r.next=8,(0,Te.Yp)(_).catch(function(){});case 8:if(ee=r.sent,C(function(x){return Math.min(x+10,100)}),!(ee&&ee.state===1&&ee.modelBomInfo)){r.next=12;break}return r.abrupt("return",ee);case 12:r.next=1;break;case 14:case"end":return r.stop()}},V)}));return function(_){return y.apply(this,arguments)}}(),Ve=function(){le("\u6B63\u5728\u4E0A\u4F20......");var V=new FormData;V.append("file",s),se.current=new AbortController,(0,Te.av)(V,{signal:se.current.signal,onUploadProgress:function(ee){C(Math.min(Math.round((ee.progress||0)*100),60))}}).then(Ye).then(function(_){_&&(Re(_),Se("add"),Ie())}).catch(function(){Ie()})},Ue=(0,ct.R)(function(){if(!Ne)if(ne==="upload"){if(j)return;D(!0),Ve()}else(0,Te.bc)({name:L.modelName,description:T,modelId:L.id}).then(function(){o&&o(),ke()}).catch(function(y){console.log("err",y)})});return(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(f.u_,W()(W()({},d),{},{title:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF",onClose:function(){ke(),Ie()},children:(0,e.jsxs)("div",{className:"flex flex-col gap-5 w-full min-w-[40rem] overflow-hidden",children:[(0,e.jsx)("div",{className:Z()("flex flex-col w-full flex-1  max-h-mc px-5 py-[1px] overflow-y-auto ".concat(j?"gap-0":"gap-5")),children:j?(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)("div",{className:"flex justify-center w-full",children:ye}),(0,e.jsx)(ft.E,{value:b,className:"my-5 overflow-hidden rounded-lg"})]}):ne==="upload"?(0,e.jsx)(g,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)($e,{isNew:!0,disableSelectFile:j,file:s,onFileChange:Ae,btnText:"\u9009\u62E9\u6A21\u578B"})}):(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(g,{tit:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",value:L==null?void 0:L.modelName}),(0,e.jsx)(g,{tit:"BOM\u4FE1\u606F",value:(0,e.jsx)(me,{action:"\u67E5\u770B",onClick:function(){return he(!0)}})}),(0,e.jsx)(g,{tit:"\u5B9E\u666F\u53C2\u6570\u5217\u8868",value:(0,e.jsx)(me,{action:"\u67E5\u770B",onClick:function(){return re(!0)}})}),(0,e.jsx)(g,{tit:"\u4EA7\u54C1\u7CFB\u7EDFLCA\u6587\u4EF6",value:(0,e.jsx)($e,{modelStatus:j?0:1,modelId:L.id,openNewTab:!0,onFileChange:Ae})}),(0,e.jsx)(g,{tit:"\u63CF\u8FF0",value:(0,e.jsx)(it,{maxLength:100,value:T,onChange:function(V){return P(V.target.value)}})})]})}),(0,e.jsx)("div",{className:"flex flex-shrink-0 w-full gap-5 px-5",children:!j&&(0,e.jsxs)(n.Fragment,{children:[(0,e.jsx)(c.u,{defStyle:"btn-primary-1",className:"flex-1",onClick:function(){ke(),Ie()},children:"\u53D6\u6D88"}),(0,e.jsx)(c.u,{className:"flex-1",onClick:Ue,disabled:Ne,children:ne==="upload"?"\u4E0A\u4F20":"\u786E\u5B9A"})]})})]})})),X&&(0,e.jsx)(K.d,{header:["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C"],data:L==null?void 0:L.paramDetail,onClose:function(){return re(!1)}}),we&&(0,e.jsx)(Qe,W()(W()({},L),{},{onClose:function(){return he(!1)}}))]})}function ht(){var l,o,i,d,S=(0,n.useState)(null),v=a()(S,2),T=v[0],P=v[1],M=(0,n.useState)(null),u=a()(M,2),j=u[0],D=u[1],O=(0,n.useState)(),h=a()(O,2),b=h[0],C=h[1],p=(0,n.useState)(null),A=a()(p,2),s=A[0],H=A[1],ae=(0,n.useState)(!1),ve=a()(ae,2),ne=ve[0],Se=ve[1],Ne=(0,n.useState)(1),be=a()(Ne,2),q=be[0],ye=be[1],le=(0,n.useState)(-1),Ee=a()(le,2),J=Ee[0],L=Ee[1],Re=(0,n.useState)(0),xe=a()(Re,2),Fe=xe[0],we=xe[1],he=(0,n.useState)({}),De=a()(he,2),G=De[0],X=De[1],re=(0,n.useState)([]),Ae=a()(re,2),se=Ae[0],ke=Ae[1],Ie=(0,n.useState)(!0),Oe=a()(Ie,2),Ye=Oe[0],Ve=Oe[1],Ue=function(){var r=E()(m()().mark(function x(){var Y;return m()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return pe.next=2,(0,Te.vz)(q);case 2:Y=pe.sent,X(Y),Ve(!1);case 5:case"end":return pe.stop()}},x)}));return function(){return r.apply(this,arguments)}}();(0,n.useEffect)(function(){var r=!1,x=function(){var Y=E()(m()().mark(function oe(){return m()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(!r){I.next=3;break}return I.abrupt("return");case 3:return I.prev=3,I.next=6,Ue();case 6:return I.next=8,(0,z._v)(1e4);case 8:I.next=13;break;case 10:return I.prev=10,I.t0=I.catch(3),I.abrupt("continue",0);case 13:I.next=0;break;case 15:case"end":return I.stop()}},oe,null,[[3,10]])}));return function(){return Y.apply(this,arguments)}}();return x(),function(){r=!0}},[]);var y=(0,n.useMemo)(function(){return[{title:"\u4EA7\u54C1\u7CFB\u7EDF",dataIndex:"name",width:"200px",render:function(x){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-place":"top-start","data-tooltip-content":(0,z.iT)(x,20),className:"w-[200px] font-normal  text-lg leading-[27px] truncate inline-block",children:x})}},{title:"\u4EA7\u54C1\u7CFB\u7EDFID",dataIndex:"uuid",width:"15rem",render:function(x){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-content":x,className:"text-lg w-[15rem] truncate inline-block font-normal leading-[27px]",children:(0,z.lS)(x,8,8)})}},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"name",width:"8rem",render:function(x,Y){return(0,e.jsx)("span",{className:"w-[8rem] text-lg truncate inline-block font-normal leading-[27px]",children:Y.updateUser.name})}},{title:"\u63CF\u8FF0",dataIndex:"description",width:"14rem",render:function(x){return(0,e.jsx)("div",{"data-tooltip-content":(0,z.iT)(x,11),"data-tooltip-id":"tooltip",className:"w-[14rem] text-lg truncate inline-block font-normal leading-[27px]",children:x||"-"})}},{title:"\u4E0A\u4F20\u65F6\u95F4",dataIndex:"createTime",width:"13rem",render:function(x){return(0,e.jsx)("span",{className:"w-[13rem] text-lg truncate inline-block font-normal leading-[27px]",children:x})}},{title:"",width:"20rem",render:function(x,Y){return(0,e.jsx)("div",{className:"flex justify-between flex-1 ml-10 text-green-2 break-keep",children:(0,e.jsx)("div",{className:"flex items-center font-normal justify-center cursor-pointer text-lg leading-[27px]",onClick:function(){return C(Y)},children:"\u67E5\u770B"})})}}]},[]),V=(0,n.useMemo)(function(){return[{title:"\u5B9E\u666F\u8F93\u5165\u9879",dataIndex:"context",width:"20%"},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"parameter",width:"30%"},{title:"\u53C2\u8003\u503C",dataIndex:"amount",width:"20%"},{title:"\u4E0D\u786E\u5B9A\u6027",dataIndex:"uncertainty",emptyText:"-",width:"30%"}]},[]),_=function(){var r=E()(m()().mark(function x(Y){var oe;return m()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return oe="\u66F4\u6539\u72B6\u6001",H({title:oe,loading:!0}),I.next=4,(0,Te.pF)(T.id,Y);case 4:we(Fe+1),H({title:oe,loading:!1,resultText:"\u64CD\u4F5C\u6210\u529F"}),P(null);case 7:case"end":return I.stop()}},x)}));return function(Y){return r.apply(this,arguments)}}(),ee=(0,ce.b)(),Je=function(){ye(1),q===1&&Ue()};return(0,e.jsxs)(U.m,{isNew:!0,canBack:!0,link:{pathName:"/tools/tools",homeTitle:"\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u5DE5\u5177\u96C6",currentTitle:"\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u6A21\u578B\u7BA1\u7406\u5DE5\u5177"},className:"flex flex-col justify-between flex-1 pb-12 text-black ",children:[(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("h3",{className:"flex items-center justify-between text-2xl font-semibold",children:[(0,e.jsx)("span",{children:"\u6211\u7684\u4EA7\u54C1\u7CFB\u7EDF"}),ee&&(0,e.jsx)(c.z,{onClick:function(){return Se(!0)},className:Z()("w-40 text-lg font-normal text-white rounded-lg bg-green-2 h-11 hover:bg-green-28"),children:"\u65B0\u5EFA\u4EA7\u54C1\u7CFB\u7EDF"})]}),(0,e.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,e.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,e.jsx)("div",{className:"min-h-[20.25rem] text-base leading-[1.625rem] min-w-[68.25rem]",children:(0,e.jsx)(B.i,{loading:Ye,columns:y,columnsHeight:"h-[3.125rem]",mouseHoverKey:"id",data:(G==null?void 0:G.records)||[],columnsClassName:" cursor-pointer ",headerClassName:{background:"#fff",fontWeight:"700",fontSize:"18px",lineHeight:"27px"}})})})})]}),(0,e.jsx)(k.t,{onChange:function(x){ye(x),(0,z.k3)(),Ve(!0)},className:"my-8",total:(G==null?void 0:G.total)||0,pgSize:10,pgNum:q}),T!==null&&(0,e.jsx)(f.u_,{title:"\u66F4\u6539\u72B6\u6001",onClose:function(){return P(null)},children:(0,e.jsx)("div",{className:"flex",children:s!=null&&s.loading?(0,e.jsx)(ue.g,{}):(0,e.jsxs)("div",{className:"flex flex-1",children:[T.state>-2&&(0,e.jsx)(c.z,{onClick:function(){return _(T.state===1?0:1)},className:"flex-1 w-full text-lg text-white rounded-lg bg-green-2 h-11",children:T.state===1?"\u5F03\u7528":"\u6FC0\u6D3B"}),T.state===-1&&(0,e.jsx)(c.z,{onClick:function(){return _(-2)},className:"flex-1 w-full ml-5 text-lg border-2 rounded-lg border-green-2 bg-green-2/10 text-green-2 hover:bg-green-2/20 h-11",children:"\u5220\u9664"})]})})}),!!j&&(0,e.jsx)(f.u_,{title:j.modelName+"\u6A21\u578B\u4E2D\u7684\u5B9E\u666F\u8F93\u5165\u9879",onClose:function(){return D(null)},children:(0,e.jsxs)("div",{className:"flex w-[60rem] min-h-[16rem] flex-col pb-2",children:[(0,e.jsx)("ul",{className:"flex mb-1",children:V.map(function(r,x){return(0,e.jsx)("li",{className:"px-3 text-lg font-bold",style:{width:r.width},children:r.title},"columns".concat(x))})}),(0,e.jsx)("div",{className:"max-h-[15rem] min-h-[5rem] overflow-y-auto",children:(0,e.jsx)(B.i,{size:"big",hiddenHeader:!0,columns:V,data:j.paramDetail})})]})}),s&&(0,e.jsx)(f.u_,{title:(s==null?void 0:s.title)||"\u64CD\u4F5C",onClose:function(){return H(null)},children:(0,e.jsx)("div",{className:"pb-2 text-center",children:s.loading?(0,e.jsx)(ue.g,{}):(0,e.jsx)("span",{children:s.resultText})})}),ne&&(0,e.jsx)(xt,{onClose:function(){return Se(!1)},onSuccess:function(){return Je()}}),b&&(0,e.jsx)(dt,{psId:b.id,title:b.name,onClose:function(){return C(void 0)},onSuccess:function(){return Je()}}),J>-1&&(0,e.jsx)(f.u_,{title:"\u67E5\u770B\u4EA7\u54C1",onClose:function(){return L(-1)},children:(0,e.jsxs)("ul",{className:"text-lg max-w-[32rem]",children:[(0,e.jsxs)("li",{className:"flex",children:[(0,e.jsx)("label",{className:"inline-block min-w-[5.625rem]",children:"\u4EA7\u54C1\u540D\u79F0 :"}),(0,e.jsx)("span",{className:"break-all text-gray-6",children:(l=se[J])===null||l===void 0?void 0:l.text})]}),(0,e.jsxs)("li",{className:"my-5",children:[(0,e.jsx)("label",{className:"inline-block w-[5.625rem]",children:"\u4EA7\u54C1\u7C7B\u578B :"}),(0,e.jsx)("span",{className:"text-gray-6",children:(o=se[J])===null||o===void 0?void 0:o.type})]}),(0,e.jsxs)("li",{className:"flex",children:[(0,e.jsx)("label",{className:"inline-block min-w-[5.625rem]",children:"\u63CF\u8FF0 :"}),(0,e.jsx)("span",{className:"break-all text-gray-6",children:(i=se[J])!==null&&i!==void 0&&i.desc?(d=se[J])===null||d===void 0?void 0:d.desc:"-"})]})]})})]})}var pt=ht,gt=pt}}]);
