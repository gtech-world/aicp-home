"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7998],{67454:function(le,b,e){e.d(b,{u:function(){return w},z:function(){return V}});var B=e(24047),l=e.n(B),F=e(86378),v=e.n(F),I=e(28488),_=e.n(I),O=e(84875),x=e.n(O),T=e(9751),n=e(11527),p=["children","className"],s=["busy","disabled","className","defStyle","children"];function V(o){var i=o.children,R=o.className,L=_()(o,p);return(0,n.jsx)("button",v()(v()({},L),{},{className:x()(R),children:o.children}))}function w(o){var i,R=o.busy,L=o.disabled,c=o.className,Y=o.defStyle,k=Y===void 0?"btn-primary":Y,z=o.children,a=_()(o,s);return(0,n.jsx)("button",v()(v()({className:x()(c,(i={},l()(i,k,!L),l()(i,"btn-disable",L),i))},a),{},{children:R?(0,n.jsx)(T.fCD,{className:"animate-spin"}):z}))}},53765:function(le,b,e){e.d(b,{DJ:function(){return G},fo:function(){return ae},h4:function(){return se},to:function(){return U}});var B=e(86378),l=e.n(B),F=e(28488),v=e.n(F),I=e(58357),_=e.n(I),O=e(71977),x=e.n(O),T=e(30577),n=e.n(T),p=e(1629),s=e(6429),V=e(84875),w=e.n(V),o=e(50959),i=e(9596),R=e(15732),L=e(33665),c=e(1487),Y=e(49372),k=e(9441),z=e(89850),a=e(35016),A=e(21262),X=e(57681),t=e(11527),ee=["children","className","tits","showQuery","isManager","nopx","menus"],ue=["children","className","tits"];function ae(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],J=(0,L.dD)(),H=(0,L.aF)(),E=H.user,ne=H.setUser,W=(0,a.useLocation)(),g=W.pathname,h=(0,a.useNavigate)(),S=(0,k.N)(),j=S.t,$=S.locale,ie=$;return(0,o.useMemo)(function(){var d=[];return d.push({icon:(0,t.jsx)(A.m6D,{}),text:j("AICP Home"),to:"/"}),E&&!u.find(function(N){return N.to===g})&&d.push({icon:(0,t.jsx)(X.Nhi,{}),text:(0,z.Oc)(j("AICP Digital3 Carbon System")),to:Y.JK[0].to}),J&&E&&u.map(function(N){return{icon:(0,t.jsx)(N.icon,{}),text:j(N.txt),to:N.to,selected:g===N.to}}).forEach(function(N){return d.push(N)}),d.push({icon:(0,t.jsx)(p.BB,{}),text:j("Document"),to:"https://docs.gtech.world/",onClick:function(){h("https://docs.gtech.world/")}}),d.push({icon:E?(0,t.jsx)(A.xqh,{}):(0,t.jsx)(A._fJ,{}),text:j(E?"Log Out":"Log In"),to:E?void 0:"/login",onClick:function(){h("/"),ne(void 0)}}),d},[E,J,g,j,ie])}function U(){var u=(0,o.useState)(0),J=n()(u,2),H=J[0],E=J[1];return(0,o.useEffect)(function(){var ne=function(){var h=x()(_()().mark(function S(){var j,$;return _()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:j=2e3;case 1:return d.next=4,(0,z._v)(100);case 4:if(j-=100,$=document.getElementById("app_header"),!$){d.next=8;break}return d.abrupt("return",$);case 8:if(!(j<=0)){d.next=10;break}return d.abrupt("return",void 0);case 10:d.next=1;break;case 12:case"end":return d.stop()}},S)}));return function(){return h.apply(this,arguments)}}(),W,g;return ne().then(function(h){if(h){var S=function(){h&&E(h.getBoundingClientRect().height)};h&&E(h.clientHeight),h&&(W=new ResizeObserver(S),W.observe(h),S())}}),function(){W&&g&&W.unobserve(g)}},[]),H}function se(u){var J=u.children,H=u.className,E=u.tits,ne=u.showQuery,W=u.isManager,g=u.nopx,h=g===void 0?!1:g,S=u.menus,j=v()(u,ee),$=(0,k.N)(),ie=$.t,d=E||ie("Automotive Industry Carbon Platform")||"",N=(0,o.useMemo)(function(){return(0,z.pT)(d)},[d]),te=(0,a.useNavigate)(),ve=ae(S),he=(0,L.xB)(),je=he.last_input_vin,Z=he.setLastInputVin,Q=(0,o.useState)(je),D=n()(Q,2),P=D[0],C=D[1],re=(0,o.useCallback)(function(M){C(M.target.value||""),Z(M.target.value)},[]),r=(0,L.h3)(),ce=(0,o.useState)(0),y=n()(ce,2),de=y[0],_e=y[1];(0,o.useEffect)(function(){var M=function(){_e(window.innerWidth)};return _e(window.innerWidth),window.addEventListener("resize",M),function(){window.removeEventListener("resize",M)}},[]);var me=function(){if(!P)return r("Please input VIN Code");te("pcf?vin=".concat(P))};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",l()(l()({id:"app_header",className:w()(`w-full relative z-[3] max-w-[90rem] mx-auto  text-white  flex items-center top-0  h-[4.25rem]
          `.concat(!h&&(de>1200&&de<=1280?"px-[3%]":"px-[7.5rem]"),`
          `),H)},j),{},{children:[W?(0,t.jsxs)("div",{className:"flex items-center cursor-pointer ml-[-1rem] mo:ml-0",onClick:function(){return te("/")},children:[(0,t.jsx)(p.yc,{className:"h-[2.275rem] mo:h-[2rem]"}),(0,t.jsx)(p.lF,{className:"h-[1.5rem] mt-2.5 ml-3 mo:h-[1.1rem] mo:mt-3"})]}):(0,t.jsxs)("div",{onClick:function(){return te("/")},className:"flex items-center cursor-pointer",children:[(0,t.jsx)(p.yc,{className:"h-9 mo:h-[1.75rem]"}),(0,t.jsx)("div",{className:w()("flex flex-col ml-4 text-base leading-snug mo:text-[.8rem] mo:ml-[.8rem]",{}),children:N.map(function(M,oe){return(0,t.jsx)("span",{className:"whitespace-nowrap",dangerouslySetInnerHTML:{__html:(0,z.Oc)(M)}},"tit_".concat(oe))})})]}),(0,t.jsx)("div",{className:"flex-1"}),ne&&(0,t.jsxs)("div",{className:"relative mr-4 text-lg text-white mo:hidden",children:[(0,t.jsx)("input",{style:{border:"2px solid #fff"},className:"w-[17.5rem] h-[2.25rem] rounded-sm outline-none bg-transparent pl-10 pr-4",value:P,maxLength:24,onChange:re,onKeyDown:function(oe){return oe.code==="Enter"&&me()}}),(0,t.jsx)(A.jRj,{className:"text-[1.75rem] top-1 left-2 absolute cursor-pointer",onClick:me})]}),(0,t.jsx)(c.R,{menus:ve,children:(0,t.jsx)("button",{className:"text-[2rem] mo:text-2xl",children:(0,t.jsx)(i.otZ,{})})})]}))})}function G(u){var J=u.children,H=u.className,E=u.tits,ne=E===void 0?["Automotive Industry","Carbon Platform"]:E,W=v()(u,ue),g=(0,s.U)(),h=ae();return(0,t.jsxs)("div",l()(l()({id:"app_header",className:w()("sticky top-0 z-[3] w-full text-white flex items-center p-4 bg-green-2",H)},W),{},{children:[(0,t.jsx)("button",{className:"text-[2rem]",onClick:g,children:(0,t.jsx)(R.u1R,{})}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(p.yc,{className:"h-[1.75rem]"}),(0,t.jsx)("div",{className:"flex-1"}),(0,t.jsx)(c.R,{menus:h,children:(0,t.jsx)("button",{className:"text-2xl",children:(0,t.jsx)(i.otZ,{})})})]}))}},9107:function(le,b,e){e.d(b,{I:function(){return p},g:function(){return n}});var B=e(86378),l=e.n(B),F=e(28488),v=e.n(F),I=e(84875),_=e.n(I),O=e(52492),x=e(11527),T=["className","color","size"];function n(s){var V=s.className,w=s.color,o=s.size,i=o===void 0?"":o,R=v()(s,T);return(0,x.jsx)("div",l()(l()({},R),{},{className:_()("text-black w-full h-full flex items-center justify-center",V),children:(0,x.jsx)(O.uur,{color:w,style:i?{fontSize:i}:{},className:"text-[3.125rem] animate-spin"})}))}function p(){return(0,x.jsx)(n,{className:"fixed z-50 left-0 top-0 w-full !h-full bg-black/25"})}},98286:function(le,b,e){e.d(b,{m:function(){return L}});var B=e(28488),l=e.n(B),F=e(86378),v=e.n(F),I=e(53765),_=e(1487),O=e(1629),x=e(35016),T=e(84875),n=e.n(T),p=e(9596),s=e(11527),V=["children","className","tits","showQuery","isManager"];function w(c){var Y=c.children,k=c.className,z=c.tits,a=c.showQuery,A=c.isManager,X=l()(c,V),t=(0,x.useNavigate)(),ee=(0,I.fo)();return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",v()(v()({className:n()("w-full relative z-[3] max-w-[90rem] mx-auto text-white flex items-center top-0  h-[4.25rem] justify-between",k)},X),{},{children:[(0,s.jsxs)("div",{className:"flex items-center cursor-pointer ml-[-1rem] mo:ml-0",onClick:function(){return t("/")},children:[(0,s.jsx)(O.yc,{className:"h-[2.275rem] mo:h-[2rem]"}),(0,s.jsx)(O.lF,{className:"h-[1.5rem] mt-2.5 ml-3 mo:h-[1.1rem] mo:mt-3"})]}),(0,s.jsx)(_.R,{menus:ee,children:(0,s.jsx)("button",{className:"text-[2rem] mo:text-2xl",children:(0,s.jsx)(p.otZ,{})})})]}))})}var o=e(21262),i=e(92463),R=["className","canBack","children","link","isNew","containerClassName"];function L(c){var Y=c.className,k=c.canBack,z=c.children,a=c.link,A=c.isNew,X=c.containerClassName,t=l()(c,R),ee=(0,x.useNavigate)(),ue=(0,i.R)();return(0,s.jsxs)("div",{className:"relative flex flex-col flex-1 w-full h-full min-h-fit bg-gray-16",children:[(0,s.jsx)(w,{showQuery:!0,style:{top:"".concat(ue,"px")},className:"!sticky px-[3.125rem] py-4 !max-w-none bg-green-2 mo:px-4 mo:h-[4.25rem]"}),(0,s.jsxs)("div",{className:n()("w-full h-full mx-auto px-[60px] flex flex-col flex-1",X,{" max-w-[90rem]":!A}),children:[k&&(0,s.jsxs)("div",{className:"flex items-center my-5 text-sm ".concat(a!=null&&a.pathName?"cursor-default":"cursor-pointer"),onClick:function(){return a!=null&&a.pathName?void 0:ee("/carbon/service")},children:[!a&&(0,s.jsx)(o.YFh,{className:"text-lg"}),a&&JSON.stringify(a)!=="{}"?(0,s.jsxs)("div",{className:"flex flex-row",children:[(0,s.jsx)("span",{className:"text-[#000000] cursor-pointer font-bold  text-[14px]",onClick:function(){return ee(a==null?void 0:a.pathName)},children:a.homeTitle}),(0,s.jsx)("div",{className:"mx-1 ",children:" / "}),(0,s.jsxs)("span",{className:"cu text-[#999999] font-normal text-[14px]",children:[" ",a.currentTitle]})]}):"\u8FD4\u56DE"]}),(0,s.jsx)("div",{className:n()("flex flex-col ",Y),children:z})]})]})}},6429:function(le,b,e){e.d(b,{U:function(){return l}});var B=e(35016);function l(){return function(){B.history.back()}}},67275:function(le,b,e){e.d(b,{n:function(){return v},s:function(){return F}});var B=e(32699),l=e.n(B);function F(I){var _=l().groupBy(I,"flowId"),O=function x(T){T.forEach(function(n){if(n._child||(n._child=(n.childFlowIds||[]).map(function(s){return _[s][0]}),x(n._child)),n._child.length===0)n._depth=0;else{var p;n._depth=(((p=l().maxBy(n._child,"_depth"))===null||p===void 0?void 0:p._depth)||0)+1}})};O(I)}var v=function(_,O){var x=typeof _=="string"?[_]:_;return!!l().find(x,function(T){return T.startsWith(O)})}},72522:function(le,b,e){e.r(b),e.d(b,{default:function(){return ae}});var B=e(58357),l=e.n(B),F=e(71977),v=e.n(F),I=e(30577),_=e.n(I),O=e(86378),x=e.n(O),T=e(4349),n=e(11527);function p(U){return(0,n.jsx)(T.Z,x()({opts:{locale:"en"},notMerge:!0,lazyUpdate:!0},U))}var s=e(67454),V=e(9107),w=e(98286),o=e(97707),i=e(67275),R=e(89850),L=e(1629),c=e(35016),Y=e(84875),k=e.n(Y),z=e(32699),a=e.n(z),A=e(50959);function X(U){var se=U.children,G=U.tit,u=U.className;return(0,n.jsxs)("div",{className:k()("flex w-full flex-col bg-white min-h-[6.25rem]",u),style:{boxShadow:"0px 3px 0px 0px #29953A inset, 0px 2px 10px 0px rgba(26, 62, 31, 0.10)"},children:[(0,n.jsx)("div",{className:"w-full h-[4.1875rem] flex justify-center items-center text-xl font-semibold text-black",style:{background:"linear-gradient(180deg, rgba(41, 149, 58, 0.12) 0%, rgba(41, 149, 58, 0) 100%)"},children:G}),se]})}function t(U){var se=U.tit,G=U.value;return(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{className:"flex gap-2.5 items-center text-green-2 text-base",children:[(0,n.jsx)("div",{className:"w-1 h-1 shrink-0 rounded-sm bg-green-2 overflow-hidden"}),(0,n.jsx)("span",{className:"whitespace-nowrap",children:se})]}),(0,n.jsx)("div",{className:"text-base text-gray-6 text-right",children:G})]})}function ee(){var U=(0,c.useSearchParams)(),se=_()(U,1),G=se[0],u=(0,A.useState)(!1),J=_()(u,2),H=J[0],E=J[1],ne=(0,A.useState)(),W=_()(ne,2),g=W[0],h=W[1],S=(0,A.useState)(!0),j=_()(S,2),$=j[0],ie=j[1],d=function(){var Z=v()(l()().mark(function Q(){var D,P,C;return l()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(G.get("id")){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,(0,o.fF)(G.get("id"));case 4:if(D=r.sent,D){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,(0,o.Yp)(D.modelId);case 9:P=r.sent,C=P.modelBomInfo,h({lca:D,bominfo:C}),ie(!1);case 13:case"end":return r.stop()}},Q)}));return function(){return Z.apply(this,arguments)}}();(0,A.useEffect)(function(){d()},[G.get("id")]);var N=(0,A.useMemo)(function(){var Z=[],Q="",D=["",""],P={};if(g){var C=g.lca,re=g.bominfo,r=(0,R.OA)(C.lcaResult);if(r){var ce,y,de,_e,me,M,oe=(((ce=r.extra)===null||ce===void 0?void 0:ce.targetAmount)||"").split("Item(s)");Z={productSystemName:(y=r.extra)===null||y===void 0?void 0:y.productSystemName,methodName:(de=r.extra)===null||de===void 0?void 0:de.methodName,targetName:oe[1]||((_e=r.extra)===null||_e===void 0?void 0:_e.productSystemName),targetAmount:"".concat(Math.round(oe[0]||1)," (\u4EF6)"),calculateSuccessTime:C.calculateSuccessTime,loadNumber:C.loadNumber,loadName:C.loadName},Q=r.totalImpacts&&((me=r.totalImpacts[0])===null||me===void 0?void 0:me.impact.referenceUnit)||"";var Ce=a().round(r.totalResult||((M=r.treeNode)===null||M===void 0?void 0:M.result)||0,2);D=["".concat(Ce||0),Q]}var xe=(0,R.OA)(re),be=(0,R.OA)(C.lcaTagResult);if(xe&&be){var pe=a().groupBy(be,"flowId"),ye=a().groupBy(xe,"flowId");(0,i.s)(xe);var Be=xe;P={padding:20,tooltip:{trigger:"item",formatter:function(f){console.info("item:",f);var K="".concat(f.name," ").concat(f.value,"(").concat(Q,")");return f.marker?"".concat(f.marker," ").concat(K):K}},series:{type:"sankey",data:[],links:[]}};var Ie=function(f){return(0,i.n)(f.tagType,"STAGE01")?"\u4F7F\u7528\u73AF\u8282":(0,i.n)(f.tagType,"STAGE02")?"\u8FD0\u8F93\u9500\u552E\u73AF\u8282":(0,i.n)(f.tagType,"STAGE03")?"\u751F\u4EA7\u5236\u9020\u73AF\u8282":""},Te=function(f){if((0,i.n)(f.tagType,"REFERENCE"))return"\u4F7F\u7528\u73AF\u8282";if((0,i.n)(f.tagType,"STAGE")){if(f._depth===1)return"\u751F\u4EA7\u5236\u9020\u73AF\u8282";if(f._depth===2)return"\u8FD0\u8F93\u9500\u552E\u73AF\u8282"}return""};Be.forEach(function(m){var f;(0,i.n)(m.tagType,"REFERENCE")&&(Z.targetName=m.flowName);var K=P.series.links,q=P.series.data,Oe=((f=a().first(pe[m.flowId]))===null||f===void 0?void 0:f.result)||0;q==null||q.push({name:m.flowName,value:a().round(Oe,2),depth:m._depth}),m.childFlowIds&&m.childFlowIds.length&&m.childFlowIds.forEach(function(Ee){var fe=a().first(pe[Ee]),Pe=a().first(ye[Ee]);if(Pe&&fe){var Me=a().first(pe[Pe.flowId]),Re=a().round((Me==null?void 0:Me.result)||0,2);K==null||K.push({target:m.flowName,source:Pe.flowName,value:Re})}});var ge=a().round(Oe-a().sumBy(m.childFlowIds||[],function(Ee){var fe;return(fe=pe[Ee][0])===null||fe===void 0?void 0:fe.result}),2),Ne=Ie(m);if(Ne)q==null||q.push({name:Ne,depth:m._depth-1}),K==null||K.push({target:m.flowName,source:Ne,value:ge});else if(ge>0){var De=Te(m);De&&(q==null||q.push({name:De,depth:m._depth-1}),K==null||K.push({target:m.flowName,source:De,value:ge}))}})}}return{generalInfo:Z,carbonResult:D,chartData:P}},[g]),te=N.generalInfo,ve=N.carbonResult,he=N.chartData,je=function(){var Z=v()(l()().mark(function Q(){var D,P,C,re,r;return l()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(G.get("id")){y.next=2;break}return y.abrupt("return",!1);case 2:return E(!0),y.next=5,(0,o.LW)(G.get("id"));case 5:D=y.sent,D.headers&&(P=D.headers.get("content-disposition"),P&&(C=P.match(/filename=(.+)/),C&&(E(!1),re=new Blob([D.data]),r=document.createElement("a"),r.download=C[1],r.style.display="none",r.href=URL.createObjectURL(re),document.body.appendChild(r),r.click(),URL.revokeObjectURL(r.href),document.body.removeChild(r))));case 7:case"end":return y.stop()}},Q)}));return function(){return Z.apply(this,arguments)}}();return(0,n.jsx)(w.m,{className:"text-lg text-black",children:$?(0,n.jsx)("div",{className:"h-[100vh] w-full items-center",children:(0,n.jsx)(V.g,{})}):(0,n.jsxs)("div",{className:"pt-8 mo:break-all",children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-5 mo:grid-cols-1",children:[(0,n.jsx)(X,{tit:"\u4EA7\u54C1\u78B3\u8DB3\u8FF9",children:(0,n.jsxs)("div",{className:"flex items-center flex-1 px-9 mb-9",children:[(0,n.jsx)(L.vD,{}),(0,n.jsxs)("div",{className:"flex-1 flex flex-col justify-center items-center whitespace-nowrap",children:[(0,n.jsx)("span",{className:"font-semibold text-green-2 text-4xl",children:ve[0]}),(0,n.jsx)("span",{className:"font-semibold text-black text-base",children:ve[1]})]})]})}),(0,n.jsx)(X,{tit:"\u78B3\u8DB3\u8FF9\u8BC4\u4EF7\u8BE6\u60C5",children:(0,n.jsxs)("div",{className:"flex flex-col gap-3 mx-5 mt-3 mb-9",children:[(0,n.jsx)(t,{tit:"\u76EE\u6807\u4EA7\u54C1",value:te.targetName}),(0,n.jsx)(t,{tit:"\u76EE\u6807\u4EA7\u54C1\u6570\u91CF",value:te.targetAmount}),(0,n.jsx)(t,{tit:"\u78B3\u8DB3\u8FF9\u6279\u6B21",value:te.loadName}),(0,n.jsx)(t,{tit:"\u73AF\u5883\u5F71\u54CD\u8BC4\u4EF7\u65B9\u6CD5",value:"IPCC 2021,GWP 100"}),(0,n.jsx)(t,{tit:"\u8BA1\u7B97\u7ED3\u679C\u751F\u6210\u65F6\u95F4",value:te.calculateSuccessTime})]})}),(0,n.jsx)(X,{tit:"\u751F\u547D\u5468\u671F\u73AF\u8282\u660E\u7EC6\u7ED3\u679C",className:"col-span-2 mo:col-span-1",children:he&&(0,n.jsx)(p,{className:"w-full !h-[360px]",option:he})})]}),(0,n.jsx)("div",{className:"flex justify-center w-full mt-5 mb-10",children:(0,n.jsx)(s.z,{onClick:function(){return!H&&je()},className:"mt-5 text-lg bg-green-2 w-[26.875rem] text-white rounded-lg  h-14 flex items-center justify-center hover:bg-green-28",children:H?(0,n.jsx)("div",{children:(0,n.jsx)(V.g,{size:"2rem",color:"#fff"})}):(0,n.jsx)("span",{children:"\u5BFC\u51FAExcel"})})})]})})}var ue=ee,ae=ue}}]);
