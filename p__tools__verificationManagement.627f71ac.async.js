"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[941],{67454:function(pe,Q,n){n.d(Q,{u:function(){return re},z:function(){return j}});var ee=n(24047),O=n.n(ee),K=n(86378),D=n.n(K),b=n(28488),h=n.n(b),H=n(84875),l=n.n(H),k=n(9751),Z=n(11527),$=["children","className"],u=["busy","disabled","className","defStyle","children"];function j(s){var g=s.children,o=s.className,P=h()(s,$);return(0,Z.jsx)("button",D()(D()({},P),{},{className:l()(o),children:s.children}))}function re(s){var g,o=s.busy,P=s.disabled,z=s.className,v=s.defStyle,m=v===void 0?"btn-primary":v,A=s.children,Y=h()(s,u);return(0,Z.jsx)("button",D()(D()({className:l()(z,(g={},O()(g,m,!P),O()(g,"btn-disable",P),g))},Y),{},{children:o?(0,Z.jsx)(k.fCD,{className:"animate-spin"}):A}))}},67747:function(pe,Q,n){n.d(Q,{t:function(){return H}});var ee=n(50959),O=n(84875),K=n.n(O),D=n(21262),b=n(11527),h="...";function H(l){var k=function(A,Y){var S=[];if(Y){for(var ae=A;ae<Y;ae++)S.push(ae);return S}for(var L=0;L<A;L++)S.push(L);return S},Z=l.total,$=l.pgSize,u=l.pgNum,j=l.onChange,re=l.className,s=Math.ceil(Z/$),g=(0,ee.useMemo)(function(){return s<=1?[]:s<=6?k(s).map(function(m){return{name:"".concat(m+1)}}):u<=3?k(u+1).map(function(m){return{name:"".concat(m+1)}}).concat([{name:h},{name:""+s}]):u>=s-2?[{name:"1"},{name:h}].concat(k(u-2,s).map(function(m){return{name:"".concat(m+1)}})):[{name:"1"},{name:h},{name:u-1+""},{name:u+""},{name:u+1+""},{name:h},{name:s+""}]},[s,u]),o=function(){j&&u<s&&j(u+1,s)},P=function(){u!==1&&j&&j(1,s)},z=function(){j&&u>1&&j(u-1,s)},v=function(){s!==u&&j&&j(s)};return Z<=$?null:(0,b.jsx)("div",{className:K()("flex justify-center text-[0.8125rem] text-center leading-8 font-semibold",re),children:(0,b.jsxs)("div",{className:"flex",children:[s>1&&(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("span",{onClick:P,className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,b.jsx)(D.JHF,{})}),(0,b.jsx)("span",{onClick:z,className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,b.jsx)(D.YFh,{})})]}),g.map(function(m,A){return(0,b.jsx)("div",{className:K()(m.name===""+u?"text-white bg-green-2":"bg-white",{omit:m.name===h},"mx-[0.185rem] flex items-center justify-center min-w-[32px] h-[32px] px-1.5 rounded-lg",m.name!==h&&"border cursor-pointer"),onClick:function(){j&&m.name!==h&&j(+m.name,s)},children:m.name},"key_page_".concat(A))}),s>1&&(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)("span",{onClick:o,className:"mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,b.jsx)(D.Tfp,{})}),(0,b.jsx)("span",{onClick:v,className:" mx-[0.185rem] bg-white flex justify-center items-center cursor-pointer border min-w-[32px] h-[32px] rounded-lg",children:(0,b.jsx)(D.qhs,{})})]})]})})}},62353:function(pe,Q,n){n.d(Q,{dW:function(){return j},ub:function(){return s}});var ee=n(86378),O=n.n(ee),K=n(30577),D=n.n(K),b=n(44946),h=n(84875),H=n.n(h),l=n(50959),k=n(1950),Z=n(99592),$=n(77588),u=n(11527);function j(g){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=(0,l.useState)(o),z=D()(P,2),v=z[0],m=z[1];return(0,l.useEffect)(function(){m(o)},[g,o]),{onChange:m,items:g,current:v}}function re(g){var o=g.items,P=g.current,z=g.onChange,v=g.className,m=v===void 0?"bg-white text-black px-5 py-3 text-lg rounded-lg w-[31.25rem] mo:w-full mo:text-sm":v,A=g.currentClassName,Y=A===void 0?"flex justify-between items-center":A,S=g.openClassName,ae=S===void 0?"max-h-[18rem] bg-white  rounded-lg py-3 ":S,L=o[P]?o[P].text:"",ge=(0,Z.Z)(!1),ue=D()(ge,2),ie=ue[0],e=ue[1],F=(0,l.useCallback)(function(ne){P!==ne&&z(ne)},[P]),U=(0,b.E)("t-side");return(0,$.Z)(U,function(){return ie&&e(!1)}),o.length===0?null:(0,u.jsxs)("div",{ref:U,className:H()("relative cursor-pointer",m),onClick:function(){return e()},children:[(0,u.jsxs)("div",{className:Y,children:[(0,u.jsx)("span",{className:"truncate",children:L}),ie?(0,u.jsx)(k.pzk,{}):(0,u.jsx)(k._i7,{})]}),ie&&(0,u.jsx)("div",{className:H()("absolute z-[100] left-0 w-full overflow-x-hidden overflow-y-auto",ae),style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)",top:"calc(100% + 8px)"},children:(0,u.jsx)("div",{className:"",children:o.map(function(ne,se){return(0,u.jsx)("div",{style:{},className:H()("w-full break-all px-5 py-2 text-sm hover:bg-gray-16",{"text-green-2":se===P}),onClick:function(){return F(se)},children:ne.text},"select_item_".concat(se))})})})]})}var s=function(o){return(0,u.jsx)(re,O()({className:"h-[50px] px-5 items-center bg-stone-50 rounded-lg border border-neutral-200",currentClassName:"h-full flex justify-between items-center"},o))}},51500:function(pe,Q,n){n.d(Q,{i:function(){return P}});var ee=n(24047),O=n.n(ee),K=n(90967),D=n.n(K),b=n(86378),h=n.n(b),H=n(30577),l=n.n(H),k=n(9107),Z=n(49372),$=n(84875),u=n.n($),j=n(50959),re=n(21262),s=n(57681),g=n(77588),o=n(11527),P=function(v){var m=v.columns,A=v.data,Y=v.className,S=v.headerClassName,ae=v.size,L=ae===void 0?"":ae,ge=v.maxHeight,ue=v.loading,ie=ue===void 0?!1:ue,e=v.hiddenHeader,F=e===void 0?!1:e,U=v.mouseHoverKey,ne=U===void 0?"":U,se=v.columnsHeight,be=se===void 0?"":se,ye=v.isSetBorder,de=ye===void 0?!1:ye,Ne=v.tableId,Fe=Ne===void 0?void 0:Ne,Ie=v.columnsClassName,De=v.onChangeColumn,Me=De===void 0?function(r){return r}:De,Be=(0,j.useState)(A||[]),Oe=l()(Be,2),M=Oe[0],je=Oe[1],Se=(0,j.useState)({}),Pe=l()(Se,2),d=Pe[0],_=Pe[1],R=(0,j.useState)({}),V=l()(R,2),y=V[0],T=V[1],X=(0,j.useRef)(null);(0,g.Z)(X,function(){for(var r in d)d[r]&&(d[r].isFilterOpen=!1,_(h()({},d)))}),(0,j.useEffect)(function(){je(A)},[A]),(0,j.useEffect)(function(){m.forEach(function(r){if(r.filterOptions){var a;d[r.dataIndex]={isFilterOpen:!1,filterValueIndex:((a=d[r.dataIndex])===null||a===void 0?void 0:a.filterValueIndex)>-1?d[r.dataIndex].filterValueIndex:-1}}}),_(d)},[m]);var G=function(a){if(M[a].level===void 0&&(M[a].level=0),M[a].children.forEach(function(p){p.level=M[a].level+1}),M[a].open=!M[a].open,M[a].open)je(M.slice(0,a+1).concat(M[a].children).concat(M.slice(a+1)));else{var i=M[a].children.length;M[a].children.forEach(function(p){p.open&&(p.open=!1,i+=p.children.length)}),M.splice(a+1,i),je(D()(M))}},w=function(a,i){Object.assign(d,O()({},a.dataIndex,{filterValueIndex:i,isFilterOpen:!1})),a.onFilterChange&&a.onFilterChange(i>-1?a.filterOptions[i]:null),_(d)},J=function(a){d[a.dataIndex].isFilterOpen=!d[a.dataIndex].isFilterOpen,_(h()({},d))};return(0,o.jsxs)("div",{className:u()("w-full",Y,L==="small"&&"text-xs",L==="big"&&"text-lg mo:text-[.9375rem] "),children:[(0,o.jsxs)("table",{border:1,cellSpacing:0,className:"w-full text-left ",id:Fe,children:[!F&&(0,o.jsx)("thead",{className:u()("bg-gray-14 ",{"border bg-[#E5E5E5]":de},Y,L==="small"&&"text-sm"),style:S,children:(0,o.jsx)("tr",{className:"px-3",children:m&&m.map(function(r,a){var i;return(0,o.jsxs)("th",{style:{width:r.width?r.width:"auto"},className:u()("px-3 relative break-keep",a===0&&" ".concat(!de&&"rounded-l"||""," overflow-hidden"),a===m.length-1&&"".concat(!de&&"rounded-r"||""," overflow-hidden"),Z.NO[L]||"py-2"),children:[!!r.tip&&(0,o.jsx)(s.gL9,{"data-tooltip-id":"tooltip","data-tooltip-content":r.tip,className:"inline-block text-xl mt-[-0.15rem] mr-1"}),(0,o.jsx)("span",{children:r.title}),!!d[r.dataIndex]&&(0,o.jsxs)("div",{className:"inline-block",ref:X,children:[(0,o.jsx)(re.Ihx,{color:((i=d[r.dataIndex])===null||i===void 0?void 0:i.filterValueIndex)>-1?"#29953A":"",onClick:function(){J(r)},className:"inline-block text-xl mt-[-0.15rem] ml-1 cursor-pointer"}),d[r.dataIndex].isFilterOpen&&(0,o.jsx)("div",{className:"absolute left-0 font-normal top-10",children:(0,o.jsxs)("ul",{className:"bg-white w-[12.375rem] max-h-[14.875rem] overflow-auto text-sm rounded-lg py-3",style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)"},children:[(0,o.jsx)("li",{className:u()("py-2.5 px-5 hover:bg-[#F3F3F3] cursor-pointer",d[r.dataIndex].filterValueIndex===-1&&"text-green-2"),onClick:function(){w(r,-1)},children:"All"}),r.filterOptions.map(function(p,W){return(0,o.jsx)("li",{onClick:function(){w(r,W)},className:u()("py-1.5 hover:bg-[#F3F3F3] px-5 break-all cursor-pointer",d[r.dataIndex].filterValueIndex===W?"text-green-2":""),children:p.text},"productList".concat(W))})]})})]})]},"columns".concat(a))})})}),!ie&&(0,o.jsx)("tbody",{style:{maxHeight:ge},className:"w-full overflow-y-auto ",children:M.map(function(r,a){return(0,o.jsx)("tr",{className:" column-level-".concat(r.level?r.level:0," ").concat(be," "),children:m.map(function(i,p){return(0,o.jsx)("td",{className:u()(Ie,"px-3  ",{"bg-[#F3F3F3]":y[ne]===r[ne]&&ne,border:de},Z.NO[L]||"py-2",!!i.tip&&"pl-9"),style:{width:i.width?i.width:"auto"},children:(0,o.jsxs)("div",{onMouseOver:function(){return T(r)},onClick:function(){return typeof Me=="function"?Me(r):void 0},className:"flex items-center ",style:{marginLeft:(r.level&&p===0?r.level:0)*1.25+"rem"},children:[!!(r!=null&&r.children)&&(r==null?void 0:r.children.length)>0&&p===0&&(0,o.jsx)(re.Tfp,{onClick:function(){return G(a)},className:u()("mr-2 cursor-pointer text-gray-9",r.open&&"rotate-[90deg]")}),i.render?i.render(r[i.dataIndex],r):i.emptyText&&!r[i.dataIndex]?"-":r[i.dataIndex]]})},"data_column_".concat(p))})},"table_data_".concat(a))})})]}),ie?(0,o.jsx)(k.g,{className:"pt-8"}):!(M&&M.length>0)&&(0,o.jsx)("div",{className:"flex justify-center w-full py-20",children:"\u65E0\u6570\u636E"})]})}},60084:function(pe,Q,n){n.d(Q,{H4:function(){return b},Kv:function(){return D},Tz:function(){return H},We:function(){return h}});var ee=n(32699),O=n.n(ee),K=n(88297);function D(l){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(0,K.ZP)("/api/product-system/".concat(l,"/detail"),{refreshInterval:k})}function b(l){return(0,K.ZP)(O().isNil(l)?null:"/api/verifyRecord/".concat(l,"/detail"))}function h(l){return(0,K.ZP)(l?"/api/inventory/all":null)}function H(l){return(0,K.ZP)(l?"/api/verifyRecord/verifiers":null)}},94336:function(pe,Q,n){n.r(Q),n.d(Q,{default:function(){return Pe}});var ee=n(58357),O=n.n(ee),K=n(71977),D=n.n(K),b=n(30577),h=n.n(b),H=n(76141),l=n(50959),k=n(51500),Z=n(67747),$=n(67454),u=n(90967),j=n.n(u),re=n(86378),s=n.n(re),g=n(35888),o=n(9107),P=n(72121),z=n(62353),v=n(1629),m=n(60084),A=n(97707),Y=n(32699),S=n.n(Y);function ae(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:5,_=(0,l.useRef)(new AbortController),R=function(y){var T=y,X=function(){if(T.length!==0){var a=T[0];return T=S().drop(T),{file:a,index:y.length-T.length-1}}},G=S().min([d,T.length]),w=S().range(y.length),J=function(){var r=D()(O()().mark(function a(){var i,p,W,I;return O()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(i=X(),!i){x.next=10;break}return p=i.file,W=i.index,x.next=6,(0,A.qM)(p,{signal:_.current.signal});case 6:I=x.sent,w[W]=I,x.next=11;break;case 10:return x.abrupt("return");case 11:x.next=0;break;case 13:case"end":return x.stop()}},a)}));return function(){return r.apply(this,arguments)}}();return Promise.all(S().range(G).map(function(){return J()})).then(function(){return w})};return[R,function(){try{_.current.abort()}catch(V){console.info("abort upfiles")}}]}var L=n(14803),ge=n(84875),ue=n.n(ge),ie=n(48947),e=n(11527),F=function(_){return(0,e.jsxs)("div",{className:"w-full flex flex-col gap-2.5",children:[(0,e.jsxs)("span",{className:"font-normal leading-6 text-[16px]",children:[_.title,"\uFF1A"]}),_.children]})},U=function(_){return(0,e.jsx)("div",{className:"font-normal leading-[21.79px] text-[16px] text-gray-9",children:_.value})},ne=function(_){var R,V,y,T,X,G,w,J=_.closeModal,r=_.recordId,a=_.type,i=a===void 0?"new":a,p=(0,l.useRef)(null),W=(0,g.oR)(),I=W.userData,fe=(0,m.H4)(r),x=fe.isLoading,t=fe.data,_e=(0,m.We)(i==="new"||i==="editor"),ve=_e.isLoading,te=_e.data,Ee=(0,m.Tz)(i==="new"||i==="editor"),ce=Ee.isLoading,q=Ee.data,me=x||ve||ce,Le=(0,l.useMemo)(function(){return[(te||[]).map(function(C){return s()(s()({},C),{},{text:C.loadName})}),S().findIndex(te,function(C){return C.loadNumber===(t==null?void 0:t.loadNumber)})]},[te,t]),le=z.dW.apply(void 0,j()(Le)),E=(0,l.useMemo)(function(){return[(q||[]).map(function(C){return s()(s()({},C),{},{text:C.name})}),S().findIndex(q,function(C){var B;return C.id===(t==null||(B=t.verifyUser)===null||B===void 0?void 0:B.id)})]},[q,t]),f=z.dW.apply(void 0,j()(E)),N=(0,ie.Z)({verifyState:!0}),he=h()(N,2),c=he[0],Re=he[1],Ze=ae(),we=h()(Ze,2),Te=we[0],Ge=we[1];(0,l.useEffect)(function(){return Ge},[]);var Ce=!c.files||c.files.length===0||c.files.length>20||S().findIndex(c.files,function(C){return C.size>=1024*1024*1024*2||C.name.length>=128})>=0,We=!te||!q||!c.name||le.current<0||f.current<0||Ce,Je=(0,l.useState)(!1),Ke=h()(Je,2),oe=Ke[0],xe=Ke[1],Qe=function(){We||oe||(xe(!0),Te(c.files).then(function(B){return(0,A._Q)({name:c.name,loadNumber:te[le.current].loadNumber,description:c.desc||"",fileList:B,verifyUserId:q[f.current].id}).then(function(){return J(!0)}).catch(console.error).finally(function(){xe(!1)})}))},Ve=!t||!te||!q||(c.name||t.name)===t.name&&(c.desc||t.description)===t.description&&((R=te[le.current])===null||R===void 0?void 0:R.loadNumber)===t.loadNumber&&((V=q[f.current])===null||V===void 0?void 0:V.id)===t.verifyUserId&&Ce,Ye=function(){if(!(Ve||oe)){var B;xe(!0),c.files?B=Te(c.files).then(function(Ae){return(0,A.u_)(t.id,{name:c.name||t.name,loadNumber:te[le.current].loadNumber,description:c.desc||t.description,fileList:Ae,verifyUserId:q[f.current].id})}):B=(0,A.u_)(t.id,{name:c.name,loadNumber:te[le.current].loadNumber,description:c.desc,verifyUserId:q[f.current].id}),B.then(function(){return J(!0)}).catch(console.error).finally(function(){xe(!1)})}},ke=!t||Ce,Xe=function(){ke||!c.files||oe||(xe(!0),Te(c.files).then(function(B){return(0,A.A6)(t.id,B,!0)}).then(function(){return J(!0)}).catch(console.error).finally(function(){xe(!1)}))},qe={directory:"",webkitdirectory:""},$e="w-full shrink-0 px-5 border border-[#DDDDDD]  h-[50px]  bg-[#F8F8F8] rounded-lg",ze=i==="verify",en=(0,l.useMemo)(function(){var C;if(Ce||!c.files)return"\u9A8C\u8BC1\u6587\u4EF6";var B=((C=c.files.item(0))===null||C===void 0?void 0:C.webkitRelativePath.split("/")[0])||"\u9A8C\u8BC1\u6587\u4EF6";return(0,L.lS)(B,10,10)},[c.files,Ce]),He=function(){return(0,e.jsx)(F,{title:ze?"\u9A8C\u8BC1\u6587\u6863":"\u9644\u4EF6",children:(0,e.jsxs)("div",{className:"flex flex-row items-center gap-2",children:[(0,e.jsx)("input",s()(s()({},qe),{},{ref:p,type:"file",hidden:!0,onChange:function(Ae){return Re({files:Ae.target.files})}})),(0,e.jsx)(v.SW,{}),(0,e.jsx)(U,{value:en}),(0,e.jsx)("div",{onClick:function(Ae){var Ue;return!oe&&((Ue=p.current)===null||Ue===void 0?void 0:Ue.click())},className:ue()("flex  rounded-[4px] leading-4 text-[16px] bg-[#F1F1F1] w-[100px] h-[24px]  text-center items-center justify-center ",oe?"cursor-not-allowed":"cursor-pointer"),children:"\u9009\u62E9\u6587\u4EF6\u5939"})]})})};return(0,e.jsx)(l.Fragment,{children:(0,e.jsxs)(P.u_,{className:"rounded-lg",containerClassName:"mx-5 max-w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",title:i==="new"?"\u65B0\u5EFA\u9A8C\u8BC1\u8BB0\u5F55":"\u7F16\u8F91\u9A8C\u8BC1\u8BB0\u5F55",onClose:function(){return J(!1)},children:[(0,e.jsxs)("div",{className:"flex flex-col py-[1px] gap-5 px-5 w-[640px] min-h-[6.25rem] max-h-mc overflow-y-auto",children:[me&&(0,e.jsx)(o.g,{}),!me&&(0,e.jsx)(e.Fragment,{children:ze?(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F,{title:"\u9A8C\u8BC1\u8BB0\u5F55",children:(0,e.jsx)(U,{value:t==null?void 0:t.name})}),(0,e.jsx)(F,{title:"\u9A8C\u8BC1\u8BB0\u5F55ID",children:(0,e.jsx)(U,{value:t==null?void 0:t.id})}),(0,e.jsx)(F,{title:"\u53D1\u8D77\u4EBA",children:(0,e.jsx)(U,{value:t==null||(y=t.createUser)===null||y===void 0?void 0:y.name})}),(0,e.jsx)(F,{title:"\u7EC4\u7EC7\u673A\u6784",children:(0,e.jsx)(U,{value:t==null||(T=t.organization)===null||T===void 0?void 0:T.name})}),(0,e.jsx)(F,{title:"\u63CF\u8FF0",children:(0,e.jsx)(U,{value:t==null?void 0:t.description})}),(0,e.jsx)(F,{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",children:(0,e.jsx)(U,{value:t==null||(X=t.inventory)===null||X===void 0?void 0:X.loadName})}),(0,e.jsx)(F,{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21ID",children:(0,e.jsx)(U,{value:t==null?void 0:t.loadNumber})}),(0,e.jsx)(F,{title:"\u9A8C\u8BC1\u4EBA",children:(0,e.jsx)(U,{value:t==null||(G=t.verifyUser)===null||G===void 0?void 0:G.name})}),He()]}):(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(F,{title:"\u9A8C\u8BC1\u8BB0\u5F55",children:(0,e.jsx)("input",{value:c.name||(t==null?void 0:t.name),onChange:function(B){return Re({name:B.target.value})},maxLength:30,className:$e})}),(0,e.jsx)(F,{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",children:(0,e.jsx)(z.ub,s()({},le))}),(0,e.jsx)(F,{title:"\u63CF\u8FF0",children:(0,e.jsx)("input",{value:c.desc||(t==null?void 0:t.description),onChange:function(B){return Re({desc:B.target.value})},maxLength:100,className:$e})}),(0,e.jsx)(F,{title:"\u9009\u62E9\u9A8C\u8BC1\u4EBA",children:(0,e.jsx)(z.ub,s()({},f))}),(0,e.jsx)(F,{title:"\u53D1\u8D77\u4EBA",children:(0,e.jsx)(U,{value:I==null?void 0:I.name})}),(0,e.jsx)(F,{title:"\u7EC4\u7EC7\u673A\u6784",children:(0,e.jsx)(U,{value:I==null||(w=I.organization)===null||w===void 0?void 0:w.name})}),He()]})})]}),!me&&(0,e.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5 w-full px-5",children:[i==="new"&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)($.u,{defStyle:"btn-primary-1",className:"flex-1",onClick:function(){return J(!1)},children:"\u53D6\u6D88"}),(0,e.jsx)($.u,{busy:oe,disabled:We,defStyle:"btn-primary",className:"flex-1",onClick:Qe,children:"\u786E\u5B9A"})]}),i==="editor"&&(0,e.jsx)($.u,{busy:oe,disabled:Ve,className:"flex-1",onClick:Ye,children:"\u63D0\u4EA4\u66F4\u65B0"}),i==="verify"&&(0,e.jsx)($.u,{busy:oe,disabled:ke,className:"flex-1",onClick:Xe,children:"\u63D0\u4EA4\u9A8C\u8BC1"})]})]})})},se=ne,be=n(34210),ye=n.n(be),de=n(24933),Ne=function(_){var R=_.closeModal,V=_.fileList,y=(0,l.useState)(!1),T=h()(y,2),X=T[0],G=T[1],w=(0,g.h3)(),J=function(){var r=D()(O()().mark(function a(){var i,p,W,I;return O()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return G(!0),x.prev=1,i=new(ye()),p="",V.forEach(function(t){p=t.fileName.split("/")[0];var _e=de.Z.get(t.downloadUrl,{responseType:"arraybuffer"}).then(function(ve){return ve.data});i.file(t.fileName,_e)}),x.next=7,i.generateAsync({type:"blob"});case 7:W=x.sent,I=document.createElement("a"),I.href=URL.createObjectURL(W),I.download="".concat(p,".zip"),I.click(),URL.revokeObjectURL(I.href),x.next=18;break;case 15:x.prev=15,x.t0=x.catch(1),w("\u6587\u4EF6\u4E0B\u8F7D\u51FA\u9519\uFF01");case 18:return x.prev=18,G(!1),x.finish(18);case 21:case"end":return x.stop()}},a,null,[[1,15,18,21]])}));return function(){return r.apply(this,arguments)}}();return(0,e.jsx)(l.Fragment,{children:(0,e.jsxs)(P.u_,{onClose:R,title:"\u67E5\u770B\u6587\u4EF6\u5939",children:[(0,e.jsx)("div",{className:"px-5 overflow-y-auto  max-h-[260px]",children:V.map(function(r,a){var i=r.fileName.split("/");return(0,e.jsx)("div",{id:"view",className:"w-[640px] h-[34px] flex items-center ",children:(0,e.jsx)("span",{className:"ml-[10px] leading-5 text-[16px] font-normal",children:i[i.length-1]})},"file_".concat(a))})}),(0,e.jsx)("button",{disabled:X,className:"bg-[#29953A] w-full h-[50px] rounded-lg text-[#FFFFFF] mt-5",onClick:J,children:"\u4E0B\u8F7D"})]})})},Fe=Ne,Ie=n(75632);function De(d){return"".concat(Ie.Sg).concat(d)}function Me(){var d=(0,g.is)();return d?{headers:{Authorization:"Bearer ".concat(d.loginToken)}}:{}}function Be(d){var _,R=d.data;if(!R||R.code!==1e5)throw R.message;return(_=d.data)===null||_===void 0?void 0:_.data}function Oe(d){return M.apply(this,arguments)}function M(){return M=D()(O()().mark(function d(_){var R;return O()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,de.Z.get(De("/api/verifyRecord/list/?pageNum=".concat(_,"&pageSize=10")),Me());case 2:return R=y.sent,y.abrupt("return",Be(R));case 4:case"end":return y.stop()}},d)})),M.apply(this,arguments)}function je(){var d=(0,g.oR)(),_=d.userData,R=(0,l.useState)(1),V=h()(R,2),y=V[0],T=V[1],X=(0,l.useState)({}),G=h()(X,2),w=G[0],J=G[1],r=(0,l.useState)(!1),a=h()(r,2),i=a[0],p=a[1],W=(0,l.useState)(!1),I=h()(W,2),fe=I[0],x=I[1],t=(0,l.useRef)([]),_e=(0,l.useState)(!1),ve=h()(_e,2),te=ve[0],Ee=ve[1],ce=(0,l.useRef)(),q=function(f){t.current=f,x(!0)},me=(0,l.useCallback)(function(E){p(!0),ce.current={type:S().isEmpty(E)?"new":(_==null?void 0:_.role)==="verify"?"verify":"editor",recordId:E.id}},[_]),Le=(0,l.useMemo)(function(){return[{title:"\u9A8C\u8BC1\u8BB0\u5F55",dataIndex:"name",width:"10rem",render:function(f){return(0,e.jsx)("span",{"data-tooltip-content":(0,L.iT)(f,20),"data-tooltip-id":"tooltip",className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:f})}},{title:"\u9A8C\u8BC1\u8BB0\u5F55ID",dataIndex:"id",width:"6rem",render:function(f){return(0,e.jsx)("div",{className:"flex  text-lg leading-[27px]  w-[6rem]",children:(0,e.jsx)("span",{className:"",children:f})})}},{title:"\u53D1\u8D77\u4EBA",dataIndex:"loadNumber",width:"8rem",render:function(f,N){return(0,e.jsx)("span",{"data-tooltip-content":(0,L.iT)(N.createUser.name,20),"data-tooltip-id":"tooltip",className:"text-lg leading-[27px] max-w-[13rem]  truncate inline-block",children:N.createUser.name})}},{title:"\u7EC4\u7EC7\u673A\u6784",width:"2rem",dataIndex:"productName",render:function(f,N){return(0,e.jsx)("span",{className:" text-lg leading-[27px] max-w-[14rem] truncate inline-block ",children:N.organization.name})}},{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",dataIndex:"loadName",width:"10rem",render:function(f,N){return(0,e.jsx)("span",{"data-tooltip-content":(0,L.iT)(N.inventory.loadName,11),"data-tooltip-id":"tooltip",className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:N.inventory.loadName})}},{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21ID",dataIndex:"loadNumber",width:"10rem",render:function(f){return(0,e.jsx)("span",{"data-tooltip-content":f,"data-tooltip-id":"tooltip",className:"w-[13rem] text-lg leading-[27px] truncate inline-block",children:(0,L.lS)(f,8,8)})}},{title:"\u9644\u4EF6",dataIndex:"productDescription",width:"18.75rem",render:function(f,N){return(0,e.jsxs)("div",{onClick:function(){return q(N.attachmentFileList)},className:"w-[112px] flex flex-row items-center bg-[#F1F1F1] justify-center rounded cursor-pointer",children:[(0,e.jsx)(v.SW,{}),(0,e.jsx)("div",{className:"ml-2 ",children:"\u6587\u4EF6\u5939V"})]})}},{title:"\u6700\u540E\u7F16\u8F91",dataIndex:"updateTime",width:"14rem",render:function(f){return(0,e.jsx)("span",{className:" text-lg leading-[27px] w-[12rem] ",children:f})}},{title:"\u9A8C\u8BC1\u4EBA",dataIndex:"name",width:"18.625rem",render:function(f,N){return(0,e.jsx)("span",{"data-tooltip-content":(0,L.iT)(N.verifyUser.name,11),"data-tooltip-id":"tooltip",className:"max-w-[11rem] text-lg leading-[27px]  truncate inline-block",children:N.verifyUser.name})}},{title:"\u9A8C\u8BC1\u6587\u6863",dataIndex:"verifyFileList",width:"8.125rem",render:function(f,N){return N.verifyFileList.length?(0,e.jsxs)("div",{onClick:function(){return q(N.verifyFileList)},className:"w-[112px] flex flex-row items-center bg-[#F1F1F1] justify-center rounded cursor-pointer",children:[(0,e.jsx)(v.SW,{}),(0,e.jsx)("div",{className:"ml-2 ",children:"\u6587\u4EF6\u5939"})]}):null}},{title:"\u9A8C\u8BC1\u72B6\u6001",dataIndex:"state",width:"8.125rem",render:function(f){return(0,e.jsx)("span",{className:" text-lg leading-[27px] max-w-[14rem] ",children:f?"\u5DF2\u9A8C\u8BC1":""})}},{title:"\u9A8C\u8BC1\u65F6\u95F4",dataIndex:"proofTime",width:"8.125rem",render:function(f){return(0,e.jsx)("span",{className:"text-lg leading-[27px] w-[13rem] ",children:f})}},{title:"",width:"20rem",render:function(f,N){return!N.state&&(0,e.jsx)("div",{className:"flex justify-between flex-1 text-green-2 break-keep",children:(0,e.jsx)("div",{className:"flex items-center font-normal justify-center cursor-pointer text-lg leading-[27px]",onClick:function(){return me(N)},children:"\u7F16\u8F91"})})}}]},[me]),le=function(){var E=D()(O()().mark(function f(){var N;return O()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,Ee(!0),c.next=4,Oe(y);case 4:N=c.sent,J(N),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log("eeee",c.t0);case 11:return c.prev=11,Ee(!1),c.finish(11);case 14:case"end":return c.stop()}},f,null,[[0,8,11,14]])}));return function(){return E.apply(this,arguments)}}();return(0,l.useEffect)(function(){le()},[y]),(0,e.jsxs)(H._z,{children:[(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("h3",{className:"flex items-center justify-between text-2xl font-semibold",children:[(0,e.jsx)("span",{children:"\u9A8C\u8BC1\u7BA1\u7406\u5217\u8868"}),(_==null?void 0:_.role)==="admin"&&(0,e.jsx)($.z,{onClick:function(){return me({})},className:"w-40 text-lg font-normal text-white rounded-lg bg-green-2 h-11 hover:bg-green-28",children:"\u65B0\u5EFA\u9A8C\u8BC1\u8BB0\u5F55"})]}),(0,e.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,e.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,e.jsx)("div",{className:"text-base leading-[1.625rem] min-w-[62.25rem]",children:(0,e.jsx)(k.i,{columns:Le,loading:te,columnsHeight:"h-[3.125rem] ",mouseHoverKey:"id",data:(w==null?void 0:w.records)||[],className:"",columnsClassName:" cursor-default ",headerClassName:{background:"#fff",fontWeight:"700",fontSize:"18px",lineHeight:"27px"}})})})})]}),(0,e.jsx)(Z.t,{className:"my-8",onChange:function(f){T(f)},total:w.total||0,pgSize:10,pgNum:y}),i&&ce.current&&(0,e.jsx)(se,{type:ce.current.type,recordId:ce.current.recordId,closeModal:function(){T(1),y===1&&le(),p(!1),ce.current=void 0}}),fe&&(0,e.jsx)(Fe,{fileList:t.current,closeModal:function(){x(!1)}})]})}var Se=je,Pe=Se}}]);
