!(function(){"use strict";var Fe=Object.defineProperty;var Se=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var be=(O,y,a)=>y in O?Fe(O,y,{enumerable:!0,configurable:!0,writable:!0,value:a}):O[y]=a,Ce=(O,y)=>{for(var a in y||(y={}))Oe.call(y,a)&&be(O,a,y[a]);if(Se)for(var a of Se(y))Pe.call(y,a)&&be(O,a,y[a]);return O};var De=(O,y,a)=>new Promise((G,s)=>{var P=g=>{try{W(a.next(g))}catch(D){s(D)}},v=g=>{try{W(a.throw(g))}catch(D){s(D)}},W=g=>g.done?G(g.value):Promise.resolve(g.value).then(P,v);W((a=a.apply(O,y)).next())});(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9725],{6528:function(O,y,a){a.d(y,{ub:function(){return xe},dW:function(){return ge}});var G=a(48651),s=a.n(G),P=a(86516),v=a.n(P),W=a(38143),g=a(79685),D={"t-side":function(u,f){return new KeyframeEffect(u,f==="add"?[{transform:"scaleY(0)",transformOrigin:"0 0",opacity:0},{transform:"scaleY(1)",transformOrigin:"0 0",opacity:1}]:f==="remove"?[{transform:"scaleY(1)",transformOrigin:"0 0",opacity:1},{transform:"scaleY(0)",transformOrigin:"0 0",opacity:0}]:[],{duration:300,easing:"ease-in-out"})},"r-side":function(u,f){return new KeyframeEffect(u,f==="add"?[{transform:"scaleX(0)",transformOrigin:"100% 0",opacity:0},{transform:"scaleX(1)",transformOrigin:"100% 0",opacity:1}]:f==="remove"?[{transform:"scaleX(1)",transformOrigin:"100% 0",opacity:1},{transform:"scaleX(0)",transformOrigin:"100% 0",opacity:0}]:[],{duration:300,easing:"ease-in-out"})},scale:function(u,f){return new KeyframeEffect(u,f==="add"?[{transform:"scale(0.8)",opacity:0},{transform:"scale(1)",opacity:1}]:f==="remove"?[{transform:"scale(1)",opacity:1},{transform:"scale(0.8)",opacity:0}]:[],{duration:300,easing:"ease-in-out"})},opacity:function(u,f){return new KeyframeEffect(u,f==="add"?[{opacity:0},{opacity:1}]:f==="remove"?[{opacity:1},{opacity:0}]:[],{duration:200,easing:"ease-in-out"})}};function Y(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"scale",u=(0,g.useRef)(null);return(0,g.useEffect)(function(){u.current&&(0,W.ZP)(u.current,typeof h=="string"?D[h]:h)},[u.current]),u}var M=a(68591),A=a.n(M),w=a(30681),te=a(12239),ne=a(76852),I=a(63342);function ge(h){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,f=(0,g.useState)(u),j=v()(f,2),H=j[0],R=j[1];return(0,g.useEffect)(function(){R(u)},[h,u]),{onChange:R,items:h,current:H}}function d(h){var u=h.items,f=h.current,j=h.onChange,H=h.className,R=H===void 0?"bg-white text-black px-5 py-3 text-lg rounded-lg w-[31.25rem] mo:w-full mo:text-sm":H,ae=h.currentClassName,T=ae===void 0?"flex justify-between items-center":ae,i=h.openClassName,ue=i===void 0?"max-h-[18rem] bg-white  rounded-lg py-3 ":i,J=u[f]?u[f].text:"",ce=(0,te.Z)(!1),Q=v()(ce,2),q=Q[0],z=Q[1],fe=(0,g.useCallback)(function(K){f!==K&&j(K)},[f]),me=Y("t-side");return(0,ne.Z)(me,function(){return q&&z(!1)}),u.length===0?null:(0,I.jsxs)("div",{ref:me,className:A()("relative cursor-pointer",R),onClick:function(){return z()},children:[(0,I.jsxs)("div",{className:T,children:[(0,I.jsx)("span",{className:"truncate",children:J}),q?(0,I.jsx)(w.pzk,{}):(0,I.jsx)(w._i7,{})]}),q&&(0,I.jsx)("div",{className:A()("absolute z-[100] left-0 w-full overflow-x-hidden overflow-y-auto",ue),style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)",top:"calc(100% + 8px)"},children:(0,I.jsx)("div",{className:"",children:u.map(function(K,_){return(0,I.jsx)("div",{style:{},className:A()("w-full break-all px-5 py-2 text-sm hover:bg-gray-16",{"text-green-2":_===f}),onClick:function(){return fe(_)},children:K.text},"select_item_".concat(_))})})})]})}var xe=function(u){return(0,I.jsx)(d,s()({className:"h-[50px] px-5 items-center bg-stone-50 rounded-lg border border-neutral-200",currentClassName:"h-full flex justify-between items-center"},u))}},75631:function(O,y,a){a.r(y),a.d(y,{default:function(){return _}});var G=a(48651),s=a.n(G),P=a(86516),v=a.n(P),W=a(5677),g=a.n(W),D=a(64082),Y=a(18842),M=a(9991),A=a(59864),w=a(8965),te=a(76222),ne=a(12564),I=a(68591),ge=a.n(I),d=a(79685),xe=a(22786),h=a.n(xe),u=a(46299),f=a.n(u),j=a(95968),H=a(6528),R=a(54916),ae=a(81123),T=a(48294),i=a(63342),ue=function(e){var t=e.onOpenModal,r=e.realData,n=e.tableData,o=e.realArr,c=(0,d.useState)(n),l=v()(c,2),p=l[0],b=l[1],N=function(){for(var m,L=(m=document)===null||m===void 0?void 0:m.getElementById("realDataTable"),Z=L.getElementsByTagName("tr"),B=[],re=0;re<Z.length;re++){for(var ie=[],U=Z[re].getElementsByTagName("input"),se=0;se<U.length;se++){var F=U[se].value;ie.push(F)}B.push(ie)}var E=[];E=n==null?void 0:n.map(function($,le){var pe={processId:$.context["@id"],paramValue:B.slice(1)[le][0]||$.value.toString(),paramName:$.name,dateTime:(0,ae.p6)()};return pe});var C={lcaParamList:E};typeof t=="function"&&t(),typeof r=="function"&&r(C)};(0,d.useEffect)(function(){var x=n==null?void 0:n.map(function(m,L){return o!=null&&o.length&&o[L].paramName===m.name?s()(s()({},m),{},{inputValue:o[L].paramValue}):s()({},m)});b(x)},[o,n]);var S=[{title:"\u53C2\u6570\u540D",dataIndex:"name",width:"9rem",render:function(m){return(0,i.jsx)("div",{className:" flex items-center h-[33px] font-normal leading-[21px] text-[14px] ",children:m})}},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"name",width:"7rem",render:function(m,L){return(0,i.jsx)("div",{className:"flex items-center  h-[33px] font-normal leading-[21px] text-[14px] ",children:L.context.name})}},{title:"\u53C2\u8003\u503C",width:"10rem",dataIndex:"value",render:function(m){return(0,i.jsx)("div",{className:"flex items-center h-[33px] font-normal leading-[21px] text-[14px] ",children:m})}},{title:"\u586B\u5165\u503C",width:"10rem",dataIndex:"createTime",render:function(m,L){return(0,i.jsx)("input",{defaultValue:L.inputValue,type:"number",className:"font-normal  leading-[21px] text-[14px] w-[10rem] h-[33px] "})}}];return(0,i.jsxs)(j.u_,{title:"\u5B9E\u666F\u6570\u636E\u586B\u62A5",containerClassName:"mx-5 max-w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",onClose:typeof t=="function"&&t||void 0,children:[(0,i.jsx)("div",{className:" mx-5 w-[640px] max-h-[400px] overflow-y-auto ",children:(0,i.jsx)(T.i,{columns:S,tableId:"realDataTable",data:p||[],isSetBorder:!0,maxHeight:"calc(100vh - 260px)",headerClassName:{background:"#DDDDDD",position:"sticky",top:"-1px",fontWeight:"700",fontSize:"18px",lineHeight:"30px",height:"50px"}})}),(0,i.jsx)("div",{className:"mx-5 ",children:(0,i.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5",children:[(0,i.jsx)(M.u,{onClick:typeof t=="function"&&t||void 0,defStyle:"btn-primary-1",className:"flex-1  font-normal  h-[50px] border-2 text-[18px]",children:"\u53D6\u6D88"}),(0,i.jsx)(M.u,{className:"flex-1 h-[50px]  font-normal  text-[18px]",onClick:N,children:"\u786E\u5B9A"})]})})]})},J=ue,ce={loadName:"",productId:""},Q=function(e){var t,r=e.openResultModal,n=e.getList,o=(0,d.useState)(!1),c=v()(o,2),l=c[0],p=c[1],b=(0,d.useState)([{name:"",id:""}]),N=v()(b,2),S=N[0],x=N[1],m=(0,d.useState)({lcaParamList:[]}),L=v()(m,2),Z=L[0],B=L[1],re=(0,d.useState)([]),ie=v()(re,2),U=ie[0],se=ie[1],F=(0,d.useState)(ce),E=v()(F,2),C=E[0],$=E[1],le=(0,d.useMemo)(function(){return S.map(function(k){return s()(s()({},k),{},{text:k.name})})},[S]),pe=(0,H.dW)(le,-1),de=(t=pe.items[pe.current])===null||t===void 0?void 0:t.id,we=(0,d.useState)(!0),Ne=v()(we,2),je=Ne[0],Te=Ne[1],Ee=function(){(0,R.ev)().then(function(V){x(V||{name:"",id:""}),Te(!1)}).catch(function(V){}).finally()},Me=function(){var V,ve=C.loadName;if(!(!ve||!de)){var ee=U==null?void 0:U.map(function(ye){return{processId:ye.context["@id"],paramValue:ye.value.toString(),paramName:ye.name,dateTime:(0,ae.p6)()}}),he=(V=Z.lcaParamList)!==null&&V!==void 0&&V.length?Z:{lcaParamList:ee.length?ee:void 0},X=s()(s()({},he),{},{loadName:ve,productId:de});(0,R.E)(X).then(function(ye){typeof n=="function"&&n()}).catch(function(ye){}).finally(function(){typeof r=="function"&&r()})}};(0,d.useEffect)(function(){Ee()},[]);var Ae=function(){de&&p(!0)},Ie=function(V){var ve=V.target,ee=ve.name,he=ve.value;$(function(X){return s()(s()({},X),{},g()({},ee,he))})},Le=function(){var k=f()(h()().mark(function V(){return h()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:(0,R.NF)(de).then(function(he){var X=JSON.parse(he.paramDetail)[0]||[];se(JSON.stringify(X)==="{}"||!(X!=null&&X.parameters)?[]:X==null?void 0:X.parameters)}).catch(function(he){}).finally();case 1:case"end":return ee.stop()}},V)}));return function(){return k.apply(this,arguments)}}();return(0,d.useEffect)(function(){de&&Le()},[de]),je?null:(0,i.jsxs)(d.Fragment,{children:[(0,i.jsx)(j.u_,{className:"rounded-lg",containerClassName:"mx-5 w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",title:"\u65B0\u5EFA\u78B3\u8DB3\u8FF9\u7ED3\u679C",onClose:r,children:(0,i.jsxs)("div",{className:"mx-5 w-[640px] ",children:[(0,i.jsx)("span",{className:"font-normal leading-6 ",children:"\u78B3\u8DB3\u8FF9\u6279\u6B21\uFF1A"}),(0,i.jsx)("input",{value:C.loadName,onChange:Ie,id:"loadName",name:"loadName",maxLength:30,className:"w-full mb-[20px] mt-[10px] px-5 border border-[#DDDDDD]  h-[50px]  bg-[#F8F8F8] rounded-lg"}),(0,i.jsx)("div",{className:"font-normal leading-6  mb-[10px]",children:"\u4EA7\u54C1\u7CFB\u7EDF\uFF1A"}),(0,i.jsx)(H.ub,s()(s()({},pe),{},{openClassName:"max-h-[9rem] bg-white  rounded-lg py-3 "})),(0,i.jsx)("div",{className:"mt-5 font-normal leading-6",children:"\u5B9E\u666F\u6570\u636E\u586B\u62A5\uFF1A"}),(0,i.jsx)("div",{onClick:function(){return Ae()},className:" flex cursor-pointer rounded-[4px] leading-4 text-[16px] mt-[10px] bg-[#F1F1F1] w-[84px] h-[24px]  text-center items-center justify-center ",children:"\u524D\u5F80\u586B\u5199"}),(0,i.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5",children:[(0,i.jsx)(M.u,{onClick:r,defStyle:"btn-primary-1",className:"flex-1  font-normal  h-[50px] border-2 text-[18px]",children:"\u53D6\u6D88"}),(0,i.jsx)(M.u,{className:"flex-1 h-[50px]  font-normal  text-[18px]",onClick:Me,disabled:!de||!C.loadName,children:"\u8BA1\u7B97\u78B3\u7ED3\u679C"})]})]})}),l&&(0,i.jsx)(J,{realData:B,tableData:U,realArr:Z.lcaParamList,onOpenModal:function(){return p(!1)}})]})},q=Q,z,fe=(z={},g()(z,-1,{color:"text-[red]",text:"\u8BA1\u7B97\u5931\u8D25"}),g()(z,0,{color:"text-[#FF9800]",text:"\u7B49\u5F85\u8BA1\u7B97"}),g()(z,1,{color:"text-green-2",text:"\u67E5\u770B\u7ED3\u679C"}),g()(z,2,{color:"text-blue-600",text:"\u6B63\u5728\u8BA1\u7B97"}),z);function me(){var oe=(0,d.useState)(1),e=v()(oe,2),t=e[0],r=e[1],n=(0,d.useState)(!1),o=v()(n,2),c=o[0],l=o[1],p=(0,d.useState)(!1),b=v()(p,2),N=b[0],S=b[1],x=(0,d.useRef)({inputData:"",data:""}),m=function(E){var C=E.param,$=E.paramDetail;x.current={inputData:C,data:$},S(!0)},L=(0,d.useMemo)(function(){return[{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",dataIndex:"loadName",width:180,ellipsis:!0},{title:"\u5B9E\u666F\u6570\u636E",valueType:"option",width:120,render:function(E,C){return[(0,i.jsx)("div",{className:"flex justify-center whitespace-nowrap px-2.5 bg-[#F1F1F1] rounded",onClick:function(){return m(C)},children:(0,i.jsx)("span",{className:"cursor-pointer",children:"\u67E5\u770B\u5B9E\u666F\u6570\u636E"})},"key_look_real")]}},{title:"\u6279\u6B21\u7ED3\u679CID",dataIndex:"loadNumber",width:170,renderText:Y.zL},{title:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",width:128,dataIndex:"productName",ellipsis:!0},{title:"\u7CFB\u7EDF\u4EA7\u54C1ID",dataIndex:"productUuid",width:170,renderText:Y.zL},{title:"\u63CF\u8FF0",dataIndex:"productDescription",width:300,ellipsis:!0},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"operator",width:100,ellipsis:!0},{title:"\u751F\u6210\u65F6\u95F4",dataIndex:"calculateSuccessTime",valueType:"dateTime",width:180},{title:"\u78B3\u8DB3\u8FF9\u7ED3\u679C",dataIndex:"state",width:130,render:function(E,C){var $,le;return(0,i.jsx)("div",{className:ge()({"cursor-pointer":C.state===1},($=fe[C.state])===null||$===void 0?void 0:$.color),onClick:function(){C.state===1&&ne.history.push("/main/tools/inventory/result?id=".concat(C.loadNumber))},children:(le=fe[C.state])===null||le===void 0?void 0:le.text})}},{title:"\u7EC4\u7EC7\u540D\u79F0",dataIndex:"orgName",width:130,ellipsis:!0},{title:"\u7EC4\u7EC7\u7F16\u53F7",dataIndex:"orgSerialNumber",width:130,ellipsis:!0}]},[]),Z=(0,w.cc)(t,1e4),B=Z.data,re=Z.isLoading,ie=Z.mutate,U=(0,d.useMemo)(function(){return((B==null?void 0:B.records)||[]).map(function(F,E){return s()(s()({},F),{},{key:"key_inventory_"+E})})},[B]),se=(0,te.b)();return(0,i.jsxs)(D.Z,{title:"\u6211\u7684\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u7ED3\u679C",extra:se?[(0,i.jsx)(M.u,{onClick:function(){return l(!0)},children:"\u65B0\u5EFA\u78B3\u8DB3\u8FF9\u7ED3\u679C"},"new_inventory")]:[],children:[(0,i.jsx)("div",{className:"bg-white",children:(0,i.jsx)(Y.ZP,{columns:L,dataSource:U,loading:re,pagination:{pageSize:10,total:(B==null?void 0:B.total)||0,onChange:function(E){r(E)}}})}),c&&(0,i.jsx)(q,{openResultModal:function(){return l(!1)},getList:function(){r(1),t===1&&ie()}}),N&&(0,i.jsx)(A.d,s()(s()({},x.current),{},{onClose:function(){return S(!1)}}))]})}var K=me,_=function(){var oe=(0,ne.useLocation)(),e=oe.pathname;return console.info("inventoryPage:",e),e!=="/main/tools/inventory"?(0,i.jsx)(ne.Outlet,{}):(0,i.jsx)(K,{})}},38143:function(O,y,a){a.d(y,{ZP:function(){return _}});const G=new Set,s=new WeakMap,P=new WeakMap,v=new WeakMap,W=new WeakMap,g=new WeakMap,D=new WeakMap,Y=new WeakMap,M=new WeakSet;let A;const w="__aa_tgt",te="__aa_del",ne=e=>{const t=H(e);t&&t.forEach(r=>ae(r))},I=e=>{e.forEach(t=>{t.target===A&&xe(),s.has(t.target)&&d(t.target)})};function ge(e){const t=W.get(e);t==null||t.disconnect();let r=s.get(e),n=0;const o=5;r||(r=i(e),s.set(e,r));const{offsetWidth:c,offsetHeight:l}=A,b=[r.top-o,c-(r.left+o+r.width),l-(r.top+o+r.height),r.left-o].map(S=>`${-1*Math.floor(S)}px`).join(" "),N=new IntersectionObserver(()=>{++n>1&&d(e)},{root:A,threshold:1,rootMargin:b});N.observe(e),W.set(e,N)}function d(e){clearTimeout(Y.get(e));const t=J(e),r=typeof t=="function"?500:t.duration;Y.set(e,setTimeout(()=>De(this,null,function*(){const n=v.get(e);try{yield n==null?void 0:n.finished,s.set(e,i(e)),ge(e)}catch(o){}}),r))}function xe(){clearTimeout(Y.get(A)),Y.set(A,setTimeout(()=>{G.forEach(e=>q(e,t=>u(()=>d(t))))},100))}function h(e){setTimeout(()=>{g.set(e,setInterval(()=>u(d.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function u(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let f,j;typeof window!="undefined"&&(A=document.documentElement,f=new MutationObserver(ne),j=new ResizeObserver(I),j.observe(A));function H(e){return e.reduce((n,o)=>[...n,...Array.from(o.addedNodes),...Array.from(o.removedNodes)],[]).every(n=>n.nodeName==="#comment")?!1:e.reduce((n,o)=>{if(n===!1)return!1;if(o.target instanceof Element){if(R(o.target),!n.has(o.target)){n.add(o.target);for(let c=0;c<o.target.children.length;c++){const l=o.target.children.item(c);if(l){if(te in l)return!1;R(o.target,l),n.add(l)}}}if(o.removedNodes.length)for(let c=0;c<o.removedNodes.length;c++){const l=o.removedNodes[c];if(te in l)return!1;l instanceof Element&&(n.add(l),R(o.target,l),P.set(l,[o.previousSibling,o.nextSibling]))}}return n},new Set)}function R(e,t){!t&&!(w in e)?Object.defineProperty(e,w,{value:e}):t&&!(w in t)&&Object.defineProperty(t,w,{value:e})}function ae(e){var t;const r=e.isConnected,n=s.has(e);r&&P.has(e)&&P.delete(e),v.has(e)&&((t=v.get(e))===null||t===void 0||t.cancel()),n&&r?z(e):n&&!r?me(e):fe(e)}function T(e){return Number(e.replace(/[^0-9.\-]/g,""))}function i(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function ue(e,t,r){let n=t.width,o=t.height,c=r.width,l=r.height;const p=getComputedStyle(e);if(p.getPropertyValue("box-sizing")==="content-box"){const N=T(p.paddingTop)+T(p.paddingBottom)+T(p.borderTopWidth)+T(p.borderBottomWidth),S=T(p.paddingLeft)+T(p.paddingRight)+T(p.borderRightWidth)+T(p.borderLeftWidth);n-=S,c-=S,o-=N,l-=N}return[n,c,o,l].map(Math.round)}function J(e){return w in e&&D.has(e[w])?D.get(e[w]):{duration:250,easing:"ease-in-out"}}function ce(e){if(w in e)return e[w]}function Q(e){const t=ce(e);return t?M.has(t):!1}function q(e,...t){t.forEach(r=>r(e,D.has(e)));for(let r=0;r<e.children.length;r++){const n=e.children.item(r);n&&t.forEach(o=>o(n,D.has(n)))}}function z(e){const t=s.get(e),r=i(e);if(!Q(e))return s.set(e,r);let n;if(!t)return;const o=J(e);if(typeof o!="function"){const c=t.left-r.left,l=t.top-r.top,[p,b,N,S]=ue(e,t,r),x={transform:`translate(${c}px, ${l}px)`},m={transform:"translate(0, 0)"};p!==b&&(x.width=`${p}px`,m.width=`${b}px`),N!==S&&(x.height=`${N}px`,m.height=`${S}px`),n=e.animate([x,m],{duration:o.duration,easing:o.easing})}else n=new Animation(o(e,"remain",t,r)),n.play();v.set(e,n),s.set(e,r),n.addEventListener("finish",d.bind(null,e))}function fe(e){const t=i(e);s.set(e,t);const r=J(e);if(!Q(e))return;let n;typeof r!="function"?n=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:r.duration*1.5,easing:"ease-in"}):(n=new Animation(r(e,"add",t)),n.play()),v.set(e,n),n.addEventListener("finish",d.bind(null,e))}function me(e){var t;if(!P.has(e)||!s.has(e))return;const[r,n]=P.get(e);Object.defineProperty(e,te,{value:!0}),n&&n.parentNode&&n.parentNode instanceof Element?n.parentNode.insertBefore(e,n):r&&r.parentNode?r.parentNode.appendChild(e):(t=ce(e))===null||t===void 0||t.appendChild(e);function o(){var m;e.remove(),s.delete(e),P.delete(e),v.delete(e),(m=W.get(e))===null||m===void 0||m.disconnect()}if(!Q(e))return o();const[c,l,p,b]=K(e),N=J(e),S=s.get(e);let x;Object.assign(e.style,{position:"absolute",top:`${c}px`,left:`${l}px`,width:`${p}px`,height:`${b}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof N!="function"?x=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:N.duration,easing:"ease-out"}):(x=new Animation(N(e,"remove",S)),x.play()),v.set(e,x),x.addEventListener("finish",o)}function K(e){const t=s.get(e),[r,,n]=ue(e,t,i(e));let o=e.parentElement;for(;o&&(getComputedStyle(o).position==="static"||o instanceof HTMLBodyElement);)o=o.parentElement;o||(o=document.body);const c=getComputedStyle(o),l=s.get(o)||i(o),p=Math.round(t.top-l.top)-T(c.borderTopWidth),b=Math.round(t.left-l.left)-T(c.borderLeftWidth);return[p,b,r,n]}function _(e,t={}){return f&&j&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof t!="function"&&!t.disrespectUserMotionPreference||(M.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),q(e,d,h,o=>j==null?void 0:j.observe(o)),typeof t=="function"?D.set(e,t):D.set(e,Ce({duration:250,easing:"ease-in-out"},t)),f.observe(e,{childList:!0}),G.add(e))),Object.freeze({parent:e,enable:()=>{M.add(e)},disable:()=>{M.delete(e)},isEnabled:()=>M.has(e)})}const oe={mounted:(e,t)=>{_(e,t.value||{})}}}}]);
}());