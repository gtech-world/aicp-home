"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[9725],{62353:function(je,V,t){t.d(V,{dW:function(){return ie},ub:function(){return he}});var k=t(86378),u=t.n(k),X=t(30577),f=t.n(X),v=t(75974),C=t(84875),d=t.n(C),c=t(50959),se=t(1950),F=t(99592),w=t(77588),h=t(11527);function ie(m){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=(0,c.useState)(n),j=f()(l,2),y=j[0],S=j[1];return(0,c.useEffect)(function(){S(n)},[m,n]),{onChange:S,items:m,current:y}}function ve(m){var n=m.items,l=m.current,j=m.onChange,y=m.className,S=y===void 0?"bg-white text-black px-5 py-3 text-lg rounded-lg w-[31.25rem] mo:w-full mo:text-sm":y,r=m.currentClassName,A=r===void 0?"flex justify-between items-center":r,e=m.openClassName,Y=e===void 0?"max-h-[18rem] bg-white  rounded-lg py-3 ":e,z=n[l]?n[l].text:"",g=(0,F.Z)(!1),E=f()(g,2),q=E[0],ee=E[1],P=(0,c.useCallback)(function($){l!==$&&j($)},[l]),H=(0,v.E)("t-side");return(0,w.Z)(H,function(){return q&&ee(!1)}),n.length===0?null:(0,h.jsxs)("div",{ref:H,className:d()("relative cursor-pointer",S),onClick:function(){return ee()},children:[(0,h.jsxs)("div",{className:A,children:[(0,h.jsx)("span",{className:"truncate",children:z}),q?(0,h.jsx)(se.pzk,{}):(0,h.jsx)(se._i7,{})]}),q&&(0,h.jsx)("div",{className:d()("absolute z-[100] left-0 w-full overflow-x-hidden overflow-y-auto",Y),style:{boxShadow:"0px 5px 15px rgba(0, 0, 0, 0.15)",top:"calc(100% + 8px)"},children:(0,h.jsx)("div",{className:"",children:n.map(function($,W){return(0,h.jsx)("div",{style:{},className:d()("w-full break-all px-5 py-2 text-sm hover:bg-gray-16",{"text-green-2":W===l}),onClick:function(){return P(W)},children:$.text},"select_item_".concat(W))})})})]})}var he=function(n){return(0,h.jsx)(ve,u()({className:"h-[50px] px-5 items-center bg-stone-50 rounded-lg border border-neutral-200",currentClassName:"h-full flex justify-between items-center"},n))}},10225:function(je,V,t){t.d(V,{d:function(){return he}});var k=t(86378),u=t.n(k),X=t(28488),f=t.n(X),v=t(72121),C=t(50959),d=t(11527);function c(){return(0,d.jsx)("tr",{className:"text-lg font-normal text-center text-black ",children:(0,d.jsx)("td",{colSpan:100,className:"h-[100px] py-5 align-top",children:"\u65E0\u6570\u636E"})})}var se=function(n){var l=n.header,j=n.data,y=n.empty,S=y===void 0?(0,d.jsx)(c,{}):y,r=n.className,A=r===void 0?"relative min-w-full bg-neutral-200 ":r,e=n.headerClassName,Y=e===void 0?"bg-neutral-200 sticky top-0 text-left text-black text-lg font-bold leading-[27px]":e,z=n.headerItemClassName,g=z===void 0?"p-3":z,E=n.tbodyClassName,q=E===void 0?"bg-white ":E,ee=n.rowClassName,P=ee===void 0?"text-black text-sm font-normal whitespace-nowrap":ee,H=n.cellClassName,$=H===void 0?"p-3":H;return(0,d.jsxs)("table",{className:A,children:[(0,d.jsx)("thead",{children:(0,d.jsx)("tr",{className:Y,children:l.map(function(W,ue){return(0,d.jsx)("th",{scope:"col",className:g,children:W},ue)})})}),(0,d.jsxs)("tbody",{className:q,children:[j.map(function(W,ue){return(0,d.jsx)("tr",{className:P,children:W.map(function(ge,b){return(0,d.jsx)("td",{className:$,children:ge},b)})},ue)}),j.length===0&&S]})]})},F=se,w=t(89850),h=t(32699),ie=t.n(h),ve=["data","inputData","header"];function he(m){var n=m.data,l=m.inputData,j=m.header,y=j===void 0?["\u53C2\u6570\u540D","\u8FC7\u7A0B\u540D\u79F0","\u53C2\u8003\u503C","\u8F93\u5165\u503C"]:j,S=f()(m,ve),r=(0,C.useMemo)(function(){var A;if(!n)return[];var e=l?ie().mapKeys(typeof l=="string"?(0,w.OA)(l)||[]:l,function(g){return g.paramName}):{},Y=(0,w.OA)(n)||[],z=((A=Y[0])===null||A===void 0?void 0:A.parameters)||[];return z.map(function(g){var E;return[g.name,g.context.name,g.value,((E=e[g.name])===null||E===void 0?void 0:E.paramValue)||""]})},[n,l]);return(0,d.jsx)(v.u_,u()(u()({title:"\u5B9E\u666F\u6570\u636E"},S),{},{children:(0,d.jsx)("div",{className:"w-[40rem] px-5 max-h-mc overflow-y-auto",children:(0,d.jsx)(F,{data:r,header:y})})}))}},81609:function(je,V,t){t.d(V,{b:function(){return X},n:function(){return u}});var k=t(33665);function u(){var f=(0,k.oR)(),v=f.userData,C=f.inited;return C&&(v==null?void 0:v.role)==="verify"}function X(){var f=(0,k.oR)(),v=f.userData,C=f.inited;return C&&(v==null?void 0:v.role)!=="verify"}},11257:function(je,V,t){t.r(V),t.d(V,{default:function(){return ue}});var k=t(86378),u=t.n(k),X=t(58357),f=t.n(X),v=t(71977),C=t.n(v),d=t(30577),c=t.n(d),se=t(24047),F=t.n(se),w=t(67454),h=t(67747),ie=t(51500),ve=t(98286),he=t(10225),m=t(81609),n=t(97707),l=t(89850),j=t(35016),y=t(84875),S=t.n(y),r=t(50959),A=t(72121),e=t(11527),Y=function(b){var p=b.onOpenModal,L=b.realData,N=b.tableData,I=b.realArr,U=(0,r.useState)(N),de=c()(U,2),ce=de[0],me=de[1],xe=function(){for(var x,D=(x=document)===null||x===void 0?void 0:x.getElementById("realDataTable"),_=D.getElementsByTagName("tr"),ae=[],ne=0;ne<_.length;ne++){for(var G=[],K=_[ne].getElementsByTagName("input"),J=0;J<K.length;J++){var Ne=K[J].value;G.push(Ne)}ae.push(G)}var re=[];re=N==null?void 0:N.map(function(le,o){var a={processId:le.context["@id"],paramValue:ae.slice(1)[o][0]||le.value.toString(),paramName:le.name,dateTime:(0,l.Ux)()};return a});var Z={lcaParamList:re};typeof p=="function"&&p(),typeof L=="function"&&L(Z)};(0,r.useEffect)(function(){var R=N==null?void 0:N.map(function(x,D){return I!=null&&I.length&&I[D].paramName===x.name?u()(u()({},x),{},{inputValue:I[D].paramValue}):u()({},x)});me(R)},[I,N]);var te=[{title:"\u53C2\u6570\u540D",dataIndex:"name",width:"9rem",render:function(x){return(0,e.jsx)("div",{className:" flex items-center h-[33px] font-normal leading-[21px] text-[14px] ",children:x})}},{title:"\u8FC7\u7A0B\u540D\u79F0",dataIndex:"name",width:"7rem",render:function(x,D){return(0,e.jsx)("div",{className:"flex items-center  h-[33px] font-normal leading-[21px] text-[14px] ",children:D.context.name})}},{title:"\u53C2\u8003\u503C",width:"10rem",dataIndex:"value",render:function(x){return(0,e.jsx)("div",{className:"flex items-center h-[33px] font-normal leading-[21px] text-[14px] ",children:x})}},{title:"\u586B\u5165\u503C",width:"10rem",dataIndex:"createTime",render:function(x,D){return(0,e.jsx)("input",{defaultValue:D.inputValue,type:"number",className:"font-normal  leading-[21px] text-[14px] w-[10rem] h-[33px] "})}}];return(0,e.jsxs)(A.u_,{title:"\u5B9E\u666F\u6570\u636E\u586B\u62A5",containerClassName:"mx-5 max-w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",onClose:typeof p=="function"&&p||void 0,children:[(0,e.jsx)("div",{className:" mx-5 w-[640px] max-h-[400px] overflow-y-auto ",children:(0,e.jsx)(ie.i,{columns:te,tableId:"realDataTable",data:ce||[],isSetBorder:!0,maxHeight:"calc(100vh - 260px)",headerClassName:{background:"#DDDDDD",position:"sticky",top:"-1px",fontWeight:"700",fontSize:"18px",lineHeight:"30px",height:"50px"}})}),(0,e.jsx)("div",{className:"mx-5 ",children:(0,e.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5",children:[(0,e.jsx)(w.u,{onClick:typeof p=="function"&&p||void 0,defStyle:"btn-primary-1",className:"flex-1  font-normal  h-[50px] border-2 text-[18px]",children:"\u53D6\u6D88"}),(0,e.jsx)(w.u,{className:"flex-1 h-[50px]  font-normal  text-[18px]",onClick:xe,children:"\u786E\u5B9A"})]})})]})},z=Y,g=t(62353),E={loadName:"",productId:""},q=function(b){var p,L=b.openResultModal,N=b.getList,I=(0,r.useState)(!1),U=c()(I,2),de=U[0],ce=U[1],me=(0,r.useState)([{name:"",id:""}]),xe=c()(me,2),te=xe[0],R=xe[1],x=(0,r.useState)({lcaParamList:[]}),D=c()(x,2),_=D[0],ae=D[1],ne=(0,r.useState)([]),G=c()(ne,2),K=G[0],J=G[1],Ne=(0,r.useState)(E),re=c()(Ne,2),Z=re[0],le=re[1],o=(0,r.useMemo)(function(){return te.map(function(O){return u()(u()({},O),{},{text:O.name})})},[te]),a=(0,g.dW)(o,-1),s=(p=a.items[a.current])===null||p===void 0?void 0:p.id,i=(0,r.useState)(!0),oe=c()(i,2),B=oe[0],be=oe[1],Ce=function(){(0,n.ev)().then(function(M){R(M||{name:"",id:""}),be(!1)}).catch(function(M){}).finally()},ye=function(){var M,fe=Z.loadName;if(!(!fe||!s)){var Q=K==null?void 0:K.map(function(De){return{processId:De.context["@id"],paramValue:De.value.toString(),paramName:De.name,dateTime:(0,l.Ux)()}}),pe=(M=_.lcaParamList)!==null&&M!==void 0&&M.length?_:{lcaParamList:Q.length?Q:void 0},T=u()(u()({},pe),{},{loadName:fe,productId:s});(0,n.E)(T).then(function(De){typeof N=="function"&&N()}).catch(function(De){}).finally(function(){typeof L=="function"&&L()})}};(0,r.useEffect)(function(){Ce()},[]);var Se=function(){s&&ce(!0)},Ee=function(M){var fe=M.target,Q=fe.name,pe=fe.value;le(function(T){return u()(u()({},T),{},F()({},Q,pe))})},Ie=function(){var O=C()(f()().mark(function M(){return f()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:(0,n.NF)(s).then(function(pe){var T=JSON.parse(pe.paramDetail)[0]||[];J(JSON.stringify(T)==="{}"||!(T!=null&&T.parameters)?[]:T==null?void 0:T.parameters)}).catch(function(pe){}).finally();case 1:case"end":return Q.stop()}},M)}));return function(){return O.apply(this,arguments)}}();return(0,r.useEffect)(function(){s&&Ie()},[s]),B?null:(0,e.jsxs)(r.Fragment,{children:[(0,e.jsx)(A.u_,{className:"rounded-lg",containerClassName:"mx-5 w-[640px]",titleClassName:"text-[20px] leading-5 font-bold",title:"\u65B0\u5EFA\u78B3\u8DB3\u8FF9\u7ED3\u679C",onClose:L,children:(0,e.jsxs)("div",{className:"mx-5 w-[640px] ",children:[(0,e.jsx)("span",{className:"font-normal leading-6 ",children:"\u78B3\u8DB3\u8FF9\u6279\u6B21\uFF1A"}),(0,e.jsx)("input",{value:Z.loadName,onChange:Ee,id:"loadName",name:"loadName",maxLength:30,className:"w-full mb-[20px] mt-[10px] px-5 border border-[#DDDDDD]  h-[50px]  bg-[#F8F8F8] rounded-lg"}),(0,e.jsx)("div",{className:"font-normal leading-6  mb-[10px]",children:"\u4EA7\u54C1\u7CFB\u7EDF\uFF1A"}),(0,e.jsx)(g.ub,u()(u()({},a),{},{openClassName:"max-h-[9rem] bg-white  rounded-lg py-3 "})),(0,e.jsx)("div",{className:"mt-5 font-normal leading-6",children:"\u5B9E\u666F\u6570\u636E\u586B\u62A5\uFF1A"}),(0,e.jsx)("div",{onClick:function(){return Se()},className:" flex cursor-pointer rounded-[4px] leading-4 text-[16px] mt-[10px] bg-[#F1F1F1] w-[84px] h-[24px]  text-center items-center justify-center ",children:"\u524D\u5F80\u586B\u5199"}),(0,e.jsxs)("div",{className:"flex flex-row justify-between gap-5 mt-5",children:[(0,e.jsx)(w.u,{onClick:L,defStyle:"btn-primary-1",className:"flex-1  font-normal  h-[50px] border-2 text-[18px]",children:"\u53D6\u6D88"}),(0,e.jsx)(w.u,{className:"flex-1 h-[50px]  font-normal  text-[18px]",onClick:ye,disabled:!s||!Z.loadName,children:"\u8BA1\u7B97\u78B3\u7ED3\u679C"})]})]})}),de&&(0,e.jsx)(z,{realData:ae,tableData:K,realArr:_.lcaParamList,onOpenModal:function(){return ce(!1)}})]})},ee=q,P,H=(P={},F()(P,-1,{color:"text-[red]",text:"\u8BA1\u7B97\u5931\u8D25"}),F()(P,0,{color:"text-[#FF9800]",text:"\u7B49\u5F85\u8BA1\u7B97"}),F()(P,1,{color:"text-green-2",text:"\u67E5\u770B\u7ED3\u679C"}),F()(P,2,{color:"text-blue-600",text:"\u6B63\u5728\u8BA1\u7B97"}),P);function $(){var ge=(0,r.useState)(1),b=c()(ge,2),p=b[0],L=b[1],N=(0,r.useState)({}),I=c()(N,2),U=I[0],de=I[1],ce=(0,r.useState)(!1),me=c()(ce,2),xe=me[0],te=me[1],R=(0,r.useState)(!1),x=c()(R,2),D=x[0],_=x[1],ae=(0,r.useRef)({inputData:"",data:""}),ne=(0,r.useState)(!0),G=c()(ne,2),K=G[0],J=G[1],Ne=function(a){var s=a.param,i=a.paramDetail;ae.current={inputData:s,data:i},_(!0)},re=(0,r.useMemo)(function(){return[{title:"\u78B3\u8DB3\u8FF9\u6279\u6B21",dataIndex:"loadName",width:"180px",render:function(a){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-place":"top-start","data-tooltip-content":(0,l.iT)(a,9),className:"w-[180px] font-normal  text-lg leading-[27px] truncate inline-block",children:a})}},{title:"\u5B9E\u666F\u6570\u636E",dataIndex:"productName",width:"6rem",render:function(a,s){return(0,e.jsx)("div",{className:"flex justify-center text-lg leading-[27px]  w-[8rem] bg-[#F1F1F1] rounded",onClick:function(){return Ne(s)},children:(0,e.jsx)("span",{className:"cursor-pointer ",children:"\u67E5\u770B\u5B9E\u666F\u6570\u636E"})})}},{title:"\u6279\u6B21\u7ED3\u679CID",dataIndex:"loadNumber",width:"8rem",render:function(a){return(0,e.jsx)("span",{"data-tooltip-content":a,"data-tooltip-id":"tooltip",className:" text-lg leading-[27px] w-[13rem]  truncate inline-block",children:(0,l.lS)(a,8,8)})}},{title:"\u4EA7\u54C1\u7CFB\u7EDF\u540D\u79F0",width:"2rem",dataIndex:"productName",render:function(a){return(0,e.jsx)("span",{"data-tooltip-content":(0,l.iT)(a,15),"data-tooltip-id":"tooltip",className:" text-lg  truncate inline-block leading-[27px] max-w-[14rem] ",children:a})}},{title:"\u7CFB\u7EDF\u4EA7\u54C1ID",width:"7rem",dataIndex:"productUuid",render:function(a){return(0,e.jsx)("span",{"data-tooltip-content":a,"data-tooltip-id":"tooltip",className:"w-[13rem] text-lg leading-[27px]  truncate inline-block",children:(0,l.lS)(a,8,8)})}},{title:"\u63CF\u8FF0",dataIndex:"productDescription",width:"18.75rem",render:function(a){return(0,e.jsx)("span",{"data-tooltip-content":(0,l.iT)(a,11),"data-tooltip-id":"tooltip",className:"w-[13rem]  text-lg leading-[27px] truncate inline-block",children:a||"-"})}},{title:"\u64CD\u4F5C\u4EBA",dataIndex:"operator",width:"6.25rem",render:function(a){return(0,e.jsx)("span",{"data-tooltip-content":(0,l.iT)(a,19),"data-tooltip-id":"tooltip",className:" truncate inline-block text-lg leading-[27px] max-w-[14rem] ",children:a})}},{title:"\u751F\u6210\u65F6\u95F4",dataIndex:"calculateSuccessTime",width:"18.625rem",render:function(a){return(0,e.jsx)("span",{className:"max-w-[11rem] text-lg leading-[27px]  truncate inline-block",children:a})}},{title:"\u78B3\u8DB3\u8FF9\u7ED3\u679C",dataIndex:"description",width:"8.125rem",render:function(a,s){var i,oe;return(0,e.jsx)("div",{className:S()("flex justify-between ".concat((i=H[s==null?void 0:s.state])===null||i===void 0?void 0:i.color)),children:(0,e.jsx)(j.Link,{className:"cursor-pointer text-lg leading-[27px]",to:s.state===1?"/tools/inventoryResult?id=".concat(s.loadNumber):"",children:(oe=H[s==null?void 0:s.state])===null||oe===void 0?void 0:oe.text})})}},{title:"\u7EC4\u7EC7\u540D\u79F0",dataIndex:"orgName",width:"8.125rem",render:function(a){return(0,e.jsx)("span",{"data-tooltip-content":(0,l.iT)(a,11),"data-tooltip-id":"tooltip",className:"truncate inline-block text-lg leading-[27px] max-w-[14rem] ",children:a})}},{title:"\u7EC4\u7EC7\u7F16\u53F7",dataIndex:"orgSerialNumber",width:"8.125rem",emptyText:"-",render:function(a){return(0,e.jsx)("span",{"data-tooltip-id":"tooltip","data-tooltip-content":(0,l.iT)(a,11),className:"truncate inline-block text-lg leading-[27px] max-w-[14rem] ",children:a})}}]},[]),Z=(0,r.useCallback)(C()(f()().mark(function o(){var a;return f()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,n.h4)(p);case 3:a=i.sent,de(a),J(!1),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(0),console.log("eeee",i.t0);case 11:case"end":return i.stop()}},o,null,[[0,8]])})),[p]);(0,r.useEffect)(function(){var o=!1,a=function(){var s=C()(f()().mark(function i(){return f()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:if(!o){B.next=3;break}return B.abrupt("return");case 3:return B.next=5,Z();case 5:return B.next=7,(0,l._v)(1e4);case 7:B.next=0;break;case 9:case"end":return B.stop()}},i)}));return function(){return s.apply(this,arguments)}}();return a(),function(){o=!0}},[]);var le=(0,m.b)();return(0,e.jsxs)(ve.m,{isNew:!0,className:"flex flex-col justify-between flex-1 text-black ",canBack:!0,link:{pathName:"/tools/tools",homeTitle:"\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u5DE5\u5177\u96C6",currentTitle:"\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u5B9E\u666F\u6E05\u5355\u5DE5\u5177"},children:[(0,e.jsxs)("div",{className:"",children:[(0,e.jsxs)("h3",{className:"flex items-center justify-between text-2xl font-semibold",children:[(0,e.jsx)("span",{children:"\u6211\u7684\u4EA7\u54C1\u78B3\u8DB3\u8FF9\u7ED3\u679C"}),le&&(0,e.jsx)(w.z,{onClick:function(){return te(!0)},className:S()("w-40 text-lg font-normal text-white rounded-lg bg-green-2 h-11"),children:"\u65B0\u5EFA\u78B3\u8DB3\u8FF9\u7ED3\u679C"})]}),(0,e.jsx)("div",{className:"w-full p-5 mt-5 bg-white rounded-2xl",children:(0,e.jsx)("div",{className:"pb-6 mt-5 overflow-x-auto",children:(0,e.jsx)("div",{className:"text-base leading-[1.625rem] min-w-[62.25rem]",children:(0,e.jsx)(ie.i,{loading:K,columns:re,columnsHeight:"h-[3.125rem] ",mouseHoverKey:"loadNumber",columnsClassName:" cursor-default ",data:(U==null?void 0:U.records)||[],className:"",headerClassName:{background:"#fff",fontWeight:"700",fontSize:"18px",lineHeight:"27px",height:"3.125rem"}})})})})]}),(0,e.jsx)(h.t,{className:"my-8",onChange:function(a,s){L(a),!(a===1||!s)&&(J(!0),(0,l.k3)())},total:U.total||0,pgSize:10,pgNum:p}),xe&&(0,e.jsx)(ee,{openResultModal:function(){return te(!1)},getList:function(){L(1),p===1&&Z()}}),D&&(0,e.jsx)(he.d,u()(u()({},ae.current),{},{onClose:function(){return _(!1)}}))]})}var W=$,ue=W}}]);
